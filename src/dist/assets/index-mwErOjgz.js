var n0=s=>{throw TypeError(s)};var Jd=(s,e,t)=>e.has(s)||n0("Cannot "+t);var Ze=(s,e,t)=>(Jd(s,e,"read from private field"),t?t.call(s):e.get(s)),fr=(s,e,t)=>e.has(s)?n0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),ln=(s,e,t,n)=>(Jd(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),pr=(s,e,t)=>(Jd(s,e,"access private method"),t);var r0=(s,e,t,n)=>({set _(r){ln(s,e,r,t)},get _(){return Ze(s,e,n)}});function uy(s,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in s)){const a=Object.getOwnPropertyDescriptor(n,r);a&&Object.defineProperty(s,r,a.get?a:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function Bc(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Zd={exports:{}},Vo={},eh={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function sS(){if(s0)return Me;s0=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function m(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function S(O,H,ie){this.props=O,this.context=H,this.refs=b,this.updater=ie||y}S.prototype.isReactComponent={},S.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=S.prototype;function T(O,H,ie){this.props=O,this.context=H,this.refs=b,this.updater=ie||y}var C=T.prototype=new E;C.constructor=T,x(C,S.prototype),C.isPureReactComponent=!0;var P=Array.isArray,R=Object.prototype.hasOwnProperty,L={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function D(O,H,ie){var ae,oe={},le=null,ce=null;if(H!=null)for(ae in H.ref!==void 0&&(ce=H.ref),H.key!==void 0&&(le=""+H.key),H)R.call(H,ae)&&!N.hasOwnProperty(ae)&&(oe[ae]=H[ae]);var Ee=arguments.length-2;if(Ee===1)oe.children=ie;else if(1<Ee){for(var Ae=Array(Ee),we=0;we<Ee;we++)Ae[we]=arguments[we+2];oe.children=Ae}if(O&&O.defaultProps)for(ae in Ee=O.defaultProps,Ee)oe[ae]===void 0&&(oe[ae]=Ee[ae]);return{$$typeof:s,type:O,key:le,ref:ce,props:oe,_owner:L.current}}function j(O,H){return{$$typeof:s,type:O.type,key:H,ref:O.ref,props:O.props,_owner:O._owner}}function B(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function G(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return H[ie]})}var Y=/\/+/g;function Q(O,H){return typeof O=="object"&&O!==null&&O.key!=null?G(""+O.key):H.toString(36)}function X(O,H,ie,ae,oe){var le=typeof O;(le==="undefined"||le==="boolean")&&(O=null);var ce=!1;if(O===null)ce=!0;else switch(le){case"string":case"number":ce=!0;break;case"object":switch(O.$$typeof){case s:case e:ce=!0}}if(ce)return ce=O,oe=oe(ce),O=ae===""?"."+Q(ce,0):ae,P(oe)?(ie="",O!=null&&(ie=O.replace(Y,"$&/")+"/"),X(oe,H,ie,"",function(we){return we})):oe!=null&&(B(oe)&&(oe=j(oe,ie+(!oe.key||ce&&ce.key===oe.key?"":(""+oe.key).replace(Y,"$&/")+"/")+O)),H.push(oe)),1;if(ce=0,ae=ae===""?".":ae+":",P(O))for(var Ee=0;Ee<O.length;Ee++){le=O[Ee];var Ae=ae+Q(le,Ee);ce+=X(le,H,ie,Ae,oe)}else if(Ae=m(O),typeof Ae=="function")for(O=Ae.call(O),Ee=0;!(le=O.next()).done;)le=le.value,Ae=ae+Q(le,Ee++),ce+=X(le,H,ie,Ae,oe);else if(le==="object")throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ce}function re(O,H,ie){if(O==null)return O;var ae=[],oe=0;return X(O,ae,"","",function(le){return H.call(ie,le,oe++)}),ae}function U(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var V={current:null},K={transition:null},ee={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:K,ReactCurrentOwner:L};function te(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:re,forEach:function(O,H,ie){re(O,function(){H.apply(this,arguments)},ie)},count:function(O){var H=0;return re(O,function(){H++}),H},toArray:function(O){return re(O,function(H){return H})||[]},only:function(O){if(!B(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Me.Component=S,Me.Fragment=t,Me.Profiler=r,Me.PureComponent=T,Me.StrictMode=n,Me.Suspense=d,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Me.act=te,Me.cloneElement=function(O,H,ie){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ae=x({},O.props),oe=O.key,le=O.ref,ce=O._owner;if(H!=null){if(H.ref!==void 0&&(le=H.ref,ce=L.current),H.key!==void 0&&(oe=""+H.key),O.type&&O.type.defaultProps)var Ee=O.type.defaultProps;for(Ae in H)R.call(H,Ae)&&!N.hasOwnProperty(Ae)&&(ae[Ae]=H[Ae]===void 0&&Ee!==void 0?Ee[Ae]:H[Ae])}var Ae=arguments.length-2;if(Ae===1)ae.children=ie;else if(1<Ae){Ee=Array(Ae);for(var we=0;we<Ae;we++)Ee[we]=arguments[we+2];ae.children=Ee}return{$$typeof:s,type:O.type,key:oe,ref:le,props:ae,_owner:ce}},Me.createContext=function(O){return O={$$typeof:l,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Me.createElement=D,Me.createFactory=function(O){var H=D.bind(null,O);return H.type=O,H},Me.createRef=function(){return{current:null}},Me.forwardRef=function(O){return{$$typeof:c,render:O}},Me.isValidElement=B,Me.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:U}},Me.memo=function(O,H){return{$$typeof:h,type:O,compare:H===void 0?null:H}},Me.startTransition=function(O){var H=K.transition;K.transition={};try{O()}finally{K.transition=H}},Me.unstable_act=te,Me.useCallback=function(O,H){return V.current.useCallback(O,H)},Me.useContext=function(O){return V.current.useContext(O)},Me.useDebugValue=function(){},Me.useDeferredValue=function(O){return V.current.useDeferredValue(O)},Me.useEffect=function(O,H){return V.current.useEffect(O,H)},Me.useId=function(){return V.current.useId()},Me.useImperativeHandle=function(O,H,ie){return V.current.useImperativeHandle(O,H,ie)},Me.useInsertionEffect=function(O,H){return V.current.useInsertionEffect(O,H)},Me.useLayoutEffect=function(O,H){return V.current.useLayoutEffect(O,H)},Me.useMemo=function(O,H){return V.current.useMemo(O,H)},Me.useReducer=function(O,H,ie){return V.current.useReducer(O,H,ie)},Me.useRef=function(O){return V.current.useRef(O)},Me.useState=function(O){return V.current.useState(O)},Me.useSyncExternalStore=function(O,H,ie){return V.current.useSyncExternalStore(O,H,ie)},Me.useTransition=function(){return V.current.useTransition()},Me.version="18.3.1",Me}var i0;function jf(){return i0||(i0=1,eh.exports=sS()),eh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function iS(){if(o0)return Vo;o0=1;var s=jf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var f,g={},m=null,y=null;h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(y=d.ref);for(f in d)n.call(d,f)&&!a.hasOwnProperty(f)&&(g[f]=d[f]);if(c&&c.defaultProps)for(f in d=c.defaultProps,d)g[f]===void 0&&(g[f]=d[f]);return{$$typeof:e,type:c,key:m,ref:y,props:g,_owner:r.current}}return Vo.Fragment=t,Vo.jsx=l,Vo.jsxs=l,Vo}var a0;function oS(){return a0||(a0=1,Zd.exports=iS()),Zd.exports}var A=oS(),_=jf();const Qe=Bc(_),$f=uy({__proto__:null,default:Qe},[_]);var Yl={},th={exports:{}},cn={},nh={exports:{}},rh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function aS(){return l0||(l0=1,(function(s){function e(K,ee){var te=K.length;K.push(ee);e:for(;0<te;){var O=te-1>>>1,H=K[O];if(0<r(H,ee))K[O]=ee,K[te]=H,te=O;else break e}}function t(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var ee=K[0],te=K.pop();if(te!==ee){K[0]=te;e:for(var O=0,H=K.length,ie=H>>>1;O<ie;){var ae=2*(O+1)-1,oe=K[ae],le=ae+1,ce=K[le];if(0>r(oe,te))le<H&&0>r(ce,oe)?(K[O]=ce,K[le]=te,O=le):(K[O]=oe,K[ae]=te,O=ae);else if(le<H&&0>r(ce,te))K[O]=ce,K[le]=te,O=le;else break e}}return ee}function r(K,ee){var te=K.sortIndex-ee.sortIndex;return te!==0?te:K.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;s.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var d=[],h=[],f=1,g=null,m=3,y=!1,x=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(K){for(var ee=t(h);ee!==null;){if(ee.callback===null)n(h);else if(ee.startTime<=K)n(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=t(h)}}function P(K){if(b=!1,C(K),!x)if(t(d)!==null)x=!0,U(R);else{var ee=t(h);ee!==null&&V(P,ee.startTime-K)}}function R(K,ee){x=!1,b&&(b=!1,E(D),D=-1),y=!0;var te=m;try{for(C(ee),g=t(d);g!==null&&(!(g.expirationTime>ee)||K&&!G());){var O=g.callback;if(typeof O=="function"){g.callback=null,m=g.priorityLevel;var H=O(g.expirationTime<=ee);ee=s.unstable_now(),typeof H=="function"?g.callback=H:g===t(d)&&n(d),C(ee)}else n(d);g=t(d)}if(g!==null)var ie=!0;else{var ae=t(h);ae!==null&&V(P,ae.startTime-ee),ie=!1}return ie}finally{g=null,m=te,y=!1}}var L=!1,N=null,D=-1,j=5,B=-1;function G(){return!(s.unstable_now()-B<j)}function Y(){if(N!==null){var K=s.unstable_now();B=K;var ee=!0;try{ee=N(!0,K)}finally{ee?Q():(L=!1,N=null)}}else L=!1}var Q;if(typeof T=="function")Q=function(){T(Y)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,re=X.port2;X.port1.onmessage=Y,Q=function(){re.postMessage(null)}}else Q=function(){S(Y,0)};function U(K){N=K,L||(L=!0,Q())}function V(K,ee){D=S(function(){K(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_continueExecution=function(){x||y||(x=!0,U(R))},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return m},s.unstable_getFirstCallbackNode=function(){return t(d)},s.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var te=m;m=ee;try{return K()}finally{m=te}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=m;m=K;try{return ee()}finally{m=te}},s.unstable_scheduleCallback=function(K,ee,te){var O=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?O+te:O):te=O,K){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=te+H,K={id:f++,callback:ee,priorityLevel:K,startTime:te,expirationTime:H,sortIndex:-1},te>O?(K.sortIndex=te,e(h,K),t(d)===null&&K===t(h)&&(b?(E(D),D=-1):b=!0,V(P,te-O))):(K.sortIndex=H,e(d,K),x||y||(x=!0,U(R))),K},s.unstable_shouldYield=G,s.unstable_wrapCallback=function(K){var ee=m;return function(){var te=m;m=ee;try{return K.apply(this,arguments)}finally{m=te}}}})(rh)),rh}var c0;function lS(){return c0||(c0=1,nh.exports=aS()),nh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function cS(){if(u0)return cn;u0=1;var s=jf(),e=lS();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,r={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(r[i]=o,i=0;i<o.length;i++)n.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function m(i){return d.call(g,i)?!0:d.call(f,i)?!1:h.test(i)?g[i]=!0:(f[i]=!0,!1)}function y(i,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,o,u,p){if(o===null||typeof o>"u"||y(i,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,u,p,v,w,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=w,this.removeEmptyString=k}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(E,T);S[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(E,T);S[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(E,T);S[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function C(i,o,u,p){var v=S.hasOwnProperty(o)?S[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,u,v,p)&&(u=null),p||v===null?m(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,p=v.attributeNamespace,u===null?i.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?i.setAttributeNS(p,o,u):i.setAttribute(o,u))))}var P=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),L=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),K=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=K&&i[K]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,O;function H(i){if(O===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);O=o&&o[1]||""}return`
`+O+i}var ie=!1;function ae(i,o){if(!i||ie)return"";ie=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var p=W}Reflect.construct(i,[],o)}else{try{o.call()}catch(W){p=W}i.call(o.prototype)}else{try{throw Error()}catch(W){p=W}i()}}catch(W){if(W&&p&&typeof W.stack=="string"){for(var v=W.stack.split(`
`),w=p.stack.split(`
`),k=v.length-1,M=w.length-1;1<=k&&0<=M&&v[k]!==w[M];)M--;for(;1<=k&&0<=M;k--,M--)if(v[k]!==w[M]){if(k!==1||M!==1)do if(k--,M--,0>M||v[k]!==w[M]){var I=`
`+v[k].replace(" at new "," at ");return i.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",i.displayName)),I}while(1<=k&&0<=M);break}}}finally{ie=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?H(i):""}function oe(i){switch(i.tag){case 5:return H(i.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return i=ae(i.type,!1),i;case 11:return i=ae(i.type.render,!1),i;case 1:return i=ae(i.type,!0),i;default:return""}}function le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case L:return"Portal";case j:return"Profiler";case D:return"StrictMode";case Q:return"Suspense";case X:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case G:return(i.displayName||"Context")+".Consumer";case B:return(i._context.displayName||"Context")+".Provider";case Y:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case re:return o=i.displayName||null,o!==null?o:le(i.type)||"Memo";case U:o=i._payload,i=i._init;try{return le(i(o))}catch{}}return null}function ce(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(o);case 8:return o===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ae(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function we(i){var o=Ae(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){p=""+k,w.call(this,k)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function nt(i){i._valueTracker||(i._valueTracker=we(i))}function Ge(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=Ae(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function ke(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Le(i,o){var u=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function He(i,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Ee(o.value!=null?o.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function De(i,o){o=o.checked,o!=null&&C(i,"checked",o,!1)}function kt(i,o){De(i,o);var u=Ee(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?$t(i,o.type,u):o.hasOwnProperty("defaultValue")&&$t(i,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function It(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function $t(i,o,u){(o!=="number"||ke(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Ot=Array.isArray;function je(i,o,u,p){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Ee(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function qe(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function xt(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Ot(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ee(u)}}function Bt(i,o){var u=Ee(o.value),p=Ee(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function St(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Vr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Vr(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var mn,vn=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,v){MSApp.execUnsafeLocalFunction(function(){return i(o,u,p,v)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(mn=mn||document.createElement("div"),mn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Un(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gu=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(i){gu.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ws[o]=ws[i]})});function ja(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ws.hasOwnProperty(i)&&ws[i]?(""+o).trim():o+"px"}function $a(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=ja(u,o[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,v):i[u]=v}}var mu=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(i,o){if(o){if(mu[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function no(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ro=null;function so(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var io=null,Wr=null,Gr=null;function Ba(i){if(i=Ro(i)){if(typeof io!="function")throw Error(t(280));var o=i.stateNode;o&&(o=dl(o),io(i.stateNode,i.type,o))}}function za(i){Wr?Gr?Gr.push(i):Gr=[i]:Wr=i}function oo(){if(Wr){var i=Wr,o=Gr;if(Gr=Wr=null,Ba(i),o)for(i=0;i<o.length;i++)Ba(o[i])}}function bs(i,o){return i(o)}function xs(){}var Ss=!1;function ni(i,o,u){if(Ss)return i(o,u);Ss=!0;try{return bs(i,o,u)}finally{Ss=!1,(Wr!==null||Gr!==null)&&(xs(),oo())}}function _n(i,o){var u=i.stateNode;if(u===null)return null;var p=dl(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var ar=!1;if(c)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){ar=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{ar=!1}function vu(i,o,u,p,v,w,k,M,I){var W=Array.prototype.slice.call(arguments,3);try{o.apply(u,W)}catch(Z){this.onError(Z)}}var rt=!1,Es=null,ri=!1,st=null,Et={onError:function(i){rt=!0,Es=i}};function kn(i,o,u,p,v,w,k,M,I){rt=!1,Es=null,vu.apply(Et,arguments)}function Tn(i,o,u,p,v,w,k,M,I){if(kn.apply(this,arguments),rt){if(rt){var W=Es;rt=!1,Es=null}else throw Error(t(198));ri||(ri=!0,st=W)}}function Rn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ha(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ao(i){if(Rn(i)!==i)throw Error(t(188))}function lo(i){var o=i.alternate;if(!o){if(o=Rn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,p=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return ao(v),i;if(w===p)return ao(v),o;w=w.sibling}throw Error(t(188))}if(u.return!==p.return)u=v,p=w;else{for(var k=!1,M=v.child;M;){if(M===u){k=!0,u=v,p=w;break}if(M===p){k=!0,p=v,u=w;break}M=M.sibling}if(!k){for(M=w.child;M;){if(M===u){k=!0,u=w,p=v;break}if(M===p){k=!0,p=w,u=v;break}M=M.sibling}if(!k)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function co(i){return i=lo(i),i!==null?Ua(i):null}function Ua(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ua(i);if(o!==null)return o;i=i.sibling}return null}var Va=e.unstable_scheduleCallback,Pn=e.unstable_cancelCallback,gx=e.unstable_shouldYield,mx=e.unstable_requestPaint,ct=e.unstable_now,vx=e.unstable_getCurrentPriorityLevel,yu=e.unstable_ImmediatePriority,Np=e.unstable_UserBlockingPriority,Wa=e.unstable_NormalPriority,yx=e.unstable_LowPriority,Lp=e.unstable_IdlePriority,Ga=null,lr=null;function wx(i){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ga,i,void 0,(i.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Sx,bx=Math.log,xx=Math.LN2;function Sx(i){return i>>>=0,i===0?32:31-(bx(i)/xx|0)|0}var qa=64,Xa=4194304;function uo(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ka(i,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,w=i.pingedLanes,k=u&268435455;if(k!==0){var M=k&~v;M!==0?p=uo(M):(w&=k,w!==0&&(p=uo(w)))}else k=u&~v,k!==0?p=uo(k):w!==0&&(p=uo(w));if(p===0)return 0;if(o!==0&&o!==p&&(o&v)===0&&(v=p&-p,w=o&-o,v>=w||v===16&&(w&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)u=31-Vn(o),v=1<<u,p|=i[u],o&=~v;return p}function Ex(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ax(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes;0<w;){var k=31-Vn(w),M=1<<k,I=v[k];I===-1?((M&u)===0||(M&p)!==0)&&(v[k]=Ex(M,o)):I<=o&&(i.expiredLanes|=M),w&=~M}}function wu(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Mp(){var i=qa;return qa<<=1,(qa&4194240)===0&&(qa=64),i}function bu(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function ho(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Vn(o),i[o]=u}function Cx(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-Vn(u),w=1<<v;o[v]=0,p[v]=-1,i[v]=-1,u&=~w}}function xu(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Vn(u),v=1<<p;v&o|i[p]&o&&(i[p]|=o),u&=~v}}var Ue=0;function Ip(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Op,Su,Dp,Fp,jp,Eu=!1,Ya=[],Xr=null,Kr=null,Yr=null,fo=new Map,po=new Map,Qr=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $p(i,o){switch(i){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":fo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(o.pointerId)}}function go(i,o,u,p,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Ro(o),o!==null&&Su(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function kx(i,o,u,p,v){switch(o){case"focusin":return Xr=go(Xr,i,o,u,p,v),!0;case"dragenter":return Kr=go(Kr,i,o,u,p,v),!0;case"mouseover":return Yr=go(Yr,i,o,u,p,v),!0;case"pointerover":var w=v.pointerId;return fo.set(w,go(fo.get(w)||null,i,o,u,p,v)),!0;case"gotpointercapture":return w=v.pointerId,po.set(w,go(po.get(w)||null,i,o,u,p,v)),!0}return!1}function Bp(i){var o=As(i.target);if(o!==null){var u=Rn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ha(u),o!==null){i.blockedOn=o,jp(i.priority,function(){Dp(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qa(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Cu(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);ro=p,u.target.dispatchEvent(p),ro=null}else return o=Ro(u),o!==null&&Su(o),i.blockedOn=u,!1;o.shift()}return!0}function zp(i,o,u){Qa(i)&&u.delete(o)}function Tx(){Eu=!1,Xr!==null&&Qa(Xr)&&(Xr=null),Kr!==null&&Qa(Kr)&&(Kr=null),Yr!==null&&Qa(Yr)&&(Yr=null),fo.forEach(zp),po.forEach(zp)}function mo(i,o){i.blockedOn===o&&(i.blockedOn=null,Eu||(Eu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tx)))}function vo(i){function o(v){return mo(v,i)}if(0<Ya.length){mo(Ya[0],i);for(var u=1;u<Ya.length;u++){var p=Ya[u];p.blockedOn===i&&(p.blockedOn=null)}}for(Xr!==null&&mo(Xr,i),Kr!==null&&mo(Kr,i),Yr!==null&&mo(Yr,i),fo.forEach(o),po.forEach(o),u=0;u<Qr.length;u++)p=Qr[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<Qr.length&&(u=Qr[0],u.blockedOn===null);)Bp(u),u.blockedOn===null&&Qr.shift()}var si=P.ReactCurrentBatchConfig,Ja=!0;function Rx(i,o,u,p){var v=Ue,w=si.transition;si.transition=null;try{Ue=1,Au(i,o,u,p)}finally{Ue=v,si.transition=w}}function Px(i,o,u,p){var v=Ue,w=si.transition;si.transition=null;try{Ue=4,Au(i,o,u,p)}finally{Ue=v,si.transition=w}}function Au(i,o,u,p){if(Ja){var v=Cu(i,o,u,p);if(v===null)Hu(i,o,p,Za,u),$p(i,p);else if(kx(v,i,o,u,p))p.stopPropagation();else if($p(i,p),o&4&&-1<_x.indexOf(i)){for(;v!==null;){var w=Ro(v);if(w!==null&&Op(w),w=Cu(i,o,u,p),w===null&&Hu(i,o,p,Za,u),w===v)break;v=w}v!==null&&p.stopPropagation()}else Hu(i,o,p,null,u)}}var Za=null;function Cu(i,o,u,p){if(Za=null,i=so(p),i=As(i),i!==null)if(o=Rn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ha(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Za=i,null}function Hp(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vx()){case yu:return 1;case Np:return 4;case Wa:case yx:return 16;case Lp:return 536870912;default:return 16}default:return 16}}var Jr=null,_u=null,el=null;function Up(){if(el)return el;var i,o=_u,u=o.length,p,v="value"in Jr?Jr.value:Jr.textContent,w=v.length;for(i=0;i<u&&o[i]===v[i];i++);var k=u-i;for(p=1;p<=k&&o[u-p]===v[w-p];p++);return el=v.slice(i,1<p?1-p:void 0)}function tl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function nl(){return!0}function Vp(){return!1}function yn(i){function o(u,p,v,w,k){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?nl:Vp,this.isPropagationStopped=Vp,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),o}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=yn(ii),yo=te({},ii,{view:0,detail:0}),Nx=yn(yo),Tu,Ru,wo,rl=te({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wo&&(wo&&i.type==="mousemove"?(Tu=i.screenX-wo.screenX,Ru=i.screenY-wo.screenY):Ru=Tu=0,wo=i),Tu)},movementY:function(i){return"movementY"in i?i.movementY:Ru}}),Wp=yn(rl),Lx=te({},rl,{dataTransfer:0}),Mx=yn(Lx),Ix=te({},yo,{relatedTarget:0}),Pu=yn(Ix),Ox=te({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Dx=yn(Ox),Fx=te({},ii,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jx=yn(Fx),$x=te({},ii,{data:0}),Gp=yn($x),Bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Hx[i])?!!o[i]:!1}function Nu(){return Ux}var Vx=te({},yo,{key:function(i){if(i.key){var o=Bx[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=tl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(i){return i.type==="keypress"?tl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?tl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wx=yn(Vx),Gx=te({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qp=yn(Gx),qx=te({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),Xx=yn(qx),Kx=te({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yx=yn(Kx),Qx=te({},rl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Jx=yn(Qx),Zx=[9,13,27,32],Lu=c&&"CompositionEvent"in window,bo=null;c&&"documentMode"in document&&(bo=document.documentMode);var e1=c&&"TextEvent"in window&&!bo,Xp=c&&(!Lu||bo&&8<bo&&11>=bo),Kp=" ",Yp=!1;function Qp(i,o){switch(i){case"keyup":return Zx.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oi=!1;function t1(i,o){switch(i){case"compositionend":return Jp(o);case"keypress":return o.which!==32?null:(Yp=!0,Kp);case"textInput":return i=o.data,i===Kp&&Yp?null:i;default:return null}}function n1(i,o){if(oi)return i==="compositionend"||!Lu&&Qp(i,o)?(i=Up(),el=_u=Jr=null,oi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xp&&o.locale!=="ko"?null:o.data;default:return null}}var r1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!r1[i.type]:o==="textarea"}function eg(i,o,u,p){za(p),o=ll(o,"onChange"),0<o.length&&(u=new ku("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var xo=null,So=null;function s1(i){yg(i,0)}function sl(i){var o=di(i);if(Ge(o))return i}function i1(i,o){if(i==="change")return o}var tg=!1;if(c){var Mu;if(c){var Iu="oninput"in document;if(!Iu){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Iu=typeof ng.oninput=="function"}Mu=Iu}else Mu=!1;tg=Mu&&(!document.documentMode||9<document.documentMode)}function rg(){xo&&(xo.detachEvent("onpropertychange",sg),So=xo=null)}function sg(i){if(i.propertyName==="value"&&sl(So)){var o=[];eg(o,So,i,so(i)),ni(s1,o)}}function o1(i,o,u){i==="focusin"?(rg(),xo=o,So=u,xo.attachEvent("onpropertychange",sg)):i==="focusout"&&rg()}function a1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sl(So)}function l1(i,o){if(i==="click")return sl(o)}function c1(i,o){if(i==="input"||i==="change")return sl(o)}function u1(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wn=typeof Object.is=="function"?Object.is:u1;function Eo(i,o){if(Wn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!d.call(o,v)||!Wn(i[v],o[v]))return!1}return!0}function ig(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function og(i,o){var u=ig(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ig(u)}}function ag(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ag(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function lg(){for(var i=window,o=ke();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=ke(i.document)}return o}function Ou(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function d1(i){var o=lg(),u=i.focusedElem,p=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&ag(u.ownerDocument.documentElement,u)){if(p!==null&&Ou(u)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,w=Math.min(p.start,v);p=p.end===void 0?w:Math.min(p.end,v),!i.extend&&w>p&&(v=p,p=w,w=v),v=og(u,w);var k=og(u,p);v&&k&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),i.removeAllRanges(),w>p?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var h1=c&&"documentMode"in document&&11>=document.documentMode,ai=null,Du=null,Ao=null,Fu=!1;function cg(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Fu||ai==null||ai!==ke(p)||(p=ai,"selectionStart"in p&&Ou(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ao&&Eo(Ao,p)||(Ao=p,p=ll(Du,"onSelect"),0<p.length&&(o=new ku("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=ai)))}function il(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var li={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},ju={},ug={};c&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function ol(i){if(ju[i])return ju[i];if(!li[i])return i;var o=li[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in ug)return ju[i]=o[u];return i}var dg=ol("animationend"),hg=ol("animationiteration"),fg=ol("animationstart"),pg=ol("transitionend"),gg=new Map,mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(i,o){gg.set(i,o),a(o,[i])}for(var $u=0;$u<mg.length;$u++){var Bu=mg[$u],f1=Bu.toLowerCase(),p1=Bu[0].toUpperCase()+Bu.slice(1);Zr(f1,"on"+p1)}Zr(dg,"onAnimationEnd"),Zr(hg,"onAnimationIteration"),Zr(fg,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(pg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function vg(i,o,u){var p=i.type||"unknown-event";i.currentTarget=u,Tn(p,o,void 0,i),i.currentTarget=null}function yg(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],v=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var k=p.length-1;0<=k;k--){var M=p[k],I=M.instance,W=M.currentTarget;if(M=M.listener,I!==w&&v.isPropagationStopped())break e;vg(v,M,W),w=I}else for(k=0;k<p.length;k++){if(M=p[k],I=M.instance,W=M.currentTarget,M=M.listener,I!==w&&v.isPropagationStopped())break e;vg(v,M,W),w=I}}}if(ri)throw i=st,ri=!1,st=null,i}function Ke(i,o){var u=o[Xu];u===void 0&&(u=o[Xu]=new Set);var p=i+"__bubble";u.has(p)||(wg(o,i,2,!1),u.add(p))}function zu(i,o,u){var p=0;o&&(p|=4),wg(u,i,p,o)}var al="_reactListening"+Math.random().toString(36).slice(2);function _o(i){if(!i[al]){i[al]=!0,n.forEach(function(u){u!=="selectionchange"&&(g1.has(u)||zu(u,!1,i),zu(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[al]||(o[al]=!0,zu("selectionchange",!1,o))}}function wg(i,o,u,p){switch(Hp(o)){case 1:var v=Rx;break;case 4:v=Px;break;default:v=Au}u=v.bind(null,o,u,i),v=void 0,!ar||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Hu(i,o,u,p,v){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var M=p.stateNode.containerInfo;if(M===v||M.nodeType===8&&M.parentNode===v)break;if(k===4)for(k=p.return;k!==null;){var I=k.tag;if((I===3||I===4)&&(I=k.stateNode.containerInfo,I===v||I.nodeType===8&&I.parentNode===v))return;k=k.return}for(;M!==null;){if(k=As(M),k===null)return;if(I=k.tag,I===5||I===6){p=w=k;continue e}M=M.parentNode}}p=p.return}ni(function(){var W=w,Z=so(u),ne=[];e:{var J=gg.get(i);if(J!==void 0){var ue=ku,pe=i;switch(i){case"keypress":if(tl(u)===0)break e;case"keydown":case"keyup":ue=Wx;break;case"focusin":pe="focus",ue=Pu;break;case"focusout":pe="blur",ue=Pu;break;case"beforeblur":case"afterblur":ue=Pu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Xx;break;case dg:case hg:case fg:ue=Dx;break;case pg:ue=Yx;break;case"scroll":ue=Nx;break;case"wheel":ue=Jx;break;case"copy":case"cut":case"paste":ue=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=qp}var ge=(o&4)!==0,ut=!ge&&i==="scroll",$=ge?J!==null?J+"Capture":null:J;ge=[];for(var F=W,z;F!==null;){z=F;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,$!==null&&(se=_n(F,$),se!=null&&ge.push(ko(F,se,z)))),ut)break;F=F.return}0<ge.length&&(J=new ue(J,pe,null,u,Z),ne.push({event:J,listeners:ge}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",J&&u!==ro&&(pe=u.relatedTarget||u.fromElement)&&(As(pe)||pe[_r]))break e;if((ue||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(pe=u.relatedTarget||u.toElement,ue=W,pe=pe?As(pe):null,pe!==null&&(ut=Rn(pe),pe!==ut||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=W),ue!==pe)){if(ge=Wp,se="onMouseLeave",$="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ge=qp,se="onPointerLeave",$="onPointerEnter",F="pointer"),ut=ue==null?J:di(ue),z=pe==null?J:di(pe),J=new ge(se,F+"leave",ue,u,Z),J.target=ut,J.relatedTarget=z,se=null,As(Z)===W&&(ge=new ge($,F+"enter",pe,u,Z),ge.target=z,ge.relatedTarget=ut,se=ge),ut=se,ue&&pe)t:{for(ge=ue,$=pe,F=0,z=ge;z;z=ci(z))F++;for(z=0,se=$;se;se=ci(se))z++;for(;0<F-z;)ge=ci(ge),F--;for(;0<z-F;)$=ci($),z--;for(;F--;){if(ge===$||$!==null&&ge===$.alternate)break t;ge=ci(ge),$=ci($)}ge=null}else ge=null;ue!==null&&bg(ne,J,ue,ge,!1),pe!==null&&ut!==null&&bg(ne,ut,pe,ge,!0)}}e:{if(J=W?di(W):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var ve=i1;else if(Zp(J))if(tg)ve=c1;else{ve=a1;var be=o1}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ve=l1);if(ve&&(ve=ve(i,W))){eg(ne,ve,u,Z);break e}be&&be(i,J,W),i==="focusout"&&(be=J._wrapperState)&&be.controlled&&J.type==="number"&&$t(J,"number",J.value)}switch(be=W?di(W):window,i){case"focusin":(Zp(be)||be.contentEditable==="true")&&(ai=be,Du=W,Ao=null);break;case"focusout":Ao=Du=ai=null;break;case"mousedown":Fu=!0;break;case"contextmenu":case"mouseup":case"dragend":Fu=!1,cg(ne,u,Z);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":cg(ne,u,Z)}var xe;if(Lu)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else oi?Qp(i,u)&&(Te="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Te="onCompositionStart");Te&&(Xp&&u.locale!=="ko"&&(oi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&oi&&(xe=Up()):(Jr=Z,_u="value"in Jr?Jr.value:Jr.textContent,oi=!0)),be=ll(W,Te),0<be.length&&(Te=new Gp(Te,i,null,u,Z),ne.push({event:Te,listeners:be}),xe?Te.data=xe:(xe=Jp(u),xe!==null&&(Te.data=xe)))),(xe=e1?t1(i,u):n1(i,u))&&(W=ll(W,"onBeforeInput"),0<W.length&&(Z=new Gp("onBeforeInput","beforeinput",null,u,Z),ne.push({event:Z,listeners:W}),Z.data=xe))}yg(ne,o)})}function ko(i,o,u){return{instance:i,listener:o,currentTarget:u}}function ll(i,o){for(var u=o+"Capture",p=[];i!==null;){var v=i,w=v.stateNode;v.tag===5&&w!==null&&(v=w,w=_n(i,u),w!=null&&p.unshift(ko(i,w,v)),w=_n(i,o),w!=null&&p.push(ko(i,w,v))),i=i.return}return p}function ci(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function bg(i,o,u,p,v){for(var w=o._reactName,k=[];u!==null&&u!==p;){var M=u,I=M.alternate,W=M.stateNode;if(I!==null&&I===p)break;M.tag===5&&W!==null&&(M=W,v?(I=_n(u,w),I!=null&&k.unshift(ko(u,I,M))):v||(I=_n(u,w),I!=null&&k.push(ko(u,I,M)))),u=u.return}k.length!==0&&i.push({event:o,listeners:k})}var m1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function xg(i){return(typeof i=="string"?i:""+i).replace(m1,`
`).replace(v1,"")}function cl(i,o,u){if(o=xg(o),xg(i)!==o&&u)throw Error(t(425))}function ul(){}var Uu=null,Vu=null;function Wu(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gu=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(i){return Sg.resolve(null).then(i).catch(b1)}:Gu;function b1(i){setTimeout(function(){throw i})}function qu(i,o){var u=o,p=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){i.removeChild(v),vo(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);vo(o)}function es(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Eg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var ui=Math.random().toString(36).slice(2),cr="__reactFiber$"+ui,To="__reactProps$"+ui,_r="__reactContainer$"+ui,Xu="__reactEvents$"+ui,x1="__reactListeners$"+ui,S1="__reactHandles$"+ui;function As(i){var o=i[cr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[_r]||u[cr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Eg(i);i!==null;){if(u=i[cr])return u;i=Eg(i)}return o}i=u,u=i.parentNode}return null}function Ro(i){return i=i[cr]||i[_r],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function di(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function dl(i){return i[To]||null}var Ku=[],hi=-1;function ts(i){return{current:i}}function Ye(i){0>hi||(i.current=Ku[hi],Ku[hi]=null,hi--)}function Xe(i,o){hi++,Ku[hi]=i.current,i.current=o}var ns={},zt=ts(ns),nn=ts(!1),Cs=ns;function fi(i,o){var u=i.type.contextTypes;if(!u)return ns;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},w;for(w in u)v[w]=o[w];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=v),v}function rn(i){return i=i.childContextTypes,i!=null}function hl(){Ye(nn),Ye(zt)}function Ag(i,o,u){if(zt.current!==ns)throw Error(t(168));Xe(zt,o),Xe(nn,u)}function Cg(i,o,u){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(t(108,ce(i)||"Unknown",v));return te({},u,p)}function fl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ns,Cs=zt.current,Xe(zt,i),Xe(nn,nn.current),!0}function _g(i,o,u){var p=i.stateNode;if(!p)throw Error(t(169));u?(i=Cg(i,o,Cs),p.__reactInternalMemoizedMergedChildContext=i,Ye(nn),Ye(zt),Xe(zt,i)):Ye(nn),Xe(nn,u)}var kr=null,pl=!1,Yu=!1;function kg(i){kr===null?kr=[i]:kr.push(i)}function E1(i){pl=!0,kg(i)}function rs(){if(!Yu&&kr!==null){Yu=!0;var i=0,o=Ue;try{var u=kr;for(Ue=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}kr=null,pl=!1}catch(v){throw kr!==null&&(kr=kr.slice(i+1)),Va(yu,rs),v}finally{Ue=o,Yu=!1}}return null}var pi=[],gi=0,gl=null,ml=0,Nn=[],Ln=0,_s=null,Tr=1,Rr="";function ks(i,o){pi[gi++]=ml,pi[gi++]=gl,gl=i,ml=o}function Tg(i,o,u){Nn[Ln++]=Tr,Nn[Ln++]=Rr,Nn[Ln++]=_s,_s=i;var p=Tr;i=Rr;var v=32-Vn(p)-1;p&=~(1<<v),u+=1;var w=32-Vn(o)+v;if(30<w){var k=v-v%5;w=(p&(1<<k)-1).toString(32),p>>=k,v-=k,Tr=1<<32-Vn(o)+v|u<<v|p,Rr=w+i}else Tr=1<<w|u<<v|p,Rr=i}function Qu(i){i.return!==null&&(ks(i,1),Tg(i,1,0))}function Ju(i){for(;i===gl;)gl=pi[--gi],pi[gi]=null,ml=pi[--gi],pi[gi]=null;for(;i===_s;)_s=Nn[--Ln],Nn[Ln]=null,Rr=Nn[--Ln],Nn[Ln]=null,Tr=Nn[--Ln],Nn[Ln]=null}var wn=null,bn=null,Je=!1,Gn=null;function Rg(i,o){var u=Dn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Pg(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wn=i,bn=es(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wn=i,bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=_s!==null?{id:Tr,overflow:Rr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Dn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,wn=i,bn=null,!0):!1;default:return!1}}function Zu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ed(i){if(Je){var o=bn;if(o){var u=o;if(!Pg(i,o)){if(Zu(i))throw Error(t(418));o=es(u.nextSibling);var p=wn;o&&Pg(i,o)?Rg(p,u):(i.flags=i.flags&-4097|2,Je=!1,wn=i)}}else{if(Zu(i))throw Error(t(418));i.flags=i.flags&-4097|2,Je=!1,wn=i}}}function Ng(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wn=i}function vl(i){if(i!==wn)return!1;if(!Je)return Ng(i),Je=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Wu(i.type,i.memoizedProps)),o&&(o=bn)){if(Zu(i))throw Lg(),Error(t(418));for(;o;)Rg(i,o),o=es(o.nextSibling)}if(Ng(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){bn=es(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}bn=null}}else bn=wn?es(i.stateNode.nextSibling):null;return!0}function Lg(){for(var i=bn;i;)i=es(i.nextSibling)}function mi(){bn=wn=null,Je=!1}function td(i){Gn===null?Gn=[i]:Gn.push(i)}var A1=P.ReactCurrentBatchConfig;function Po(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,i));var v=p,w=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(k){var M=v.refs;k===null?delete M[w]:M[w]=k},o._stringRef=w,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function yl(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Mg(i){var o=i._init;return o(i._payload)}function Ig(i){function o($,F){if(i){var z=$.deletions;z===null?($.deletions=[F],$.flags|=16):z.push(F)}}function u($,F){if(!i)return null;for(;F!==null;)o($,F),F=F.sibling;return null}function p($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function v($,F){return $=ds($,F),$.index=0,$.sibling=null,$}function w($,F,z){return $.index=z,i?(z=$.alternate,z!==null?(z=z.index,z<F?($.flags|=2,F):z):($.flags|=2,F)):($.flags|=1048576,F)}function k($){return i&&$.alternate===null&&($.flags|=2),$}function M($,F,z,se){return F===null||F.tag!==6?(F=Gd(z,$.mode,se),F.return=$,F):(F=v(F,z),F.return=$,F)}function I($,F,z,se){var ve=z.type;return ve===N?Z($,F,z.props.children,se,z.key):F!==null&&(F.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===U&&Mg(ve)===F.type)?(se=v(F,z.props),se.ref=Po($,F,z),se.return=$,se):(se=Hl(z.type,z.key,z.props,null,$.mode,se),se.ref=Po($,F,z),se.return=$,se)}function W($,F,z,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==z.containerInfo||F.stateNode.implementation!==z.implementation?(F=qd(z,$.mode,se),F.return=$,F):(F=v(F,z.children||[]),F.return=$,F)}function Z($,F,z,se,ve){return F===null||F.tag!==7?(F=Os(z,$.mode,se,ve),F.return=$,F):(F=v(F,z),F.return=$,F)}function ne($,F,z){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Gd(""+F,$.mode,z),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return z=Hl(F.type,F.key,F.props,null,$.mode,z),z.ref=Po($,null,F),z.return=$,z;case L:return F=qd(F,$.mode,z),F.return=$,F;case U:var se=F._init;return ne($,se(F._payload),z)}if(Ot(F)||ee(F))return F=Os(F,$.mode,z,null),F.return=$,F;yl($,F)}return null}function J($,F,z,se){var ve=F!==null?F.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ve!==null?null:M($,F,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===ve?I($,F,z,se):null;case L:return z.key===ve?W($,F,z,se):null;case U:return ve=z._init,J($,F,ve(z._payload),se)}if(Ot(z)||ee(z))return ve!==null?null:Z($,F,z,se,null);yl($,z)}return null}function ue($,F,z,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(z)||null,M(F,$,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case R:return $=$.get(se.key===null?z:se.key)||null,I(F,$,se,ve);case L:return $=$.get(se.key===null?z:se.key)||null,W(F,$,se,ve);case U:var be=se._init;return ue($,F,z,be(se._payload),ve)}if(Ot(se)||ee(se))return $=$.get(z)||null,Z(F,$,se,ve,null);yl(F,se)}return null}function pe($,F,z,se){for(var ve=null,be=null,xe=F,Te=F=0,Pt=null;xe!==null&&Te<z.length;Te++){xe.index>Te?(Pt=xe,xe=null):Pt=xe.sibling;var $e=J($,xe,z[Te],se);if($e===null){xe===null&&(xe=Pt);break}i&&xe&&$e.alternate===null&&o($,xe),F=w($e,F,Te),be===null?ve=$e:be.sibling=$e,be=$e,xe=Pt}if(Te===z.length)return u($,xe),Je&&ks($,Te),ve;if(xe===null){for(;Te<z.length;Te++)xe=ne($,z[Te],se),xe!==null&&(F=w(xe,F,Te),be===null?ve=xe:be.sibling=xe,be=xe);return Je&&ks($,Te),ve}for(xe=p($,xe);Te<z.length;Te++)Pt=ue(xe,$,Te,z[Te],se),Pt!==null&&(i&&Pt.alternate!==null&&xe.delete(Pt.key===null?Te:Pt.key),F=w(Pt,F,Te),be===null?ve=Pt:be.sibling=Pt,be=Pt);return i&&xe.forEach(function(hs){return o($,hs)}),Je&&ks($,Te),ve}function ge($,F,z,se){var ve=ee(z);if(typeof ve!="function")throw Error(t(150));if(z=ve.call(z),z==null)throw Error(t(151));for(var be=ve=null,xe=F,Te=F=0,Pt=null,$e=z.next();xe!==null&&!$e.done;Te++,$e=z.next()){xe.index>Te?(Pt=xe,xe=null):Pt=xe.sibling;var hs=J($,xe,$e.value,se);if(hs===null){xe===null&&(xe=Pt);break}i&&xe&&hs.alternate===null&&o($,xe),F=w(hs,F,Te),be===null?ve=hs:be.sibling=hs,be=hs,xe=Pt}if($e.done)return u($,xe),Je&&ks($,Te),ve;if(xe===null){for(;!$e.done;Te++,$e=z.next())$e=ne($,$e.value,se),$e!==null&&(F=w($e,F,Te),be===null?ve=$e:be.sibling=$e,be=$e);return Je&&ks($,Te),ve}for(xe=p($,xe);!$e.done;Te++,$e=z.next())$e=ue(xe,$,Te,$e.value,se),$e!==null&&(i&&$e.alternate!==null&&xe.delete($e.key===null?Te:$e.key),F=w($e,F,Te),be===null?ve=$e:be.sibling=$e,be=$e);return i&&xe.forEach(function(rS){return o($,rS)}),Je&&ks($,Te),ve}function ut($,F,z,se){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var ve=z.key,be=F;be!==null;){if(be.key===ve){if(ve=z.type,ve===N){if(be.tag===7){u($,be.sibling),F=v(be,z.props.children),F.return=$,$=F;break e}}else if(be.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===U&&Mg(ve)===be.type){u($,be.sibling),F=v(be,z.props),F.ref=Po($,be,z),F.return=$,$=F;break e}u($,be);break}else o($,be);be=be.sibling}z.type===N?(F=Os(z.props.children,$.mode,se,z.key),F.return=$,$=F):(se=Hl(z.type,z.key,z.props,null,$.mode,se),se.ref=Po($,F,z),se.return=$,$=se)}return k($);case L:e:{for(be=z.key;F!==null;){if(F.key===be)if(F.tag===4&&F.stateNode.containerInfo===z.containerInfo&&F.stateNode.implementation===z.implementation){u($,F.sibling),F=v(F,z.children||[]),F.return=$,$=F;break e}else{u($,F);break}else o($,F);F=F.sibling}F=qd(z,$.mode,se),F.return=$,$=F}return k($);case U:return be=z._init,ut($,F,be(z._payload),se)}if(Ot(z))return pe($,F,z,se);if(ee(z))return ge($,F,z,se);yl($,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,F!==null&&F.tag===6?(u($,F.sibling),F=v(F,z),F.return=$,$=F):(u($,F),F=Gd(z,$.mode,se),F.return=$,$=F),k($)):u($,F)}return ut}var vi=Ig(!0),Og=Ig(!1),wl=ts(null),bl=null,yi=null,nd=null;function rd(){nd=yi=bl=null}function sd(i){var o=wl.current;Ye(wl),i._currentValue=o}function id(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function wi(i,o){bl=i,nd=yi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(sn=!0),i.firstContext=null)}function Mn(i){var o=i._currentValue;if(nd!==i)if(i={context:i,memoizedValue:o,next:null},yi===null){if(bl===null)throw Error(t(308));yi=i,bl.dependencies={lanes:0,firstContext:i}}else yi=yi.next=i;return o}var Ts=null;function od(i){Ts===null?Ts=[i]:Ts.push(i)}function Dg(i,o,u,p){var v=o.interleaved;return v===null?(u.next=u,od(o)):(u.next=v.next,v.next=u),o.interleaved=u,Pr(i,p)}function Pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ss=!1;function ad(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Nr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function is(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Fe&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,Pr(i,u)}return v=p.interleaved,v===null?(o.next=o,od(p)):(o.next=v.next,v.next=o),p.interleaved=o,Pr(i,u)}function xl(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,xu(i,u)}}function jg(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?v=w=k:w=w.next=k,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Sl(i,o,u,p){var v=i.updateQueue;ss=!1;var w=v.firstBaseUpdate,k=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var I=M,W=I.next;I.next=null,k===null?w=W:k.next=W,k=I;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,M=Z.lastBaseUpdate,M!==k&&(M===null?Z.firstBaseUpdate=W:M.next=W,Z.lastBaseUpdate=I))}if(w!==null){var ne=v.baseState;k=0,Z=W=I=null,M=w;do{var J=M.lane,ue=M.eventTime;if((p&J)===J){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var pe=i,ge=M;switch(J=o,ue=u,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){ne=pe.call(ue,ne,J);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,J=typeof pe=="function"?pe.call(ue,ne,J):pe,J==null)break e;ne=te({},ne,J);break e;case 2:ss=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,J=v.effects,J===null?v.effects=[M]:J.push(M))}else ue={eventTime:ue,lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Z===null?(W=Z=ue,I=ne):Z=Z.next=ue,k|=J;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;J=M,M=J.next,J.next=null,v.lastBaseUpdate=J,v.shared.pending=null}}while(!0);if(Z===null&&(I=ne),v.baseState=I,v.firstBaseUpdate=W,v.lastBaseUpdate=Z,o=v.shared.interleaved,o!==null){v=o;do k|=v.lane,v=v.next;while(v!==o)}else w===null&&(v.shared.lanes=0);Ns|=k,i.lanes=k,i.memoizedState=ne}}function $g(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(t(191,v));v.call(p)}}}var No={},ur=ts(No),Lo=ts(No),Mo=ts(No);function Rs(i){if(i===No)throw Error(t(174));return i}function ld(i,o){switch(Xe(Mo,o),Xe(Lo,i),Xe(ur,No),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:tn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=tn(o,i)}Ye(ur),Xe(ur,o)}function bi(){Ye(ur),Ye(Lo),Ye(Mo)}function Bg(i){Rs(Mo.current);var o=Rs(ur.current),u=tn(o,i.type);o!==u&&(Xe(Lo,i),Xe(ur,u))}function cd(i){Lo.current===i&&(Ye(ur),Ye(Lo))}var it=ts(0);function El(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ud=[];function dd(){for(var i=0;i<ud.length;i++)ud[i]._workInProgressVersionPrimary=null;ud.length=0}var Al=P.ReactCurrentDispatcher,hd=P.ReactCurrentBatchConfig,Ps=0,ot=null,At=null,Tt=null,Cl=!1,Io=!1,Oo=0,C1=0;function Ht(){throw Error(t(321))}function fd(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Wn(i[u],o[u]))return!1;return!0}function pd(i,o,u,p,v,w){if(Ps=w,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Al.current=i===null||i.memoizedState===null?R1:P1,i=u(p,v),Io){w=0;do{if(Io=!1,Oo=0,25<=w)throw Error(t(301));w+=1,Tt=At=null,o.updateQueue=null,Al.current=N1,i=u(p,v)}while(Io)}if(Al.current=Tl,o=At!==null&&At.next!==null,Ps=0,Tt=At=ot=null,Cl=!1,o)throw Error(t(300));return i}function gd(){var i=Oo!==0;return Oo=0,i}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ot.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function In(){if(At===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=Tt===null?ot.memoizedState:Tt.next;if(o!==null)Tt=o,At=i;else{if(i===null)throw Error(t(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Tt===null?ot.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function Do(i,o){return typeof o=="function"?o(i):o}function md(i){var o=In(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=At,v=p.baseQueue,w=u.pending;if(w!==null){if(v!==null){var k=v.next;v.next=w.next,w.next=k}p.baseQueue=v=w,u.pending=null}if(v!==null){w=v.next,p=p.baseState;var M=k=null,I=null,W=w;do{var Z=W.lane;if((Ps&Z)===Z)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),p=W.hasEagerState?W.eagerState:i(p,W.action);else{var ne={lane:Z,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(M=I=ne,k=p):I=I.next=ne,ot.lanes|=Z,Ns|=Z}W=W.next}while(W!==null&&W!==w);I===null?k=p:I.next=M,Wn(p,o.memoizedState)||(sn=!0),o.memoizedState=p,o.baseState=k,o.baseQueue=I,u.lastRenderedState=p}if(i=u.interleaved,i!==null){v=i;do w=v.lane,ot.lanes|=w,Ns|=w,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function vd(i){var o=In(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do w=i(w,k.action),k=k.next;while(k!==v);Wn(w,o.memoizedState)||(sn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function zg(){}function Hg(i,o){var u=ot,p=In(),v=o(),w=!Wn(p.memoizedState,v);if(w&&(p.memoizedState=v,sn=!0),p=p.queue,yd(Wg.bind(null,u,p,i),[i]),p.getSnapshot!==o||w||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,Fo(9,Vg.bind(null,u,p,v,o),void 0,null),Rt===null)throw Error(t(349));(Ps&30)!==0||Ug(u,o,v)}return v}function Ug(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Vg(i,o,u,p){o.value=u,o.getSnapshot=p,Gg(o)&&qg(i)}function Wg(i,o,u){return u(function(){Gg(o)&&qg(i)})}function Gg(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Wn(i,u)}catch{return!0}}function qg(i){var o=Pr(i,1);o!==null&&Yn(o,i,1,-1)}function Xg(i){var o=dr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:i},o.queue=i,i=i.dispatch=T1.bind(null,ot,i),[o.memoizedState,i]}function Fo(i,o,u,p){return i={tag:i,create:o,destroy:u,deps:p,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i)),i}function Kg(){return In().memoizedState}function _l(i,o,u,p){var v=dr();ot.flags|=i,v.memoizedState=Fo(1|o,u,void 0,p===void 0?null:p)}function kl(i,o,u,p){var v=In();p=p===void 0?null:p;var w=void 0;if(At!==null){var k=At.memoizedState;if(w=k.destroy,p!==null&&fd(p,k.deps)){v.memoizedState=Fo(o,u,w,p);return}}ot.flags|=i,v.memoizedState=Fo(1|o,u,w,p)}function Yg(i,o){return _l(8390656,8,i,o)}function yd(i,o){return kl(2048,8,i,o)}function Qg(i,o){return kl(4,2,i,o)}function Jg(i,o){return kl(4,4,i,o)}function Zg(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function em(i,o,u){return u=u!=null?u.concat([i]):null,kl(4,4,Zg.bind(null,o,i),u)}function wd(){}function tm(i,o){var u=In();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&fd(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function nm(i,o){var u=In();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&fd(o,p[1])?p[0]:(i=i(),u.memoizedState=[i,o],i)}function rm(i,o,u){return(Ps&21)===0?(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=u):(Wn(u,o)||(u=Mp(),ot.lanes|=u,Ns|=u,i.baseState=!0),o)}function _1(i,o){var u=Ue;Ue=u!==0&&4>u?u:4,i(!0);var p=hd.transition;hd.transition={};try{i(!1),o()}finally{Ue=u,hd.transition=p}}function sm(){return In().memoizedState}function k1(i,o,u){var p=cs(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},im(i))om(o,u);else if(u=Dg(i,o,u,p),u!==null){var v=Qt();Yn(u,i,p,v),am(u,o,p)}}function T1(i,o,u){var p=cs(i),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(im(i))om(o,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var k=o.lastRenderedState,M=w(k,u);if(v.hasEagerState=!0,v.eagerState=M,Wn(M,k)){var I=o.interleaved;I===null?(v.next=v,od(o)):(v.next=I.next,I.next=v),o.interleaved=v;return}}catch{}finally{}u=Dg(i,o,v,p),u!==null&&(v=Qt(),Yn(u,i,p,v),am(u,o,p))}}function im(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function om(i,o){Io=Cl=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function am(i,o,u){if((u&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,xu(i,u)}}var Tl={readContext:Mn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},R1={readContext:Mn,useCallback:function(i,o){return dr().memoizedState=[i,o===void 0?null:o],i},useContext:Mn,useEffect:Yg,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,_l(4194308,4,Zg.bind(null,o,i),u)},useLayoutEffect:function(i,o){return _l(4194308,4,i,o)},useInsertionEffect:function(i,o){return _l(4,2,i,o)},useMemo:function(i,o){var u=dr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var p=dr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=k1.bind(null,ot,i),[p.memoizedState,i]},useRef:function(i){var o=dr();return i={current:i},o.memoizedState=i},useState:Xg,useDebugValue:wd,useDeferredValue:function(i){return dr().memoizedState=i},useTransition:function(){var i=Xg(!1),o=i[0];return i=_1.bind(null,i[1]),dr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var p=ot,v=dr();if(Je){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Rt===null)throw Error(t(349));(Ps&30)!==0||Ug(p,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,Yg(Wg.bind(null,p,w,i),[i]),p.flags|=2048,Fo(9,Vg.bind(null,p,w,u,o),void 0,null),u},useId:function(){var i=dr(),o=Rt.identifierPrefix;if(Je){var u=Rr,p=Tr;u=(p&~(1<<32-Vn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=Oo++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=C1++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},P1={readContext:Mn,useCallback:tm,useContext:Mn,useEffect:yd,useImperativeHandle:em,useInsertionEffect:Qg,useLayoutEffect:Jg,useMemo:nm,useReducer:md,useRef:Kg,useState:function(){return md(Do)},useDebugValue:wd,useDeferredValue:function(i){var o=In();return rm(o,At.memoizedState,i)},useTransition:function(){var i=md(Do)[0],o=In().memoizedState;return[i,o]},useMutableSource:zg,useSyncExternalStore:Hg,useId:sm,unstable_isNewReconciler:!1},N1={readContext:Mn,useCallback:tm,useContext:Mn,useEffect:yd,useImperativeHandle:em,useInsertionEffect:Qg,useLayoutEffect:Jg,useMemo:nm,useReducer:vd,useRef:Kg,useState:function(){return vd(Do)},useDebugValue:wd,useDeferredValue:function(i){var o=In();return At===null?o.memoizedState=i:rm(o,At.memoizedState,i)},useTransition:function(){var i=vd(Do)[0],o=In().memoizedState;return[i,o]},useMutableSource:zg,useSyncExternalStore:Hg,useId:sm,unstable_isNewReconciler:!1};function qn(i,o){if(i&&i.defaultProps){o=te({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function bd(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:te({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Rl={isMounted:function(i){return(i=i._reactInternals)?Rn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Qt(),v=cs(i),w=Nr(p,v);w.payload=o,u!=null&&(w.callback=u),o=is(i,w,v),o!==null&&(Yn(o,i,v,p),xl(o,i,v))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Qt(),v=cs(i),w=Nr(p,v);w.tag=1,w.payload=o,u!=null&&(w.callback=u),o=is(i,w,v),o!==null&&(Yn(o,i,v,p),xl(o,i,v))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Qt(),p=cs(i),v=Nr(u,p);v.tag=2,o!=null&&(v.callback=o),o=is(i,v,p),o!==null&&(Yn(o,i,p,u),xl(o,i,p))}};function lm(i,o,u,p,v,w,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,k):o.prototype&&o.prototype.isPureReactComponent?!Eo(u,p)||!Eo(v,w):!0}function cm(i,o,u){var p=!1,v=ns,w=o.contextType;return typeof w=="object"&&w!==null?w=Mn(w):(v=rn(o)?Cs:zt.current,p=o.contextTypes,w=(p=p!=null)?fi(i,v):ns),o=new o(u,w),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rl,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=w),o}function um(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&Rl.enqueueReplaceState(o,o.state,null)}function xd(i,o,u,p){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},ad(i);var w=o.contextType;typeof w=="object"&&w!==null?v.context=Mn(w):(w=rn(o)?Cs:zt.current,v.context=fi(i,w)),v.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(bd(i,o,w,u),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Rl.enqueueReplaceState(v,v.state,null),Sl(i,u,v,p),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function xi(i,o){try{var u="",p=o;do u+=oe(p),p=p.return;while(p);var v=u}catch(w){v=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:o,stack:v,digest:null}}function Sd(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Ed(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var L1=typeof WeakMap=="function"?WeakMap:Map;function dm(i,o,u){u=Nr(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Dl||(Dl=!0,jd=p),Ed(i,o)},u}function hm(i,o,u){u=Nr(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;u.payload=function(){return p(v)},u.callback=function(){Ed(i,o)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Ed(i,o),typeof p!="function"&&(as===null?as=new Set([this]):as.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),u}function fm(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new L1;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(v.add(u),i=G1.bind(null,i,o,u),o.then(i,i))}function pm(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function gm(i,o,u,p,v){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Nr(-1,1),o.tag=2,is(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var M1=P.ReactCurrentOwner,sn=!1;function Yt(i,o,u,p){o.child=i===null?Og(o,null,u,p):vi(o,i.child,u,p)}function mm(i,o,u,p,v){u=u.render;var w=o.ref;return wi(o,v),p=pd(i,o,u,p,w,v),u=gd(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,Lr(i,o,v)):(Je&&u&&Qu(o),o.flags|=1,Yt(i,o,p,v),o.child)}function vm(i,o,u,p,v){if(i===null){var w=u.type;return typeof w=="function"&&!Wd(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,ym(i,o,w,p,v)):(i=Hl(u.type,null,p,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,(i.lanes&v)===0){var k=w.memoizedProps;if(u=u.compare,u=u!==null?u:Eo,u(k,p)&&i.ref===o.ref)return Lr(i,o,v)}return o.flags|=1,i=ds(w,p),i.ref=o.ref,i.return=o,o.child=i}function ym(i,o,u,p,v){if(i!==null){var w=i.memoizedProps;if(Eo(w,p)&&i.ref===o.ref)if(sn=!1,o.pendingProps=p=w,(i.lanes&v)!==0)(i.flags&131072)!==0&&(sn=!0);else return o.lanes=i.lanes,Lr(i,o,v)}return Ad(i,o,u,p,v)}function wm(i,o,u){var p=o.pendingProps,v=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Ei,xn),xn|=u;else{if((u&1073741824)===0)return i=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Xe(Ei,xn),xn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,Xe(Ei,xn),xn|=p}else w!==null?(p=w.baseLanes|u,o.memoizedState=null):p=u,Xe(Ei,xn),xn|=p;return Yt(i,o,v,u),o.child}function bm(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Ad(i,o,u,p,v){var w=rn(u)?Cs:zt.current;return w=fi(o,w),wi(o,v),u=pd(i,o,u,p,w,v),p=gd(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,Lr(i,o,v)):(Je&&p&&Qu(o),o.flags|=1,Yt(i,o,u,v),o.child)}function xm(i,o,u,p,v){if(rn(u)){var w=!0;fl(o)}else w=!1;if(wi(o,v),o.stateNode===null)Nl(i,o),cm(o,u,p),xd(o,u,p,v),p=!0;else if(i===null){var k=o.stateNode,M=o.memoizedProps;k.props=M;var I=k.context,W=u.contextType;typeof W=="object"&&W!==null?W=Mn(W):(W=rn(u)?Cs:zt.current,W=fi(o,W));var Z=u.getDerivedStateFromProps,ne=typeof Z=="function"||typeof k.getSnapshotBeforeUpdate=="function";ne||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(M!==p||I!==W)&&um(o,k,p,W),ss=!1;var J=o.memoizedState;k.state=J,Sl(o,p,k,v),I=o.memoizedState,M!==p||J!==I||nn.current||ss?(typeof Z=="function"&&(bd(o,u,Z,p),I=o.memoizedState),(M=ss||lm(o,u,M,p,J,I,W))?(ne||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=I),k.props=p,k.state=I,k.context=W,p=M):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{k=o.stateNode,Fg(i,o),M=o.memoizedProps,W=o.type===o.elementType?M:qn(o.type,M),k.props=W,ne=o.pendingProps,J=k.context,I=u.contextType,typeof I=="object"&&I!==null?I=Mn(I):(I=rn(u)?Cs:zt.current,I=fi(o,I));var ue=u.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(M!==ne||J!==I)&&um(o,k,p,I),ss=!1,J=o.memoizedState,k.state=J,Sl(o,p,k,v);var pe=o.memoizedState;M!==ne||J!==pe||nn.current||ss?(typeof ue=="function"&&(bd(o,u,ue,p),pe=o.memoizedState),(W=ss||lm(o,u,W,p,J,pe,I)||!1)?(Z||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,pe,I),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,pe,I)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||M===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=pe),k.props=p,k.state=pe,k.context=I,p=W):(typeof k.componentDidUpdate!="function"||M===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),p=!1)}return Cd(i,o,u,p,w,v)}function Cd(i,o,u,p,v,w){bm(i,o);var k=(o.flags&128)!==0;if(!p&&!k)return v&&_g(o,u,!1),Lr(i,o,w);p=o.stateNode,M1.current=o;var M=k&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&k?(o.child=vi(o,i.child,null,w),o.child=vi(o,null,M,w)):Yt(i,o,M,w),o.memoizedState=p.state,v&&_g(o,u,!0),o.child}function Sm(i){var o=i.stateNode;o.pendingContext?Ag(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ag(i,o.context,!1),ld(i,o.containerInfo)}function Em(i,o,u,p,v){return mi(),td(v),o.flags|=256,Yt(i,o,u,p),o.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function kd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Am(i,o,u){var p=o.pendingProps,v=it.current,w=!1,k=(o.flags&128)!==0,M;if((M=k)||(M=i!==null&&i.memoizedState===null?!1:(v&2)!==0),M?(w=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),Xe(it,v&1),i===null)return ed(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=p.children,i=p.fallback,w?(p=o.mode,w=o.child,k={mode:"hidden",children:k},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=k):w=Ul(k,p,0,null),i=Os(i,p,u,null),w.return=o,i.return=o,w.sibling=i,o.child=w,o.child.memoizedState=kd(u),o.memoizedState=_d,i):Td(o,k));if(v=i.memoizedState,v!==null&&(M=v.dehydrated,M!==null))return I1(i,o,k,p,M,v,u);if(w){w=p.fallback,k=o.mode,v=i.child,M=v.sibling;var I={mode:"hidden",children:p.children};return(k&1)===0&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=I,o.deletions=null):(p=ds(v,I),p.subtreeFlags=v.subtreeFlags&14680064),M!==null?w=ds(M,w):(w=Os(w,k,u,null),w.flags|=2),w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,k=i.child.memoizedState,k=k===null?kd(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},w.memoizedState=k,w.childLanes=i.childLanes&~u,o.memoizedState=_d,p}return w=i.child,i=w.sibling,p=ds(w,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=p,o.memoizedState=null,p}function Td(i,o){return o=Ul({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Pl(i,o,u,p){return p!==null&&td(p),vi(o,i.child,null,u),i=Td(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function I1(i,o,u,p,v,w,k){if(u)return o.flags&256?(o.flags&=-257,p=Sd(Error(t(422))),Pl(i,o,k,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(w=p.fallback,v=o.mode,p=Ul({mode:"visible",children:p.children},v,0,null),w=Os(w,v,k,null),w.flags|=2,p.return=o,w.return=o,p.sibling=w,o.child=p,(o.mode&1)!==0&&vi(o,i.child,null,k),o.child.memoizedState=kd(k),o.memoizedState=_d,w);if((o.mode&1)===0)return Pl(i,o,k,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var M=p.dgst;return p=M,w=Error(t(419)),p=Sd(w,p,void 0),Pl(i,o,k,p)}if(M=(k&i.childLanes)!==0,sn||M){if(p=Rt,p!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|k))!==0?0:v,v!==0&&v!==w.retryLane&&(w.retryLane=v,Pr(i,v),Yn(p,i,v,-1))}return Vd(),p=Sd(Error(t(421))),Pl(i,o,k,p)}return v.data==="$?"?(o.flags|=128,o.child=i.child,o=q1.bind(null,i),v._reactRetry=o,null):(i=w.treeContext,bn=es(v.nextSibling),wn=o,Je=!0,Gn=null,i!==null&&(Nn[Ln++]=Tr,Nn[Ln++]=Rr,Nn[Ln++]=_s,Tr=i.id,Rr=i.overflow,_s=o),o=Td(o,p.children),o.flags|=4096,o)}function Cm(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),id(i.return,o,u)}function Rd(i,o,u,p,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=v)}function _m(i,o,u){var p=o.pendingProps,v=p.revealOrder,w=p.tail;if(Yt(i,o,p.children,u),p=it.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Cm(i,u,o);else if(i.tag===19)Cm(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Xe(it,p),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&El(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Rd(o,!1,v,u,w);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&El(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}Rd(o,!0,u,null,w);break;case"together":Rd(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Nl(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Lr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ns|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=ds(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ds(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function O1(i,o,u){switch(o.tag){case 3:Sm(o),mi();break;case 5:Bg(o);break;case 1:rn(o.type)&&fl(o);break;case 4:ld(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;Xe(wl,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Xe(it,it.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Am(i,o,u):(Xe(it,it.current&1),i=Lr(i,o,u),i!==null?i.sibling:null);Xe(it,it.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(i.flags&128)!==0){if(p)return _m(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Xe(it,it.current),p)break;return null;case 22:case 23:return o.lanes=0,wm(i,o,u)}return Lr(i,o,u)}var km,Pd,Tm,Rm;km=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Pd=function(){},Tm=function(i,o,u,p){var v=i.memoizedProps;if(v!==p){i=o.stateNode,Rs(ur.current);var w=null;switch(u){case"input":v=Le(i,v),p=Le(i,p),w=[];break;case"select":v=te({},v,{value:void 0}),p=te({},p,{value:void 0}),w=[];break;case"textarea":v=qe(i,v),p=qe(i,p),w=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=ul)}to(u,p);var k;u=null;for(W in v)if(!p.hasOwnProperty(W)&&v.hasOwnProperty(W)&&v[W]!=null)if(W==="style"){var M=v[W];for(k in M)M.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(r.hasOwnProperty(W)?w||(w=[]):(w=w||[]).push(W,null));for(W in p){var I=p[W];if(M=v?.[W],p.hasOwnProperty(W)&&I!==M&&(I!=null||M!=null))if(W==="style")if(M){for(k in M)!M.hasOwnProperty(k)||I&&I.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in I)I.hasOwnProperty(k)&&M[k]!==I[k]&&(u||(u={}),u[k]=I[k])}else u||(w||(w=[]),w.push(W,u)),u=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,M=M?M.__html:void 0,I!=null&&M!==I&&(w=w||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(w=w||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(r.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&Ke("scroll",i),w||M===I||(w=[])):(w=w||[]).push(W,I))}u&&(w=w||[]).push("style",u);var W=w;(o.updateQueue=W)&&(o.flags|=4)}},Rm=function(i,o,u,p){u!==p&&(o.flags|=4)};function jo(i,o){if(!Je)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function D1(i,o,u){var p=o.pendingProps;switch(Ju(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return rn(o.type)&&hl(),Ut(o),null;case 3:return p=o.stateNode,bi(),Ye(nn),Ye(zt),dd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(vl(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gn!==null&&(zd(Gn),Gn=null))),Pd(i,o),Ut(o),null;case 5:cd(o);var v=Rs(Mo.current);if(u=o.type,i!==null&&o.stateNode!=null)Tm(i,o,u,p,v),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return Ut(o),null}if(i=Rs(ur.current),vl(o)){p=o.stateNode,u=o.type;var w=o.memoizedProps;switch(p[cr]=o,p[To]=w,i=(o.mode&1)!==0,u){case"dialog":Ke("cancel",p),Ke("close",p);break;case"iframe":case"object":case"embed":Ke("load",p);break;case"video":case"audio":for(v=0;v<Co.length;v++)Ke(Co[v],p);break;case"source":Ke("error",p);break;case"img":case"image":case"link":Ke("error",p),Ke("load",p);break;case"details":Ke("toggle",p);break;case"input":He(p,w),Ke("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Ke("invalid",p);break;case"textarea":xt(p,w),Ke("invalid",p)}to(u,w),v=null;for(var k in w)if(w.hasOwnProperty(k)){var M=w[k];k==="children"?typeof M=="string"?p.textContent!==M&&(w.suppressHydrationWarning!==!0&&cl(p.textContent,M,i),v=["children",M]):typeof M=="number"&&p.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&cl(p.textContent,M,i),v=["children",""+M]):r.hasOwnProperty(k)&&M!=null&&k==="onScroll"&&Ke("scroll",p)}switch(u){case"input":nt(p),It(p,w,!0);break;case"textarea":nt(p),St(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=ul)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Vr(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=k.createElement(u,{is:p.is}):(i=k.createElement(u),u==="select"&&(k=i,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):i=k.createElementNS(i,u),i[cr]=o,i[To]=p,km(i,o,!1,!1),o.stateNode=i;e:{switch(k=no(u,p),u){case"dialog":Ke("cancel",i),Ke("close",i),v=p;break;case"iframe":case"object":case"embed":Ke("load",i),v=p;break;case"video":case"audio":for(v=0;v<Co.length;v++)Ke(Co[v],i);v=p;break;case"source":Ke("error",i),v=p;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),v=p;break;case"details":Ke("toggle",i),v=p;break;case"input":He(i,p),v=Le(i,p),Ke("invalid",i);break;case"option":v=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},v=te({},p,{value:void 0}),Ke("invalid",i);break;case"textarea":xt(i,p),v=qe(i,p),Ke("invalid",i);break;default:v=p}to(u,v),M=v;for(w in M)if(M.hasOwnProperty(w)){var I=M[w];w==="style"?$a(i,I):w==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&vn(i,I)):w==="children"?typeof I=="string"?(u!=="textarea"||I!=="")&&Un(i,I):typeof I=="number"&&Un(i,""+I):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(r.hasOwnProperty(w)?I!=null&&w==="onScroll"&&Ke("scroll",i):I!=null&&C(i,w,I,k))}switch(u){case"input":nt(i),It(i,p,!1);break;case"textarea":nt(i),St(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Ee(p.value));break;case"select":i.multiple=!!p.multiple,w=p.value,w!=null?je(i,!!p.multiple,w,!1):p.defaultValue!=null&&je(i,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=ul)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ut(o),null;case 6:if(i&&o.stateNode!=null)Rm(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(u=Rs(Mo.current),Rs(ur.current),vl(o)){if(p=o.stateNode,u=o.memoizedProps,p[cr]=o,(w=p.nodeValue!==u)&&(i=wn,i!==null))switch(i.tag){case 3:cl(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&cl(p.nodeValue,u,(i.mode&1)!==0)}w&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[cr]=o,o.stateNode=p}return Ut(o),null;case 13:if(Ye(it),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Je&&bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Lg(),mi(),o.flags|=98560,w=!1;else if(w=vl(o),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[cr]=o}else mi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),w=!1}else Gn!==null&&(zd(Gn),Gn=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(it.current&1)!==0?Ct===0&&(Ct=3):Vd())),o.updateQueue!==null&&(o.flags|=4),Ut(o),null);case 4:return bi(),Pd(i,o),i===null&&_o(o.stateNode.containerInfo),Ut(o),null;case 10:return sd(o.type._context),Ut(o),null;case 17:return rn(o.type)&&hl(),Ut(o),null;case 19:if(Ye(it),w=o.memoizedState,w===null)return Ut(o),null;if(p=(o.flags&128)!==0,k=w.rendering,k===null)if(p)jo(w,!1);else{if(Ct!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(k=El(i),k!==null){for(o.flags|=128,jo(w,!1),p=k.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)w=u,i=p,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,i=k.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Xe(it,it.current&1|2),o.child}i=i.sibling}w.tail!==null&&ct()>Ai&&(o.flags|=128,p=!0,jo(w,!1),o.lanes=4194304)}else{if(!p)if(i=El(k),i!==null){if(o.flags|=128,p=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),jo(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!Je)return Ut(o),null}else 2*ct()-w.renderingStartTime>Ai&&u!==1073741824&&(o.flags|=128,p=!0,jo(w,!1),o.lanes=4194304);w.isBackwards?(k.sibling=o.child,o.child=k):(u=w.last,u!==null?u.sibling=k:o.child=k,w.last=k)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ct(),o.sibling=null,u=it.current,Xe(it,p?u&1|2:u&1),o):(Ut(o),null);case 22:case 23:return Ud(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(xn&1073741824)!==0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function F1(i,o){switch(Ju(o),o.tag){case 1:return rn(o.type)&&hl(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return bi(),Ye(nn),Ye(zt),dd(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return cd(o),null;case 13:if(Ye(it),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));mi()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ye(it),null;case 4:return bi(),null;case 10:return sd(o.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var Ll=!1,Vt=!1,j1=typeof WeakSet=="function"?WeakSet:Set,he=null;function Si(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){lt(i,o,p)}else u.current=null}function Nd(i,o,u){try{u()}catch(p){lt(i,o,p)}}var Pm=!1;function $1(i,o){if(Uu=Ja,i=lg(),Ou(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var k=0,M=-1,I=-1,W=0,Z=0,ne=i,J=null;t:for(;;){for(var ue;ne!==u||v!==0&&ne.nodeType!==3||(M=k+v),ne!==w||p!==0&&ne.nodeType!==3||(I=k+p),ne.nodeType===3&&(k+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)J=ne,ne=ue;for(;;){if(ne===i)break t;if(J===u&&++W===v&&(M=k),J===w&&++Z===p&&(I=k),(ue=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=ue}u=M===-1||I===-1?null:{start:M,end:I}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vu={focusedElem:i,selectionRange:u},Ja=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,ut=pe.memoizedState,$=o.stateNode,F=$.getSnapshotBeforeUpdate(o.elementType===o.type?ge:qn(o.type,ge),ut);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var z=o.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){lt(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return pe=Pm,Pm=!1,pe}function $o(i,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&i)===i){var w=v.destroy;v.destroy=void 0,w!==void 0&&Nd(o,u,w)}v=v.next}while(v!==p)}}function Ml(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function Ld(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Nm(i){var o=i.alternate;o!==null&&(i.alternate=null,Nm(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[cr],delete o[To],delete o[Xu],delete o[x1],delete o[S1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Lm(i){return i.tag===5||i.tag===3||i.tag===4}function Mm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Lm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Md(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ul));else if(p!==4&&(i=i.child,i!==null))for(Md(i,o,u),i=i.sibling;i!==null;)Md(i,o,u),i=i.sibling}function Id(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Id(i,o,u),i=i.sibling;i!==null;)Id(i,o,u),i=i.sibling}var Dt=null,Xn=!1;function os(i,o,u){for(u=u.child;u!==null;)Im(i,o,u),u=u.sibling}function Im(i,o,u){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ga,u)}catch{}switch(u.tag){case 5:Vt||Si(u,o);case 6:var p=Dt,v=Xn;Dt=null,os(i,o,u),Dt=p,Xn=v,Dt!==null&&(Xn?(i=Dt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Dt.removeChild(u.stateNode));break;case 18:Dt!==null&&(Xn?(i=Dt,u=u.stateNode,i.nodeType===8?qu(i.parentNode,u):i.nodeType===1&&qu(i,u),vo(i)):qu(Dt,u.stateNode));break;case 4:p=Dt,v=Xn,Dt=u.stateNode.containerInfo,Xn=!0,os(i,o,u),Dt=p,Xn=v;break;case 0:case 11:case 14:case 15:if(!Vt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var w=v,k=w.destroy;w=w.tag,k!==void 0&&((w&2)!==0||(w&4)!==0)&&Nd(u,o,k),v=v.next}while(v!==p)}os(i,o,u);break;case 1:if(!Vt&&(Si(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(M){lt(u,o,M)}os(i,o,u);break;case 21:os(i,o,u);break;case 22:u.mode&1?(Vt=(p=Vt)||u.memoizedState!==null,os(i,o,u),Vt=p):os(i,o,u);break;default:os(i,o,u)}}function Om(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new j1),o.forEach(function(p){var v=X1.bind(null,i,p);u.has(p)||(u.add(p),p.then(v,v))})}}function Kn(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var w=i,k=o,M=k;e:for(;M!==null;){switch(M.tag){case 5:Dt=M.stateNode,Xn=!1;break e;case 3:Dt=M.stateNode.containerInfo,Xn=!0;break e;case 4:Dt=M.stateNode.containerInfo,Xn=!0;break e}M=M.return}if(Dt===null)throw Error(t(160));Im(w,k,v),Dt=null,Xn=!1;var I=v.alternate;I!==null&&(I.return=null),v.return=null}catch(W){lt(v,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Dm(o,i),o=o.sibling}function Dm(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Kn(o,i),hr(i),p&4){try{$o(3,i,i.return),Ml(3,i)}catch(ge){lt(i,i.return,ge)}try{$o(5,i,i.return)}catch(ge){lt(i,i.return,ge)}}break;case 1:Kn(o,i),hr(i),p&512&&u!==null&&Si(u,u.return);break;case 5:if(Kn(o,i),hr(i),p&512&&u!==null&&Si(u,u.return),i.flags&32){var v=i.stateNode;try{Un(v,"")}catch(ge){lt(i,i.return,ge)}}if(p&4&&(v=i.stateNode,v!=null)){var w=i.memoizedProps,k=u!==null?u.memoizedProps:w,M=i.type,I=i.updateQueue;if(i.updateQueue=null,I!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&De(v,w),no(M,k);var W=no(M,w);for(k=0;k<I.length;k+=2){var Z=I[k],ne=I[k+1];Z==="style"?$a(v,ne):Z==="dangerouslySetInnerHTML"?vn(v,ne):Z==="children"?Un(v,ne):C(v,Z,ne,W)}switch(M){case"input":kt(v,w);break;case"textarea":Bt(v,w);break;case"select":var J=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!w.multiple;var ue=w.value;ue!=null?je(v,!!w.multiple,ue,!1):J!==!!w.multiple&&(w.defaultValue!=null?je(v,!!w.multiple,w.defaultValue,!0):je(v,!!w.multiple,w.multiple?[]:"",!1))}v[To]=w}catch(ge){lt(i,i.return,ge)}}break;case 6:if(Kn(o,i),hr(i),p&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,w=i.memoizedProps;try{v.nodeValue=w}catch(ge){lt(i,i.return,ge)}}break;case 3:if(Kn(o,i),hr(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{vo(o.containerInfo)}catch(ge){lt(i,i.return,ge)}break;case 4:Kn(o,i),hr(i);break;case 13:Kn(o,i),hr(i),v=i.child,v.flags&8192&&(w=v.memoizedState!==null,v.stateNode.isHidden=w,!w||v.alternate!==null&&v.alternate.memoizedState!==null||(Fd=ct())),p&4&&Om(i);break;case 22:if(Z=u!==null&&u.memoizedState!==null,i.mode&1?(Vt=(W=Vt)||Z,Kn(o,i),Vt=W):Kn(o,i),hr(i),p&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!Z&&(i.mode&1)!==0)for(he=i,Z=i.child;Z!==null;){for(ne=he=Z;he!==null;){switch(J=he,ue=J.child,J.tag){case 0:case 11:case 14:case 15:$o(4,J,J.return);break;case 1:Si(J,J.return);var pe=J.stateNode;if(typeof pe.componentWillUnmount=="function"){p=J,u=J.return;try{o=p,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ge){lt(p,u,ge)}}break;case 5:Si(J,J.return);break;case 22:if(J.memoizedState!==null){$m(ne);continue}}ue!==null?(ue.return=J,he=ue):$m(ne)}Z=Z.sibling}e:for(Z=null,ne=i;;){if(ne.tag===5){if(Z===null){Z=ne;try{v=ne.stateNode,W?(w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=ne.stateNode,I=ne.memoizedProps.style,k=I!=null&&I.hasOwnProperty("display")?I.display:null,M.style.display=ja("display",k))}catch(ge){lt(i,i.return,ge)}}}else if(ne.tag===6){if(Z===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(ge){lt(i,i.return,ge)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;Z===ne&&(Z=null),ne=ne.return}Z===ne&&(Z=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Kn(o,i),hr(i),p&4&&Om(i);break;case 21:break;default:Kn(o,i),hr(i)}}function hr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Lm(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(Un(v,""),p.flags&=-33);var w=Mm(i);Id(i,w,v);break;case 3:case 4:var k=p.stateNode.containerInfo,M=Mm(i);Md(i,M,k);break;default:throw Error(t(161))}}catch(I){lt(i,i.return,I)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function B1(i,o,u){he=i,Fm(i)}function Fm(i,o,u){for(var p=(i.mode&1)!==0;he!==null;){var v=he,w=v.child;if(v.tag===22&&p){var k=v.memoizedState!==null||Ll;if(!k){var M=v.alternate,I=M!==null&&M.memoizedState!==null||Vt;M=Ll;var W=Vt;if(Ll=k,(Vt=I)&&!W)for(he=v;he!==null;)k=he,I=k.child,k.tag===22&&k.memoizedState!==null?Bm(v):I!==null?(I.return=k,he=I):Bm(v);for(;w!==null;)he=w,Fm(w),w=w.sibling;he=v,Ll=M,Vt=W}jm(i)}else(v.subtreeFlags&8772)!==0&&w!==null?(w.return=v,he=w):jm(i)}}function jm(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Vt||Ml(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Vt)if(u===null)p.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:qn(o.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&$g(o,w,p);break;case 3:var k=o.updateQueue;if(k!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}$g(o,k,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var I=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&u.focus();break;case"img":I.src&&(u.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var Z=W.memoizedState;if(Z!==null){var ne=Z.dehydrated;ne!==null&&vo(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vt||o.flags&512&&Ld(o)}catch(J){lt(o,o.return,J)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function $m(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function Bm(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ml(4,o)}catch(I){lt(o,u,I)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch(I){lt(o,v,I)}}var w=o.return;try{Ld(o)}catch(I){lt(o,w,I)}break;case 5:var k=o.return;try{Ld(o)}catch(I){lt(o,k,I)}}}catch(I){lt(o,o.return,I)}if(o===i){he=null;break}var M=o.sibling;if(M!==null){M.return=o.return,he=M;break}he=o.return}}var z1=Math.ceil,Il=P.ReactCurrentDispatcher,Od=P.ReactCurrentOwner,On=P.ReactCurrentBatchConfig,Fe=0,Rt=null,vt=null,Ft=0,xn=0,Ei=ts(0),Ct=0,Bo=null,Ns=0,Ol=0,Dd=0,zo=null,on=null,Fd=0,Ai=1/0,Mr=null,Dl=!1,jd=null,as=null,Fl=!1,ls=null,jl=0,Ho=0,$d=null,$l=-1,Bl=0;function Qt(){return(Fe&6)!==0?ct():$l!==-1?$l:$l=ct()}function cs(i){return(i.mode&1)===0?1:(Fe&2)!==0&&Ft!==0?Ft&-Ft:A1.transition!==null?(Bl===0&&(Bl=Mp()),Bl):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Hp(i.type)),i)}function Yn(i,o,u,p){if(50<Ho)throw Ho=0,$d=null,Error(t(185));ho(i,u,p),((Fe&2)===0||i!==Rt)&&(i===Rt&&((Fe&2)===0&&(Ol|=u),Ct===4&&us(i,Ft)),an(i,p),u===1&&Fe===0&&(o.mode&1)===0&&(Ai=ct()+500,pl&&rs()))}function an(i,o){var u=i.callbackNode;Ax(i,o);var p=Ka(i,i===Rt?Ft:0);if(p===0)u!==null&&Pn(u),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(u!=null&&Pn(u),o===1)i.tag===0?E1(Hm.bind(null,i)):kg(Hm.bind(null,i)),w1(function(){(Fe&6)===0&&rs()}),u=null;else{switch(Ip(p)){case 1:u=yu;break;case 4:u=Np;break;case 16:u=Wa;break;case 536870912:u=Lp;break;default:u=Wa}u=Ym(u,zm.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function zm(i,o){if($l=-1,Bl=0,(Fe&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Ci()&&i.callbackNode!==u)return null;var p=Ka(i,i===Rt?Ft:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=zl(i,p);else{o=p;var v=Fe;Fe|=2;var w=Vm();(Rt!==i||Ft!==o)&&(Mr=null,Ai=ct()+500,Ms(i,o));do try{V1();break}catch(M){Um(i,M)}while(!0);rd(),Il.current=w,Fe=v,vt!==null?o=0:(Rt=null,Ft=0,o=Ct)}if(o!==0){if(o===2&&(v=wu(i),v!==0&&(p=v,o=Bd(i,v))),o===1)throw u=Bo,Ms(i,0),us(i,p),an(i,ct()),u;if(o===6)us(i,p);else{if(v=i.current.alternate,(p&30)===0&&!H1(v)&&(o=zl(i,p),o===2&&(w=wu(i),w!==0&&(p=w,o=Bd(i,w))),o===1))throw u=Bo,Ms(i,0),us(i,p),an(i,ct()),u;switch(i.finishedWork=v,i.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:Is(i,on,Mr);break;case 3:if(us(i,p),(p&130023424)===p&&(o=Fd+500-ct(),10<o)){if(Ka(i,0)!==0)break;if(v=i.suspendedLanes,(v&p)!==p){Qt(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Gu(Is.bind(null,i,on,Mr),o);break}Is(i,on,Mr);break;case 4:if(us(i,p),(p&4194240)===p)break;for(o=i.eventTimes,v=-1;0<p;){var k=31-Vn(p);w=1<<k,k=o[k],k>v&&(v=k),p&=~w}if(p=v,p=ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*z1(p/1960))-p,10<p){i.timeoutHandle=Gu(Is.bind(null,i,on,Mr),p);break}Is(i,on,Mr);break;case 5:Is(i,on,Mr);break;default:throw Error(t(329))}}}return an(i,ct()),i.callbackNode===u?zm.bind(null,i):null}function Bd(i,o){var u=zo;return i.current.memoizedState.isDehydrated&&(Ms(i,o).flags|=256),i=zl(i,o),i!==2&&(o=on,on=u,o!==null&&zd(o)),i}function zd(i){on===null?on=i:on.push.apply(on,i)}function H1(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],w=v.getSnapshot;v=v.value;try{if(!Wn(w(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function us(i,o){for(o&=~Dd,o&=~Ol,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-Vn(o),p=1<<u;i[u]=-1,o&=~p}}function Hm(i){if((Fe&6)!==0)throw Error(t(327));Ci();var o=Ka(i,0);if((o&1)===0)return an(i,ct()),null;var u=zl(i,o);if(i.tag!==0&&u===2){var p=wu(i);p!==0&&(o=p,u=Bd(i,p))}if(u===1)throw u=Bo,Ms(i,0),us(i,o),an(i,ct()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Is(i,on,Mr),an(i,ct()),null}function Hd(i,o){var u=Fe;Fe|=1;try{return i(o)}finally{Fe=u,Fe===0&&(Ai=ct()+500,pl&&rs())}}function Ls(i){ls!==null&&ls.tag===0&&(Fe&6)===0&&Ci();var o=Fe;Fe|=1;var u=On.transition,p=Ue;try{if(On.transition=null,Ue=1,i)return i()}finally{Ue=p,On.transition=u,Fe=o,(Fe&6)===0&&rs()}}function Ud(){xn=Ei.current,Ye(Ei)}function Ms(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,y1(u)),vt!==null)for(u=vt.return;u!==null;){var p=u;switch(Ju(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&hl();break;case 3:bi(),Ye(nn),Ye(zt),dd();break;case 5:cd(p);break;case 4:bi();break;case 13:Ye(it);break;case 19:Ye(it);break;case 10:sd(p.type._context);break;case 22:case 23:Ud()}u=u.return}if(Rt=i,vt=i=ds(i.current,null),Ft=xn=o,Ct=0,Bo=null,Dd=Ol=Ns=0,on=zo=null,Ts!==null){for(o=0;o<Ts.length;o++)if(u=Ts[o],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,w=u.pending;if(w!==null){var k=w.next;w.next=v,p.next=k}u.pending=p}Ts=null}return i}function Um(i,o){do{var u=vt;try{if(rd(),Al.current=Tl,Cl){for(var p=ot.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Cl=!1}if(Ps=0,Tt=At=ot=null,Io=!1,Oo=0,Od.current=null,u===null||u.return===null){Ct=1,Bo=o,vt=null;break}e:{var w=i,k=u.return,M=u,I=o;if(o=Ft,M.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,Z=M,ne=Z.tag;if((Z.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=pm(k);if(ue!==null){ue.flags&=-257,gm(ue,k,M,w,o),ue.mode&1&&fm(w,W,o),o=ue,I=W;var pe=o.updateQueue;if(pe===null){var ge=new Set;ge.add(I),o.updateQueue=ge}else pe.add(I);break e}else{if((o&1)===0){fm(w,W,o),Vd();break e}I=Error(t(426))}}else if(Je&&M.mode&1){var ut=pm(k);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),gm(ut,k,M,w,o),td(xi(I,M));break e}}w=I=xi(I,M),Ct!==4&&(Ct=2),zo===null?zo=[w]:zo.push(w),w=k;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var $=dm(w,I,o);jg(w,$);break e;case 1:M=I;var F=w.type,z=w.stateNode;if((w.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(as===null||!as.has(z)))){w.flags|=65536,o&=-o,w.lanes|=o;var se=hm(w,M,o);jg(w,se);break e}}w=w.return}while(w!==null)}Gm(u)}catch(ve){o=ve,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function Vm(){var i=Il.current;return Il.current=Tl,i===null?Tl:i}function Vd(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Rt===null||(Ns&268435455)===0&&(Ol&268435455)===0||us(Rt,Ft)}function zl(i,o){var u=Fe;Fe|=2;var p=Vm();(Rt!==i||Ft!==o)&&(Mr=null,Ms(i,o));do try{U1();break}catch(v){Um(i,v)}while(!0);if(rd(),Fe=u,Il.current=p,vt!==null)throw Error(t(261));return Rt=null,Ft=0,Ct}function U1(){for(;vt!==null;)Wm(vt)}function V1(){for(;vt!==null&&!gx();)Wm(vt)}function Wm(i){var o=Km(i.alternate,i,xn);i.memoizedProps=i.pendingProps,o===null?Gm(i):vt=o,Od.current=null}function Gm(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=D1(u,o,xn),u!==null){vt=u;return}}else{if(u=F1(u,o),u!==null){u.flags&=32767,vt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ct=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);Ct===0&&(Ct=5)}function Is(i,o,u){var p=Ue,v=On.transition;try{On.transition=null,Ue=1,W1(i,o,u,p)}finally{On.transition=v,Ue=p}return null}function W1(i,o,u,p){do Ci();while(ls!==null);if((Fe&6)!==0)throw Error(t(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(Cx(i,w),i===Rt&&(vt=Rt=null,Ft=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Fl||(Fl=!0,Ym(Wa,function(){return Ci(),null})),w=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||w){w=On.transition,On.transition=null;var k=Ue;Ue=1;var M=Fe;Fe|=4,Od.current=null,$1(i,u),Dm(u,i),d1(Vu),Ja=!!Uu,Vu=Uu=null,i.current=u,B1(u),mx(),Fe=M,Ue=k,On.transition=w}else i.current=u;if(Fl&&(Fl=!1,ls=i,jl=v),w=i.pendingLanes,w===0&&(as=null),wx(u.stateNode),an(i,ct()),o!==null)for(p=i.onRecoverableError,u=0;u<o.length;u++)v=o[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(Dl)throw Dl=!1,i=jd,jd=null,i;return(jl&1)!==0&&i.tag!==0&&Ci(),w=i.pendingLanes,(w&1)!==0?i===$d?Ho++:(Ho=0,$d=i):Ho=0,rs(),null}function Ci(){if(ls!==null){var i=Ip(jl),o=On.transition,u=Ue;try{if(On.transition=null,Ue=16>i?16:i,ls===null)var p=!1;else{if(i=ls,ls=null,jl=0,(Fe&6)!==0)throw Error(t(331));var v=Fe;for(Fe|=4,he=i.current;he!==null;){var w=he,k=w.child;if((he.flags&16)!==0){var M=w.deletions;if(M!==null){for(var I=0;I<M.length;I++){var W=M[I];for(he=W;he!==null;){var Z=he;switch(Z.tag){case 0:case 11:case 15:$o(8,Z,w)}var ne=Z.child;if(ne!==null)ne.return=Z,he=ne;else for(;he!==null;){Z=he;var J=Z.sibling,ue=Z.return;if(Nm(Z),Z===W){he=null;break}if(J!==null){J.return=ue,he=J;break}he=ue}}}var pe=w.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var ut=ge.sibling;ge.sibling=null,ge=ut}while(ge!==null)}}he=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,he=k;else e:for(;he!==null;){if(w=he,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:$o(9,w,w.return)}var $=w.sibling;if($!==null){$.return=w.return,he=$;break e}he=w.return}}var F=i.current;for(he=F;he!==null;){k=he;var z=k.child;if((k.subtreeFlags&2064)!==0&&z!==null)z.return=k,he=z;else e:for(k=F;he!==null;){if(M=he,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Ml(9,M)}}catch(ve){lt(M,M.return,ve)}if(M===k){he=null;break e}var se=M.sibling;if(se!==null){se.return=M.return,he=se;break e}he=M.return}}if(Fe=v,rs(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ga,i)}catch{}p=!0}return p}finally{Ue=u,On.transition=o}}return!1}function qm(i,o,u){o=xi(u,o),o=dm(i,o,1),i=is(i,o,1),o=Qt(),i!==null&&(ho(i,1,o),an(i,o))}function lt(i,o,u){if(i.tag===3)qm(i,i,u);else for(;o!==null;){if(o.tag===3){qm(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(as===null||!as.has(p))){i=xi(u,i),i=hm(o,i,1),o=is(o,i,1),i=Qt(),o!==null&&(ho(o,1,i),an(o,i));break}}o=o.return}}function G1(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),o=Qt(),i.pingedLanes|=i.suspendedLanes&u,Rt===i&&(Ft&u)===u&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>ct()-Fd?Ms(i,0):Dd|=u),an(i,o)}function Xm(i,o){o===0&&((i.mode&1)===0?o=1:(o=Xa,Xa<<=1,(Xa&130023424)===0&&(Xa=4194304)));var u=Qt();i=Pr(i,o),i!==null&&(ho(i,o,u),an(i,u))}function q1(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Xm(i,u)}function X1(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),Xm(i,u)}var Km;Km=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||nn.current)sn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return sn=!1,O1(i,o,u);sn=(i.flags&131072)!==0}else sn=!1,Je&&(o.flags&1048576)!==0&&Tg(o,ml,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Nl(i,o),i=o.pendingProps;var v=fi(o,zt.current);wi(o,u),v=pd(null,o,p,i,v,u);var w=gd();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rn(p)?(w=!0,fl(o)):w=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,ad(o),v.updater=Rl,o.stateNode=v,v._reactInternals=o,xd(o,p,i,u),o=Cd(null,o,p,!0,w,u)):(o.tag=0,Je&&w&&Qu(o),Yt(null,o,v,u),o=o.child),o;case 16:p=o.elementType;e:{switch(Nl(i,o),i=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=Y1(p),i=qn(p,i),v){case 0:o=Ad(null,o,p,i,u);break e;case 1:o=xm(null,o,p,i,u);break e;case 11:o=mm(null,o,p,i,u);break e;case 14:o=vm(null,o,p,qn(p.type,i),u);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:qn(p,v),Ad(i,o,p,v,u);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:qn(p,v),xm(i,o,p,v,u);case 3:e:{if(Sm(o),i===null)throw Error(t(387));p=o.pendingProps,w=o.memoizedState,v=w.element,Fg(i,o),Sl(o,p,null,u);var k=o.memoizedState;if(p=k.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){v=xi(Error(t(423)),o),o=Em(i,o,p,u,v);break e}else if(p!==v){v=xi(Error(t(424)),o),o=Em(i,o,p,u,v);break e}else for(bn=es(o.stateNode.containerInfo.firstChild),wn=o,Je=!0,Gn=null,u=Og(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(mi(),p===v){o=Lr(i,o,u);break e}Yt(i,o,p,u)}o=o.child}return o;case 5:return Bg(o),i===null&&ed(o),p=o.type,v=o.pendingProps,w=i!==null?i.memoizedProps:null,k=v.children,Wu(p,v)?k=null:w!==null&&Wu(p,w)&&(o.flags|=32),bm(i,o),Yt(i,o,k,u),o.child;case 6:return i===null&&ed(o),null;case 13:return Am(i,o,u);case 4:return ld(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=vi(o,null,p,u):Yt(i,o,p,u),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:qn(p,v),mm(i,o,p,v,u);case 7:return Yt(i,o,o.pendingProps,u),o.child;case 8:return Yt(i,o,o.pendingProps.children,u),o.child;case 12:return Yt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,w=o.memoizedProps,k=v.value,Xe(wl,p._currentValue),p._currentValue=k,w!==null)if(Wn(w.value,k)){if(w.children===v.children&&!nn.current){o=Lr(i,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var M=w.dependencies;if(M!==null){k=w.child;for(var I=M.firstContext;I!==null;){if(I.context===p){if(w.tag===1){I=Nr(-1,u&-u),I.tag=2;var W=w.updateQueue;if(W!==null){W=W.shared;var Z=W.pending;Z===null?I.next=I:(I.next=Z.next,Z.next=I),W.pending=I}}w.lanes|=u,I=w.alternate,I!==null&&(I.lanes|=u),id(w.return,u,o),M.lanes|=u;break}I=I.next}}else if(w.tag===10)k=w.type===o.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(t(341));k.lanes|=u,M=k.alternate,M!==null&&(M.lanes|=u),id(k,u,o),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===o){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}Yt(i,o,v.children,u),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,wi(o,u),v=Mn(v),p=p(v),o.flags|=1,Yt(i,o,p,u),o.child;case 14:return p=o.type,v=qn(p,o.pendingProps),v=qn(p.type,v),vm(i,o,p,v,u);case 15:return ym(i,o,o.type,o.pendingProps,u);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:qn(p,v),Nl(i,o),o.tag=1,rn(p)?(i=!0,fl(o)):i=!1,wi(o,u),cm(o,p,v),xd(o,p,v,u),Cd(null,o,p,!0,i,u);case 19:return _m(i,o,u);case 22:return wm(i,o,u)}throw Error(t(156,o.tag))};function Ym(i,o){return Va(i,o)}function K1(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,o,u,p){return new K1(i,o,u,p)}function Wd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Y1(i){if(typeof i=="function")return Wd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Y)return 11;if(i===re)return 14}return 2}function ds(i,o){var u=i.alternate;return u===null?(u=Dn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Hl(i,o,u,p,v,w){var k=2;if(p=i,typeof i=="function")Wd(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case N:return Os(u.children,v,w,o);case D:k=8,v|=8;break;case j:return i=Dn(12,u,o,v|2),i.elementType=j,i.lanes=w,i;case Q:return i=Dn(13,u,o,v),i.elementType=Q,i.lanes=w,i;case X:return i=Dn(19,u,o,v),i.elementType=X,i.lanes=w,i;case V:return Ul(u,v,w,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:k=10;break e;case G:k=9;break e;case Y:k=11;break e;case re:k=14;break e;case U:k=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Dn(k,u,o,v),o.elementType=i,o.type=p,o.lanes=w,o}function Os(i,o,u,p){return i=Dn(7,i,p,o),i.lanes=u,i}function Ul(i,o,u,p){return i=Dn(22,i,p,o),i.elementType=V,i.lanes=u,i.stateNode={isHidden:!1},i}function Gd(i,o,u){return i=Dn(6,i,null,o),i.lanes=u,i}function qd(i,o,u){return o=Dn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Q1(i,o,u,p,v){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Xd(i,o,u,p,v,w,k,M,I){return i=new Q1(i,o,u,M,I),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Dn(3,null,null,o),i.current=w,w.stateNode=i,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(w),i}function J1(i,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:p==null?null:""+p,children:i,containerInfo:o,implementation:u}}function Qm(i){if(!i)return ns;i=i._reactInternals;e:{if(Rn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(rn(u))return Cg(i,u,o)}return o}function Jm(i,o,u,p,v,w,k,M,I){return i=Xd(u,p,!0,i,v,w,k,M,I),i.context=Qm(null),u=i.current,p=Qt(),v=cs(u),w=Nr(p,v),w.callback=o??null,is(u,w,v),i.current.lanes=v,ho(i,v,p),an(i,p),i}function Vl(i,o,u,p){var v=o.current,w=Qt(),k=cs(v);return u=Qm(u),o.context===null?o.context=u:o.pendingContext=u,o=Nr(w,k),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=is(v,o,k),i!==null&&(Yn(i,v,k,w),xl(i,v,k)),k}function Wl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Zm(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Kd(i,o){Zm(i,o),(i=i.alternate)&&Zm(i,o)}function Z1(){return null}var e0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Yd(i){this._internalRoot=i}Gl.prototype.render=Yd.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Vl(i,o,null,null)},Gl.prototype.unmount=Yd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ls(function(){Vl(null,i,null,null)}),o[_r]=null}};function Gl(i){this._internalRoot=i}Gl.prototype.unstable_scheduleHydration=function(i){if(i){var o=Fp();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Qr.length&&o!==0&&o<Qr[u].priority;u++);Qr.splice(u,0,i),u===0&&Bp(i)}};function Qd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ql(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function t0(){}function eS(i,o,u,p,v){if(v){if(typeof p=="function"){var w=p;p=function(){var W=Wl(k);w.call(W)}}var k=Jm(o,p,i,0,null,!1,!1,"",t0);return i._reactRootContainer=k,i[_r]=k.current,_o(i.nodeType===8?i.parentNode:i),Ls(),k}for(;v=i.lastChild;)i.removeChild(v);if(typeof p=="function"){var M=p;p=function(){var W=Wl(I);M.call(W)}}var I=Xd(i,0,!1,null,null,!1,!1,"",t0);return i._reactRootContainer=I,i[_r]=I.current,_o(i.nodeType===8?i.parentNode:i),Ls(function(){Vl(o,I,u,p)}),I}function Xl(i,o,u,p,v){var w=u._reactRootContainer;if(w){var k=w;if(typeof v=="function"){var M=v;v=function(){var I=Wl(k);M.call(I)}}Vl(o,k,i,v)}else k=eS(u,o,i,v,p);return Wl(k)}Op=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=uo(o.pendingLanes);u!==0&&(xu(o,u|1),an(o,ct()),(Fe&6)===0&&(Ai=ct()+500,rs()))}break;case 13:Ls(function(){var p=Pr(i,1);if(p!==null){var v=Qt();Yn(p,i,1,v)}}),Kd(i,1)}},Su=function(i){if(i.tag===13){var o=Pr(i,134217728);if(o!==null){var u=Qt();Yn(o,i,134217728,u)}Kd(i,134217728)}},Dp=function(i){if(i.tag===13){var o=cs(i),u=Pr(i,o);if(u!==null){var p=Qt();Yn(u,i,o,p)}Kd(i,o)}},Fp=function(){return Ue},jp=function(i,o){var u=Ue;try{return Ue=i,o()}finally{Ue=u}},io=function(i,o,u){switch(o){case"input":if(kt(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var v=dl(p);if(!v)throw Error(t(90));Ge(p),kt(p,v)}}}break;case"textarea":Bt(i,u);break;case"select":o=u.value,o!=null&&je(i,!!u.multiple,o,!1)}},bs=Hd,xs=Ls;var tS={usingClientEntryPoint:!1,Events:[Ro,di,dl,za,oo,Hd]},Uo={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nS={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=co(i),i===null?null:i.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{Ga=Kl.inject(nS),lr=Kl}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tS,cn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(o))throw Error(t(200));return J1(i,o,null,u)},cn.createRoot=function(i,o){if(!Qd(i))throw Error(t(299));var u=!1,p="",v=e0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=Xd(i,1,!1,null,null,u,!1,p,v),i[_r]=o.current,_o(i.nodeType===8?i.parentNode:i),new Yd(o)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=co(o),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return Ls(i)},cn.hydrate=function(i,o,u){if(!ql(o))throw Error(t(200));return Xl(null,i,o,!0,u)},cn.hydrateRoot=function(i,o,u){if(!Qd(i))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,v=!1,w="",k=e0;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),o=Jm(o,null,i,1,u??null,v,!1,w,k),i[_r]=o.current,_o(i),p)for(i=0;i<p.length;i++)u=p[i],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new Gl(o)},cn.render=function(i,o,u){if(!ql(o))throw Error(t(200));return Xl(null,i,o,!1,u)},cn.unmountComponentAtNode=function(i){if(!ql(i))throw Error(t(40));return i._reactRootContainer?(Ls(function(){Xl(null,null,i,!1,function(){i._reactRootContainer=null,i[_r]=null})}),!0):!1},cn.unstable_batchedUpdates=Hd,cn.unstable_renderSubtreeIntoContainer=function(i,o,u,p){if(!ql(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Xl(i,o,u,!1,p)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var d0;function dy(){if(d0)return th.exports;d0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),th.exports=cS(),th.exports}var h0;function uS(){if(h0)return Yl;h0=1;var s=dy();return Yl.createRoot=s.createRoot,Yl.hydrateRoot=s.hydrateRoot,Yl}var dS=uS();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var f0="popstate";function hS(s={}){function e(n,r){let{pathname:a,search:l,hash:c}=n.location;return Ih("",{pathname:a,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:oa(r)}return pS(e,t,null,s)}function tt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function nr(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fS(){return Math.random().toString(36).substring(2,10)}function p0(s,e){return{usr:s.state,key:s.key,idx:e}}function Ih(s,e,t=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Wi(e):e,state:t,key:e&&e.key||n||fS()}}function oa({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Wi(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substring(n),s=s.substring(0,n)),s&&(e.pathname=s)}return e}function pS(s,e,t,n={}){let{window:r=document.defaultView,v5Compat:a=!1}=n,l=r.history,c="POP",d=null,h=f();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function f(){return(l.state||{idx:null}).idx}function g(){c="POP";let S=f(),E=S==null?null:S-h;h=S,d&&d({action:c,location:b.location,delta:E})}function m(S,E){c="PUSH";let T=Ih(b.location,S,E);h=f()+1;let C=p0(T,h),P=b.createHref(T);try{l.pushState(C,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(P)}a&&d&&d({action:c,location:b.location,delta:1})}function y(S,E){c="REPLACE";let T=Ih(b.location,S,E);h=f();let C=p0(T,h),P=b.createHref(T);l.replaceState(C,"",P),a&&d&&d({action:c,location:b.location,delta:0})}function x(S){return gS(S)}let b={get action(){return c},get location(){return s(r,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(f0,g),d=S,()=>{r.removeEventListener(f0,g),d=null}},createHref(S){return e(r,S)},createURL:x,encodeLocation(S){let E=x(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(S){return l.go(S)}};return b}function gS(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:oa(s);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function hy(s,e,t="/"){return mS(s,e,t,!1)}function mS(s,e,t,n){let r=typeof e=="string"?Wi(e):e,a=Fr(r.pathname||"/",t);if(a==null)return null;let l=fy(s);vS(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=TS(a);c=_S(l[d],h,n)}return c}function fy(s,e=[],t=[],n="",r=!1){let a=(l,c,d=r,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&d)return;tt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let g=Dr([n,f.relativePath]),m=t.concat(f);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fy(l.children,e,m,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:AS(g,l.index),routesMeta:m})};return s.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of py(l.path))a(l,c,!0,d)}),e}function py(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return r?[a,""]:[a];let l=py(n.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),r&&c.push(...l),c.map(d=>s.startsWith("/")&&d===""?"/":d)}function vS(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:CS(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var yS=/^:[\w-]+$/,wS=3,bS=2,xS=1,SS=10,ES=-2,g0=s=>s==="*";function AS(s,e){let t=s.split("/"),n=t.length;return t.some(g0)&&(n+=ES),e&&(n+=bS),t.filter(r=>!g0(r)).reduce((r,a)=>r+(yS.test(a)?wS:a===""?xS:SS),n)}function CS(s,e){return s.length===e.length&&s.slice(0,-1).every((n,r)=>n===e[r])?s[s.length-1]-e[e.length-1]:0}function _S(s,e,t=!1){let{routesMeta:n}=s,r={},a="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",g=_c({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),m=d.route;if(!g&&h&&t&&!n[n.length-1].route.index&&(g=_c({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:Dr([a,g.pathname]),pathnameBase:LS(Dr([a,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(a=Dr([a,g.pathnameBase]))}return l}function _c(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=kS(s.path,s.caseSensitive,s.end),r=e.match(t);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:g},m)=>{if(f==="*"){let x=c[m]||"";l=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=c[m];return g&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:s}}function kS(s,e=!1,t=!0){nr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function TS(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Fr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function RS(s,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof s=="string"?Wi(s):s;return{pathname:t?t.startsWith("/")?t:PS(t,e):e,search:MS(n),hash:IS(r)}}function PS(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function sh(s,e,t,n){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NS(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bf(s){let e=NS(s);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function zf(s,e,t,n=!1){let r;typeof s=="string"?r=Wi(s):(r={...s},tt(!r.pathname||!r.pathname.includes("?"),sh("?","pathname","search",r)),tt(!r.pathname||!r.pathname.includes("#"),sh("#","pathname","hash",r)),tt(!r.search||!r.search.includes("#"),sh("#","search","hash",r)));let a=s===""||r.pathname==="",l=a?"/":r.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;r.pathname=m.join("/")}c=g>=0?e[g]:"/"}let d=RS(r,c),h=l&&l!=="/"&&l.endsWith("/"),f=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var Dr=s=>s.join("/").replace(/\/\/+/g,"/"),LS=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,IS=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function OS(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var gy=["POST","PUT","PATCH","DELETE"];new Set(gy);var DS=["GET",...gy];new Set(DS);var Gi=_.createContext(null);Gi.displayName="DataRouter";var zc=_.createContext(null);zc.displayName="DataRouterState";_.createContext(!1);var my=_.createContext({isTransitioning:!1});my.displayName="ViewTransition";var FS=_.createContext(new Map);FS.displayName="Fetchers";var jS=_.createContext(null);jS.displayName="Await";var sr=_.createContext(null);sr.displayName="Navigation";var ba=_.createContext(null);ba.displayName="Location";var ir=_.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Hf=_.createContext(null);Hf.displayName="RouteError";function $S(s,{relative:e}={}){tt(qi(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=_.useContext(sr),{hash:r,pathname:a,search:l}=xa(s,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Dr([t,a])),n.createHref({pathname:c,search:l,hash:r})}function qi(){return _.useContext(ba)!=null}function zr(){return tt(qi(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ba).location}var vy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yy(s){_.useContext(sr).static||_.useLayoutEffect(s)}function Xi(){let{isDataRoute:s}=_.useContext(ir);return s?eE():BS()}function BS(){tt(qi(),"useNavigate() may be used only in the context of a <Router> component.");let s=_.useContext(Gi),{basename:e,navigator:t}=_.useContext(sr),{matches:n}=_.useContext(ir),{pathname:r}=zr(),a=JSON.stringify(Bf(n)),l=_.useRef(!1);return yy(()=>{l.current=!0}),_.useCallback((d,h={})=>{if(nr(l.current,vy),!l.current)return;if(typeof d=="number"){t.go(d);return}let f=zf(d,JSON.parse(a),r,h.relative==="path");s==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Dr([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,a,r,s])}var zS=_.createContext(null);function HS(s){let e=_.useContext(ir).outlet;return e&&_.createElement(zS.Provider,{value:s},e)}function xa(s,{relative:e}={}){let{matches:t}=_.useContext(ir),{pathname:n}=zr(),r=JSON.stringify(Bf(t));return _.useMemo(()=>zf(s,JSON.parse(r),n,e==="path"),[s,r,n,e])}function US(s,e){return wy(s,e)}function wy(s,e,t,n,r){tt(qi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(sr),{matches:l}=_.useContext(ir),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",g=c&&c.route;{let T=g&&g.path||"";by(h,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let m=zr(),y;if(e){let T=typeof e=="string"?Wi(e):e;tt(f==="/"||T.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=m;let x=y.pathname||"/",b=x;if(f!=="/"){let T=f.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=hy(s,{pathname:b});nr(g||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),nr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=XS(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:Dr([f,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Dr([f,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,t,n,r);return e&&E?_.createElement(ba.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function VS(){let s=ZS(),e=OS(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:r},t):null,l)}var WS=_.createElement(VS,null),GS=class extends _.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.unstable_onError?this.props.unstable_onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?_.createElement(ir.Provider,{value:this.props.routeContext},_.createElement(Hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qS({routeContext:s,match:e,children:t}){let n=_.useContext(Gi);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(ir.Provider,{value:s},t)}function XS(s,e=[],t=null,n=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,l=t?.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);tt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:g,errors:m}=t,y=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,g)=>{let m,y=!1,x=null,b=null;t&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||WS,c&&(d<0&&g===0?(by("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):d===g&&(y=!0,b=f.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),E=()=>{let T;return m?T=x:y?T=b:f.route.Component?T=_.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,_.createElement(qS,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:T})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?_.createElement(GS,{location:t.location,revalidation:t.revalidation,component:x,error:m,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):E()},null)}function Uf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(s){let e=_.useContext(Gi);return tt(e,Uf(s)),e}function YS(s){let e=_.useContext(zc);return tt(e,Uf(s)),e}function QS(s){let e=_.useContext(ir);return tt(e,Uf(s)),e}function Vf(s){let e=QS(s),t=e.matches[e.matches.length-1];return tt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function JS(){return Vf("useRouteId")}function ZS(){let s=_.useContext(Hf),e=YS("useRouteError"),t=Vf("useRouteError");return s!==void 0?s:e.errors?.[t]}function eE(){let{router:s}=KS("useNavigate"),e=Vf("useNavigate"),t=_.useRef(!1);return yy(()=>{t.current=!0}),_.useCallback(async(r,a={})=>{nr(t.current,vy),t.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:e,...a}))},[s,e])}var m0={};function by(s,e,t){!e&&!m0[s]&&(m0[s]=!0,nr(!1,t))}_.memo(tE);function tE({routes:s,future:e,state:t,unstable_onError:n}){return wy(s,void 0,t,n,e)}function kc({to:s,replace:e,state:t,relative:n}){tt(qi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=_.useContext(sr);nr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(ir),{pathname:l}=zr(),c=Xi(),d=zf(s,Bf(a),l,n==="path"),h=JSON.stringify(d);return _.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:n})},[c,h,n,e,t]),null}function xy(s){return HS(s.context)}function Oh(s){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nE({basename:s="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:a=!1}){tt(!qi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof t=="string"&&(t=Wi(t));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:m="default"}=t,y=_.useMemo(()=>{let x=Fr(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:m},navigationType:n}},[l,d,h,f,g,m,n]);return nr(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(sr.Provider,{value:c},_.createElement(ba.Provider,{children:e,value:y}))}function rE({children:s,location:e}){return US(Dh(s),e)}function Dh(s,e=[]){let t=[];return _.Children.forEach(s,(n,r)=>{if(!_.isValidElement(n))return;let a=[...e,r];if(n.type===_.Fragment){t.push.apply(t,Dh(n.props.children,a));return}tt(n.type===Oh,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Dh(n.props.children,a)),t.push(l)}),t}var hc="get",fc="application/x-www-form-urlencoded";function Hc(s){return s!=null&&typeof s.tagName=="string"}function sE(s){return Hc(s)&&s.tagName.toLowerCase()==="button"}function iE(s){return Hc(s)&&s.tagName.toLowerCase()==="form"}function oE(s){return Hc(s)&&s.tagName.toLowerCase()==="input"}function aE(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function lE(s,e){return s.button===0&&(!e||e==="_self")&&!aE(s)}var Ql=null;function cE(){if(Ql===null)try{new FormData(document.createElement("form"),0),Ql=!1}catch{Ql=!0}return Ql}var uE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ih(s){return s!=null&&!uE.has(s)?(nr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):s}function dE(s,e){let t,n,r,a,l;if(iE(s)){let c=s.getAttribute("action");n=c?Fr(c,e):null,t=s.getAttribute("method")||hc,r=ih(s.getAttribute("enctype"))||fc,a=new FormData(s)}else if(sE(s)||oE(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||c.getAttribute("action");if(n=d?Fr(d,e):null,t=s.getAttribute("formmethod")||c.getAttribute("method")||hc,r=ih(s.getAttribute("formenctype"))||ih(c.getAttribute("enctype"))||fc,a=new FormData(c,s),!cE()){let{name:h,type:f,value:g}=s;if(f==="image"){let m=h?`${h}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else h&&a.append(h,g)}}else{if(Hc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hc,n=null,r=fc,l=s}return a&&r==="text/plain"&&(l=a,a=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wf(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function hE(s,e,t){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Fr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function fE(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pE(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function gE(s,e,t){let n=await Promise.all(s.map(async r=>{let a=e.routes[r.route.id];if(a){let l=await fE(a,t);return l.links?l.links():[]}return[]}));return wE(n.flat(1).filter(pE).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function v0(s,e,t,n,r,a){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{let f=n.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function mE(s,e,{includeHydrateFallback:t}={}){return vE(s.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function vE(s){return[...new Set(s)]}function yE(s){let e={},t=Object.keys(s).sort();for(let n of t)e[n]=s[n];return e}function wE(s,e){let t=new Set;return new Set(e),s.reduce((n,r)=>{let a=JSON.stringify(yE(r));return t.has(a)||(t.add(a),n.push({key:a,link:r})),n},[])}function Sy(){let s=_.useContext(Gi);return Wf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function bE(){let s=_.useContext(zc);return Wf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Gf=_.createContext(void 0);Gf.displayName="FrameworkContext";function Ey(){let s=_.useContext(Gf);return Wf(s,"You must render this element inside a <HydratedRouter> element"),s}function xE(s,e){let t=_.useContext(Gf),[n,r]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:g}=e,m=_.useRef(null);_.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let b=E=>{E.forEach(T=>{l(T.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[s]),_.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let y=()=>{r(!0)},x=()=>{r(!1),l(!1)};return t?s!=="intent"?[a,m,{}]:[a,m,{onFocus:Wo(c,y),onBlur:Wo(d,x),onMouseEnter:Wo(h,y),onMouseLeave:Wo(f,x),onTouchStart:Wo(g,y)}]:[!1,m,{}]}function Wo(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function SE({page:s,...e}){let{router:t}=Sy(),n=_.useMemo(()=>hy(t.routes,s,t.basename),[t.routes,s,t.basename]);return n?_.createElement(AE,{page:s,matches:n,...e}):null}function EE(s){let{manifest:e,routeModules:t}=Ey(),[n,r]=_.useState([]);return _.useEffect(()=>{let a=!1;return gE(s,e,t).then(l=>{a||r(l)}),()=>{a=!0}},[s,e,t]),n}function AE({page:s,matches:e,...t}){let n=zr(),{manifest:r,routeModules:a}=Ey(),{basename:l}=Sy(),{loaderData:c,matches:d}=bE(),h=_.useMemo(()=>v0(s,e,d,r,n,"data"),[s,e,d,r,n]),f=_.useMemo(()=>v0(s,e,d,r,n,"assets"),[s,e,d,r,n]),g=_.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let x=new Set,b=!1;if(e.forEach(E=>{let T=r.routes[E.route.id];!T||!T.hasLoader||(!h.some(C=>C.route.id===E.route.id)&&E.route.id in c&&a[E.route.id]?.shouldRevalidate||T.hasClientLoader?b=!0:x.add(E.route.id))}),x.size===0)return[];let S=hE(s,l,"data");return b&&x.size>0&&S.searchParams.set("_routes",e.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[l,c,n,r,h,e,s,a]),m=_.useMemo(()=>mE(f,r),[f,r]),y=EE(f);return _.createElement(_.Fragment,null,g.map(x=>_.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),m.map(x=>_.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),y.map(({key:x,link:b})=>_.createElement("link",{key:x,nonce:t.nonce,...b})))}function CE(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ay=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ay&&(window.__reactRouterVersion="7.8.2")}catch{}function _E({basename:s,children:e,window:t}){let n=_.useRef();n.current==null&&(n.current=hS({window:t,v5Compat:!0}));let r=n.current,[a,l]=_.useState({action:r.action,location:r.location}),c=_.useCallback(d=>{_.startTransition(()=>l(d))},[l]);return _.useLayoutEffect(()=>r.listen(c),[r,c]),_.createElement(nE,{basename:s,children:e,location:a.location,navigationType:a.action,navigator:r})}var Cy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_y=_.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:f,viewTransition:g,...m},y){let{basename:x}=_.useContext(sr),b=typeof h=="string"&&Cy.test(h),S,E=!1;if(typeof h=="string"&&b&&(S=h,Ay))try{let j=new URL(window.location.href),B=h.startsWith("//")?new URL(j.protocol+h):new URL(h),G=Fr(B.pathname,x);B.origin===j.origin&&G!=null?h=G+B.search+B.hash:E=!0}catch{nr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=$S(h,{relative:r}),[C,P,R]=xE(n,m),L=PE(h,{replace:l,state:c,target:d,preventScrollReset:f,relative:r,viewTransition:g});function N(j){e&&e(j),j.defaultPrevented||L(j)}let D=_.createElement("a",{...m,...R,href:S||T,onClick:E||a?e:N,ref:CE(y,P),target:d,"data-discover":!b&&t==="render"?"true":void 0});return C&&!b?_.createElement(_.Fragment,null,D,_.createElement(SE,{page:T})):D});_y.displayName="Link";var kE=_.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:l,viewTransition:c,children:d,...h},f){let g=xa(l,{relative:h.relative}),m=zr(),y=_.useContext(zc),{navigator:x,basename:b}=_.useContext(sr),S=y!=null&&OE(g)&&c===!0,E=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,T=m.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&b&&(C=Fr(C,b)||C);const P=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let R=T===E||!r&&T.startsWith(E)&&T.charAt(P)==="/",L=C!=null&&(C===E||!r&&C.startsWith(E)&&C.charAt(E.length)==="/"),N={isActive:R,isPending:L,isTransitioning:S},D=R?e:void 0,j;typeof n=="function"?j=n(N):j=[n,R?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(N):a;return _.createElement(_y,{...h,"aria-current":D,className:j,ref:f,style:B,to:l,viewTransition:c},typeof d=="function"?d(N):d)});kE.displayName="NavLink";var TE=_.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:a,method:l=hc,action:c,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:g,...m},y)=>{let x=ME(),b=IE(c,{relative:h}),S=l.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&Cy.test(c),T=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,R=P?.getAttribute("formmethod")||l;x(P||C.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:r,state:a,relative:h,preventScrollReset:f,viewTransition:g})};return _.createElement("form",{ref:y,method:S,action:b,onSubmit:n?d:T,...m,"data-discover":!E&&s==="render"?"true":void 0})});TE.displayName="Form";function RE(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ky(s){let e=_.useContext(Gi);return tt(e,RE(s)),e}function PE(s,{target:e,replace:t,state:n,preventScrollReset:r,relative:a,viewTransition:l}={}){let c=Xi(),d=zr(),h=xa(s,{relative:a});return _.useCallback(f=>{if(lE(f,e)){f.preventDefault();let g=t!==void 0?t:oa(d)===oa(h);c(s,{replace:g,state:n,preventScrollReset:r,relative:a,viewTransition:l})}},[d,c,h,t,n,e,s,r,a,l])}var NE=0,LE=()=>`__${String(++NE)}__`;function ME(){let{router:s}=ky("useSubmit"),{basename:e}=_.useContext(sr),t=JS();return _.useCallback(async(n,r={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=dE(n,e);if(r.navigate===!1){let f=r.fetcherKey||LE();await s.fetch(f,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await s.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,e,t])}function IE(s,{relative:e}={}){let{basename:t}=_.useContext(sr),n=_.useContext(ir);tt(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),a={...xa(s||".",{relative:e})},l=zr();if(s==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(f=>f==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let f=c.toString();a.search=f?`?${f}`:""}}return(!s||s===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Dr([t,a.pathname])),oa(a)}function OE(s,{relative:e}={}){let t=_.useContext(my);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ky("useViewTransitionState"),r=xa(s,{relative:e});if(!t.isTransitioning)return!1;let a=Fr(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Fr(t.nextLocation.pathname,n)||t.nextLocation.pathname;return _c(r.pathname,l)!=null||_c(r.pathname,a)!=null}var qf=dy();const Fh=Bc(qf),DE=uy({__proto__:null,default:Fh},[qf]),FE=()=>A.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-700 to-emerald-900/20",children:A.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:A.jsx("div",{className:"max-w-lg mx-auto",children:A.jsx(xy,{})})})});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$E=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),y0=s=>{const e=$E(s);return e.charAt(0).toUpperCase()+e.slice(1)},Ty=(...s)=>s.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),BE=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=_.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:r="",children:a,iconNode:l,...c},d)=>_.createElement("svg",{ref:d,...zE,width:e,height:e,stroke:s,strokeWidth:n?Number(t)*24/Number(e):t,className:Ty("lucide",r),...!a&&!BE(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,f])=>_.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=(s,e)=>{const t=_.forwardRef(({className:n,...r},a)=>_.createElement(HE,{ref:a,iconNode:e,className:Ty(`lucide-${jE(y0(s))}`,`lucide-${s}`,n),...r}));return t.displayName=y0(s),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oh=gn("circle-check-big",UE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ah=gn("circle-x",VE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],w0=gn("clock",WE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qE=gn("download",GE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KE=gn("eye-off",XE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xf=gn("eye",YE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mi=gn("file-text",QE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ZE=gn("funnel",JE);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tA=gn("house",eA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rA=gn("image",nA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iA=gn("log-out",sA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aA=gn("search",oA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cA=gn("users",lA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jh=gn("x",uA);function Ry(s,e){return function(){return s.apply(e,arguments)}}const{toString:dA}=Object.prototype,{getPrototypeOf:Kf}=Object,{iterator:Uc,toStringTag:Py}=Symbol,Vc=(s=>e=>{const t=dA.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=s=>(s=s.toLowerCase(),e=>Vc(e)===s),Wc=s=>e=>typeof e===s,{isArray:Ki}=Array,aa=Wc("undefined");function Sa(s){return s!==null&&!aa(s)&&s.constructor!==null&&!aa(s.constructor)&&hn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Ny=or("ArrayBuffer");function hA(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Ny(s.buffer),e}const fA=Wc("string"),hn=Wc("function"),Ly=Wc("number"),Ea=s=>s!==null&&typeof s=="object",pA=s=>s===!0||s===!1,pc=s=>{if(Vc(s)!=="object")return!1;const e=Kf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Py in s)&&!(Uc in s)},gA=s=>{if(!Ea(s)||Sa(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},mA=or("Date"),vA=or("File"),yA=or("Blob"),wA=or("FileList"),bA=s=>Ea(s)&&hn(s.pipe),xA=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||hn(s.append)&&((e=Vc(s))==="formdata"||e==="object"&&hn(s.toString)&&s.toString()==="[object FormData]"))},SA=or("URLSearchParams"),[EA,AA,CA,_A]=["ReadableStream","Request","Response","Headers"].map(or),kA=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Aa(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),Ki(s))for(n=0,r=s.length;n<r;n++)e.call(null,s[n],n,s);else{if(Sa(s))return;const a=t?Object.getOwnPropertyNames(s):Object.keys(s),l=a.length;let c;for(n=0;n<l;n++)c=a[n],e.call(null,s[c],c,s)}}function My(s,e){if(Sa(s))return null;e=e.toLowerCase();const t=Object.keys(s);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Iy=s=>!aa(s)&&s!==$s;function $h(){const{caseless:s}=Iy(this)&&this||{},e={},t=(n,r)=>{const a=s&&My(e,r)||r;pc(e[a])&&pc(n)?e[a]=$h(e[a],n):pc(n)?e[a]=$h({},n):Ki(n)?e[a]=n.slice():e[a]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&Aa(arguments[n],t);return e}const TA=(s,e,t,{allOwnKeys:n}={})=>(Aa(e,(r,a)=>{t&&hn(r)?s[a]=Ry(r,t):s[a]=r},{allOwnKeys:n}),s),RA=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),PA=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},NA=(s,e,t,n)=>{let r,a,l;const c={};if(e=e||{},s==null)return e;do{for(r=Object.getOwnPropertyNames(s),a=r.length;a-- >0;)l=r[a],(!n||n(l,s,e))&&!c[l]&&(e[l]=s[l],c[l]=!0);s=t!==!1&&Kf(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},LA=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},MA=s=>{if(!s)return null;if(Ki(s))return s;let e=s.length;if(!Ly(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},IA=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&Kf(Uint8Array)),OA=(s,e)=>{const n=(s&&s[Uc]).call(s);let r;for(;(r=n.next())&&!r.done;){const a=r.value;e.call(s,a[0],a[1])}},DA=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},FA=or("HTMLFormElement"),jA=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),b0=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),$A=or("RegExp"),Oy=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};Aa(t,(r,a)=>{let l;(l=e(r,a,s))!==!1&&(n[a]=l||r)}),Object.defineProperties(s,n)},BA=s=>{Oy(s,(e,t)=>{if(hn(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(hn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zA=(s,e)=>{const t={},n=r=>{r.forEach(a=>{t[a]=!0})};return Ki(s)?n(s):n(String(s).split(e)),t},HA=()=>{},UA=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function VA(s){return!!(s&&hn(s.append)&&s[Py]==="FormData"&&s[Uc])}const WA=s=>{const e=new Array(10),t=(n,r)=>{if(Ea(n)){if(e.indexOf(n)>=0)return;if(Sa(n))return n;if(!("toJSON"in n)){e[r]=n;const a=Ki(n)?[]:{};return Aa(n,(l,c)=>{const d=t(l,r+1);!aa(d)&&(a[c]=d)}),e[r]=void 0,a}}return n};return t(s,0)},GA=or("AsyncFunction"),qA=s=>s&&(Ea(s)||hn(s))&&hn(s.then)&&hn(s.catch),Dy=((s,e)=>s?setImmediate:e?((t,n)=>($s.addEventListener("message",({source:r,data:a})=>{r===$s&&a===t&&n.length&&n.shift()()},!1),r=>{n.push(r),$s.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",hn($s.postMessage)),XA=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||Dy,KA=s=>s!=null&&hn(s[Uc]),q={isArray:Ki,isArrayBuffer:Ny,isBuffer:Sa,isFormData:xA,isArrayBufferView:hA,isString:fA,isNumber:Ly,isBoolean:pA,isObject:Ea,isPlainObject:pc,isEmptyObject:gA,isReadableStream:EA,isRequest:AA,isResponse:CA,isHeaders:_A,isUndefined:aa,isDate:mA,isFile:vA,isBlob:yA,isRegExp:$A,isFunction:hn,isStream:bA,isURLSearchParams:SA,isTypedArray:IA,isFileList:wA,forEach:Aa,merge:$h,extend:TA,trim:kA,stripBOM:RA,inherits:PA,toFlatObject:NA,kindOf:Vc,kindOfTest:or,endsWith:LA,toArray:MA,forEachEntry:OA,matchAll:DA,isHTMLForm:FA,hasOwnProperty:b0,hasOwnProp:b0,reduceDescriptors:Oy,freezeMethods:BA,toObjectSet:zA,toCamelCase:jA,noop:HA,toFiniteNumber:UA,findKey:My,global:$s,isContextDefined:Iy,isSpecCompliantForm:VA,toJSONObject:WA,isAsyncFn:GA,isThenable:qA,setImmediate:Dy,asap:XA,isIterable:KA};function Ne(s,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}q.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Fy=Ne.prototype,jy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{jy[s]={value:s}});Object.defineProperties(Ne,jy);Object.defineProperty(Fy,"isAxiosError",{value:!0});Ne.from=(s,e,t,n,r,a)=>{const l=Object.create(Fy);return q.toFlatObject(s,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Ne.call(l,s.message,e,t,n,r),l.cause=s,l.name=s.name,a&&Object.assign(l,a),l};const YA=null;function Bh(s){return q.isPlainObject(s)||q.isArray(s)}function $y(s){return q.endsWith(s,"[]")?s.slice(0,-2):s}function x0(s,e,t){return s?s.concat(e).map(function(r,a){return r=$y(r),!t&&a?"["+r+"]":r}).join(t?".":""):e}function QA(s){return q.isArray(s)&&!s.some(Bh)}const JA=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function Gc(s,e,t){if(!q.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,S){return!q.isUndefined(S[b])});const n=t.metaTokens,r=t.visitor||f,a=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(r))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(q.isDate(x))return x.toISOString();if(q.isBoolean(x))return x.toString();if(!d&&q.isBlob(x))throw new Ne("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(x)||q.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,b,S){let E=x;if(x&&!S&&typeof x=="object"){if(q.endsWith(b,"{}"))b=n?b:b.slice(0,-2),x=JSON.stringify(x);else if(q.isArray(x)&&QA(x)||(q.isFileList(x)||q.endsWith(b,"[]"))&&(E=q.toArray(x)))return b=$y(b),E.forEach(function(C,P){!(q.isUndefined(C)||C===null)&&e.append(l===!0?x0([b],P,a):l===null?b:b+"[]",h(C))}),!1}return Bh(x)?!0:(e.append(x0(S,b,a),h(x)),!1)}const g=[],m=Object.assign(JA,{defaultVisitor:f,convertValue:h,isVisitable:Bh});function y(x,b){if(!q.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(x),q.forEach(x,function(E,T){(!(q.isUndefined(E)||E===null)&&r.call(e,E,q.isString(T)?T.trim():T,b,m))===!0&&y(E,b?b.concat(T):[T])}),g.pop()}}if(!q.isObject(s))throw new TypeError("data must be an object");return y(s),e}function S0(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Yf(s,e){this._pairs=[],s&&Gc(s,this,e)}const By=Yf.prototype;By.append=function(e,t){this._pairs.push([e,t])};By.toString=function(e){const t=e?function(n){return e.call(this,n,S0)}:S0;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function ZA(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zy(s,e,t){if(!e)return s;const n=t&&t.encode||ZA;q.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let a;if(r?a=r(e,t):a=q.isURLSearchParams(e)?e.toString():new Yf(e,t).toString(n),a){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+a}return s}class E0{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Hy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eC=typeof URLSearchParams<"u"?URLSearchParams:Yf,tC=typeof FormData<"u"?FormData:null,nC=typeof Blob<"u"?Blob:null,rC={isBrowser:!0,classes:{URLSearchParams:eC,FormData:tC,Blob:nC},protocols:["http","https","file","blob","url","data"]},Qf=typeof window<"u"&&typeof document<"u",zh=typeof navigator=="object"&&navigator||void 0,sC=Qf&&(!zh||["ReactNative","NativeScript","NS"].indexOf(zh.product)<0),iC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oC=Qf&&window.location.href||"http://localhost",aC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qf,hasStandardBrowserEnv:sC,hasStandardBrowserWebWorkerEnv:iC,navigator:zh,origin:oC},Symbol.toStringTag,{value:"Module"})),Xt={...aC,...rC};function lC(s,e){return Gc(s,new Xt.classes.URLSearchParams,{visitor:function(t,n,r,a){return Xt.isNode&&q.isBuffer(t)?(this.append(n,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function cC(s){return q.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uC(s){const e={},t=Object.keys(s);let n;const r=t.length;let a;for(n=0;n<r;n++)a=t[n],e[a]=s[a];return e}function Uy(s){function e(t,n,r,a){let l=t[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=a>=t.length;return l=!l&&q.isArray(r)?r.length:l,d?(q.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!c):((!r[l]||!q.isObject(r[l]))&&(r[l]=[]),e(t,n,r[l],a)&&q.isArray(r[l])&&(r[l]=uC(r[l])),!c)}if(q.isFormData(s)&&q.isFunction(s.entries)){const t={};return q.forEachEntry(s,(n,r)=>{e(cC(n),r,t,0)}),t}return null}function dC(s,e,t){if(q.isString(s))try{return(e||JSON.parse)(s),q.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const Ca={transitional:Hy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=q.isObject(e);if(a&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return r?JSON.stringify(Uy(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return lC(e,this.formSerializer).toString();if((c=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Gc(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),dC(e)):e}],transformResponse:[function(e){const t=this.transitional||Ca.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?Ne.from(c,Ne.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],s=>{Ca.headers[s]={}});const hC=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fC=s=>{const e={};let t,n,r;return s&&s.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!t||e[t]&&hC[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},A0=Symbol("internals");function Go(s){return s&&String(s).trim().toLowerCase()}function gc(s){return s===!1||s==null?s:q.isArray(s)?s.map(gc):String(s)}function pC(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const gC=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function lh(s,e,t,n,r){if(q.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!q.isString(e)){if(q.isString(n))return e.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(e)}}function mC(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function vC(s,e){const t=q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(r,a,l){return this[n].call(this,e,r,a,l)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(c,d,h){const f=Go(d);if(!f)throw new Error("header name must be a non-empty string");const g=q.findKey(r,f);(!g||r[g]===void 0||h===!0||h===void 0&&r[g]!==!1)&&(r[g||d]=gc(c))}const l=(c,d)=>q.forEach(c,(h,f)=>a(h,f,d));if(q.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(q.isString(e)&&(e=e.trim())&&!gC(e))l(fC(e),t);else if(q.isObject(e)&&q.isIterable(e)){let c={},d,h;for(const f of e){if(!q.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(d=c[h])?q.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}l(c,t)}else e!=null&&a(t,e,n);return this}get(e,t){if(e=Go(e),e){const n=q.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return pC(r);if(q.isFunction(t))return t.call(this,r,n);if(q.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Go(e),e){const n=q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||lh(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function a(l){if(l=Go(l),l){const c=q.findKey(n,l);c&&(!t||lh(n,n[c],c,t))&&(delete n[c],r=!0)}}return q.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];(!e||lh(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return q.forEach(this,(r,a)=>{const l=q.findKey(n,a);if(l){t[l]=gc(r),delete t[a];return}const c=e?mC(a):String(a).trim();c!==a&&delete t[a],t[c]=gc(r),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return q.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&q.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[A0]=this[A0]={accessors:{}}).accessors,r=this.prototype;function a(l){const c=Go(l);n[c]||(vC(r,l),n[c]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(fn.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});q.freezeMethods(fn);function ch(s,e){const t=this||Ca,n=e||t,r=fn.from(n.headers);let a=n.data;return q.forEach(s,function(c){a=c.call(t,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function Vy(s){return!!(s&&s.__CANCEL__)}function Yi(s,e,t){Ne.call(this,s??"canceled",Ne.ERR_CANCELED,e,t),this.name="CanceledError"}q.inherits(Yi,Ne,{__CANCEL__:!0});function Wy(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new Ne("Request failed with status code "+t.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function yC(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function wC(s,e){s=s||10;const t=new Array(s),n=new Array(s);let r=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),f=n[a];l||(l=h),t[r]=d,n[r]=h;let g=a,m=0;for(;g!==r;)m+=t[g++],g=g%s;if(r=(r+1)%s,r===a&&(a=(a+1)%s),h-l<e)return;const y=f&&h-f;return y?Math.round(m*1e3/y):void 0}}function bC(s,e){let t=0,n=1e3/e,r,a;const l=(h,f=Date.now())=>{t=f,r=null,a&&(clearTimeout(a),a=null),s(...h)};return[(...h)=>{const f=Date.now(),g=f-t;g>=n?l(h,f):(r=h,a||(a=setTimeout(()=>{a=null,l(r)},n-g)))},()=>r&&l(r)]}const Tc=(s,e,t=3)=>{let n=0;const r=wC(50,250);return bC(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-n,h=r(d),f=l<=c;n=l;const g={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&f?(c-l)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};s(g)},t)},C0=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},_0=s=>(...e)=>q.asap(()=>s(...e)),xC=Xt.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,Xt.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,SC=Xt.hasStandardBrowserEnv?{write(s,e,t,n,r,a){const l=[s+"="+encodeURIComponent(e)];q.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),q.isString(n)&&l.push("path="+n),q.isString(r)&&l.push("domain="+r),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function EC(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function AC(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function Gy(s,e,t){let n=!EC(e);return s&&(n||t==!1)?AC(s,e):e}const k0=s=>s instanceof fn?{...s}:s;function Ks(s,e){e=e||{};const t={};function n(h,f,g,m){return q.isPlainObject(h)&&q.isPlainObject(f)?q.merge.call({caseless:m},h,f):q.isPlainObject(f)?q.merge({},f):q.isArray(f)?f.slice():f}function r(h,f,g,m){if(q.isUndefined(f)){if(!q.isUndefined(h))return n(void 0,h,g,m)}else return n(h,f,g,m)}function a(h,f){if(!q.isUndefined(f))return n(void 0,f)}function l(h,f){if(q.isUndefined(f)){if(!q.isUndefined(h))return n(void 0,h)}else return n(void 0,f)}function c(h,f,g){if(g in e)return n(h,f);if(g in s)return n(void 0,h)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,f,g)=>r(k0(h),k0(f),g,!0)};return q.forEach(Object.keys({...s,...e}),function(f){const g=d[f]||r,m=g(s[f],e[f],f);q.isUndefined(m)&&g!==c||(t[f]=m)}),t}const qy=s=>{const e=Ks({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=fn.from(l),e.url=zy(Gy(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(q.isFormData(t)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...f]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...f].join("; "))}}if(Xt.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(e)),n||n!==!1&&xC(e.url))){const h=r&&a&&SC.read(a);h&&l.set(r,h)}return e},CC=typeof XMLHttpRequest<"u",_C=CC&&function(s){return new Promise(function(t,n){const r=qy(s);let a=r.data;const l=fn.from(r.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=r,f,g,m,y,x;function b(){y&&y(),x&&x(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function E(){if(!S)return;const C=fn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:C,config:s,request:S};Wy(function(N){t(N),b()},function(N){n(N),b()},R),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(n(new Ne("Request aborted",Ne.ECONNABORTED,s,S)),S=null)},S.onerror=function(){n(new Ne("Network Error",Ne.ERR_NETWORK,s,S)),S=null},S.ontimeout=function(){let P=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||Hy;r.timeoutErrorMessage&&(P=r.timeoutErrorMessage),n(new Ne(P,R.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,s,S)),S=null},a===void 0&&l.setContentType(null),"setRequestHeader"in S&&q.forEach(l.toJSON(),function(P,R){S.setRequestHeader(R,P)}),q.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),c&&c!=="json"&&(S.responseType=r.responseType),h&&([m,x]=Tc(h,!0),S.addEventListener("progress",m)),d&&S.upload&&([g,y]=Tc(d),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(f=C=>{S&&(n(!C||C.type?new Yi(null,s,S):C),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const T=yC(r.url);if(T&&Xt.protocols.indexOf(T)===-1){n(new Ne("Unsupported protocol "+T+":",Ne.ERR_BAD_REQUEST,s));return}S.send(a||null)})},kC=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,r;const a=function(h){if(!r){r=!0,c();const f=h instanceof Error?h:this.reason;n.abort(f instanceof Ne?f:new Yi(f instanceof Error?f.message:f))}};let l=e&&setTimeout(()=>{l=null,a(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const c=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),s=null)};s.forEach(h=>h.addEventListener("abort",a));const{signal:d}=n;return d.unsubscribe=()=>q.asap(c),d}},TC=function*(s,e){let t=s.byteLength;if(t<e){yield s;return}let n=0,r;for(;n<t;)r=n+e,yield s.slice(n,r),n=r},RC=async function*(s,e){for await(const t of PC(s))yield*TC(t,e)},PC=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},T0=(s,e,t,n)=>{const r=RC(s,e);let a=0,l,c=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:f}=await r.next();if(h){c(),d.close();return}let g=f.byteLength;if(t){let m=a+=g;t(m)}d.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(d){return c(d),r.return()}},{highWaterMark:2})},qc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xy=qc&&typeof ReadableStream=="function",NC=qc&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),Ky=(s,...e)=>{try{return!!s(...e)}catch{return!1}},LC=Xy&&Ky(()=>{let s=!1;const e=new Request(Xt.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),R0=64*1024,Hh=Xy&&Ky(()=>q.isReadableStream(new Response("").body)),Rc={stream:Hh&&(s=>s.body)};qc&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rc[e]&&(Rc[e]=q.isFunction(s[e])?t=>t[e]():(t,n)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,n)})})})(new Response);const MC=async s=>{if(s==null)return 0;if(q.isBlob(s))return s.size;if(q.isSpecCompliantForm(s))return(await new Request(Xt.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(q.isArrayBufferView(s)||q.isArrayBuffer(s))return s.byteLength;if(q.isURLSearchParams(s)&&(s=s+""),q.isString(s))return(await NC(s)).byteLength},IC=async(s,e)=>{const t=q.toFiniteNumber(s.getContentLength());return t??MC(e)},OC=qc&&(async s=>{let{url:e,method:t,data:n,signal:r,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:f,withCredentials:g="same-origin",fetchOptions:m}=qy(s);h=h?(h+"").toLowerCase():"text";let y=kC([r,a&&a.toAbortSignal()],l),x;const b=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(d&&LC&&t!=="get"&&t!=="head"&&(S=await IC(f,n))!==0){let R=new Request(e,{method:"POST",body:n,duplex:"half"}),L;if(q.isFormData(n)&&(L=R.headers.get("content-type"))&&f.setContentType(L),R.body){const[N,D]=C0(S,Tc(_0(d)));n=T0(R.body,R0,N,D)}}q.isString(g)||(g=g?"include":"omit");const E="credentials"in Request.prototype;x=new Request(e,{...m,signal:y,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:E?g:void 0});let T=await fetch(x,m);const C=Hh&&(h==="stream"||h==="response");if(Hh&&(c||C&&b)){const R={};["status","statusText","headers"].forEach(j=>{R[j]=T[j]});const L=q.toFiniteNumber(T.headers.get("content-length")),[N,D]=c&&C0(L,Tc(_0(c),!0))||[];T=new Response(T0(T.body,R0,N,()=>{D&&D(),b&&b()}),R)}h=h||"text";let P=await Rc[q.findKey(Rc,h)||"text"](T,s);return!C&&b&&b(),await new Promise((R,L)=>{Wy(R,L,{data:P,headers:fn.from(T.headers),status:T.status,statusText:T.statusText,config:s,request:x})})}catch(E){throw b&&b(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,s,x),{cause:E.cause||E}):Ne.from(E,E&&E.code,s,x)}}),Uh={http:YA,xhr:_C,fetch:OC};q.forEach(Uh,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const P0=s=>`- ${s}`,DC=s=>q.isFunction(s)||s===null||s===!1,Yy={getAdapter:s=>{s=q.isArray(s)?s:[s];const{length:e}=s;let t,n;const r={};for(let a=0;a<e;a++){t=s[a];let l;if(n=t,!DC(t)&&(n=Uh[(l=String(t)).toLowerCase()],n===void 0))throw new Ne(`Unknown adapter '${l}'`);if(n)break;r[l||"#"+a]=n}if(!n){const a=Object.entries(r).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(P0).join(`
`):" "+P0(a[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Uh};function uh(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Yi(null,s)}function N0(s){return uh(s),s.headers=fn.from(s.headers),s.data=ch.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Yy.getAdapter(s.adapter||Ca.adapter)(s).then(function(n){return uh(s),n.data=ch.call(s,s.transformResponse,n),n.headers=fn.from(n.headers),n},function(n){return Vy(n)||(uh(s),n&&n.response&&(n.response.data=ch.call(s,s.transformResponse,n.response),n.response.headers=fn.from(n.response.headers))),Promise.reject(n)})}const Qy="1.11.0",Xc={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Xc[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const L0={};Xc.transitional=function(e,t,n){function r(a,l){return"[Axios v"+Qy+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,c)=>{if(e===!1)throw new Ne(r(l," has been removed"+(t?" in "+t:"")),Ne.ERR_DEPRECATED);return t&&!L0[l]&&(L0[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,c):!0}};Xc.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function FC(s,e,t){if(typeof s!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const a=n[r],l=e[a];if(l){const c=s[a],d=c===void 0||l(c,a,s);if(d!==!0)throw new Ne("option "+a+" must be "+d,Ne.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ne("Unknown option "+a,Ne.ERR_BAD_OPTION)}}const mc={assertOptions:FC,validators:Xc},gr=mc.validators;let Ws=class{constructor(e){this.defaults=e||{},this.interceptors={request:new E0,response:new E0}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ks(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;n!==void 0&&mc.assertOptions(n,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean)},!1),r!=null&&(q.isFunction(r)?t.paramsSerializer={serialize:r}:mc.assertOptions(r,{encode:gr.function,serialize:gr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),mc.assertOptions(t,{baseUrl:gr.spelling("baseURL"),withXsrfToken:gr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&q.merge(a.common,a[t.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=fn.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(d=d&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let f,g=0,m;if(!d){const x=[N0.bind(this),void 0];for(x.unshift(...c),x.push(...h),m=x.length,f=Promise.resolve(t);g<m;)f=f.then(x[g++],x[g++]);return f}m=c.length;let y=t;for(g=0;g<m;){const x=c[g++],b=c[g++];try{y=x(y)}catch(S){b.call(this,S);break}}try{f=N0.call(this,y)}catch(x){return Promise.reject(x)}for(g=0,m=h.length;g<m;)f=f.then(h[g++],h[g++]);return f}getUri(e){e=Ks(this.defaults,e);const t=Gy(e.baseURL,e.url,e.allowAbsoluteUrls);return zy(t,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){Ws.prototype[e]=function(t,n){return this.request(Ks(n||{},{method:e,url:t,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(e){function t(n){return function(a,l,c){return this.request(Ks(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ws.prototype[e]=t(),Ws.prototype[e+"Form"]=t(!0)});let jC=class Jy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const n=this;this.promise.then(r=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](r);n._listeners=null}),this.promise.then=r=>{let a;const l=new Promise(c=>{n.subscribe(c),a=c}).then(r);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,c){n.reason||(n.reason=new Yi(a,l,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jy(function(r){e=r}),cancel:e}}};function $C(s){return function(t){return s.apply(null,t)}}function BC(s){return q.isObject(s)&&s.isAxiosError===!0}const Vh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vh).forEach(([s,e])=>{Vh[e]=s});function Zy(s){const e=new Ws(s),t=Ry(Ws.prototype.request,e);return q.extend(t,Ws.prototype,e,{allOwnKeys:!0}),q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Zy(Ks(s,r))},t}const gt=Zy(Ca);gt.Axios=Ws;gt.CanceledError=Yi;gt.CancelToken=jC;gt.isCancel=Vy;gt.VERSION=Qy;gt.toFormData=Gc;gt.AxiosError=Ne;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=$C;gt.isAxiosError=BC;gt.mergeConfig=Ks;gt.AxiosHeaders=fn;gt.formToJSON=s=>Uy(q.isHTMLForm(s)?new FormData(s):s);gt.getAdapter=Yy.getAdapter;gt.HttpStatusCode=Vh;gt.default=gt;const{Axios:vL,AxiosError:yL,CanceledError:wL,isCancel:bL,CancelToken:xL,VERSION:SL,all:EL,Cancel:AL,isAxiosError:CL,spread:_L,toFormData:kL,AxiosHeaders:TL,HttpStatusCode:RL,formToJSON:PL,getAdapter:NL,mergeConfig:LL}=gt,zC="http://ec2-16-170-158-105.eu-north-1.compute.amazonaws.com/api",Er=gt.create({baseURL:zC,headers:{"Content-Type":"application/json"}});Er.interceptors.request.use(s=>(s.withCredentials=!0,s),s=>Promise.reject(s));Er.interceptors.response.use(s=>s,async s=>(s.response,Promise.reject(s)));function HC({isOpen:s,onClose:e}){const t=Xi(),n=zr(),r=[{id:"dashboard",label:"Dashboard",icon:tA,href:"/dashboard"},{id:"drivers",label:"Drivers",icon:cA,href:"/drivers"}],a=c=>{t(c),window.innerWidth<768&&e()},l=async()=>{try{await Er.post("/admin/logout")&&t("/")}catch(c){console.log(c,"error")}};return A.jsxs(A.Fragment,{children:[s&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 backdrop-blur-sm md:hidden",onClick:e}),A.jsx("div",{className:`
        fixed top-0 left-0 h-screen md:h-auto lg: bg-gray-900 dark:bg-gray-800 border-r border-gray-700 dark:border-gray-600 z-50 transform transition-transform duration-300 ease-in-out shadow-2xl
        ${s?"translate-y-0":"-translate-y-full"}
        w-full sm:w-80 md:w-64 md:translate-y-0 md:translate-x-0 md:static md:z-auto md:shadow-none md:border-r md:border-b-0
      `,children:A.jsxs("div",{className:"flex flex-col h-full",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700 dark:border-gray-600 md:hidden",children:[A.jsx("h2",{className:"text-xl font-bold text-emerald-400",children:"Admin Panel"}),A.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-300 hover:bg-gray-800 dark:hover:bg-gray-700 hover:text-white transition-colors",children:A.jsx(jh,{className:"w-5 h-5"})})]}),A.jsx("div",{className:"hidden md:block p-6 border-b border-gray-700 dark:border-gray-600",children:A.jsx("h2",{className:"text-xl font-bold text-emerald-400",children:"Admin Panel"})}),A.jsx("nav",{className:"flex-1 p-4",children:A.jsx("ul",{className:"space-y-2",children:r.map(c=>{const d=c.icon,h=n.pathname===c.href;return A.jsx("li",{children:A.jsxs("button",{onClick:()=>a(c.href),className:`
                        w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors
                        ${h?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"text-gray-300 hover:bg-gray-800 dark:hover:bg-gray-700 hover:text-white"}
                      `,children:[A.jsx(d,{className:"w-5 h-5"}),A.jsx("span",{className:"font-medium",children:c.label})]})},c.id)})})}),A.jsx("div",{className:"p-4 border-t border-gray-700 dark:border-gray-600",children:A.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-800 dark:hover:bg-gray-700 hover:text-white transition-colors cursor-pointer",onClick:l,children:[A.jsx(iA,{className:"w-5 h-5"}),A.jsx("span",{className:"font-medium",children:"Logout"})]})})]})})]})}const ew=_.createContext();function UC({children:s}){const[e,t]=_.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");_.useEffect(()=>{const r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(e),localStorage.setItem("theme",e)},[e]);const n=()=>{t(e==="light"?"dark":"light")};return A.jsx(ew.Provider,{value:{theme:e,toggleTheme:n},children:s})}const tw=()=>{const s=_.useContext(ew);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s};function VC({onToggleSidebar:s,isSidebarOpen:e}){const{theme:t,toggleTheme:n}=tw();return A.jsxs("header",{className:"w-full bg-gray-900 dark:bg-gray-800 border-b border-gray-600 dark:border-gray-700 text-white px-6 py-4 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("button",{onClick:s,className:"md:hidden p-2 rounded-lg bg-gray-700 dark:bg-gray-600 hover:bg-gray-600 dark:hover:bg-gray-500 transition-colors","aria-label":"Toggle sidebar",children:A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),A.jsx("h1",{className:"text-2xl font-bold text-emerald-400",children:"Shift Admin"})]}),A.jsx("div",{className:"flex items-center gap-4",children:A.jsx("span",{className:"text-gray-300 dark:text-gray-400",children:"Admin"})})]})}const WC=()=>{const[s,e]=_.useState(!1),t=()=>{e(!s)},n=()=>{e(!1)};return A.jsxs("div",{className:"flex h-full",children:[A.jsx(HC,{isOpen:s,onClose:n}),A.jsxs("div",{className:"flex-1 overflow-auto",children:[A.jsx("div",{className:"sticky top-0 z-20",children:A.jsx(VC,{onToggleSidebar:t,isSidebarOpen:s})}),A.jsx("main",{className:"bg-background",children:A.jsx(xy,{})})]})]})},GC={login:async(s,e)=>{try{return(await Er.post("/admin/login",{email:s,password:e}))?.data}catch(t){throw t}},logout:async()=>{try{return(await Er.post("/admin/logout")).data}catch(s){throw s}}};var dh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var M0;function qC(){return M0||(M0=1,(function(s){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=r(a,n(c)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=r(l,c));return l}function r(a,l){return l?a?a+" "+l:a+l:a}s.exports?(t.default=t,s.exports=t):window.classNames=t})()})(dh)),dh.exports}var XC=qC();const Zn=Bc(XC);function en(){return en=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},en.apply(null,arguments)}function Be(s){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(s)}var KC=Symbol.for("react.element"),YC=Symbol.for("react.transitional.element"),QC=Symbol.for("react.fragment");function JC(s){return s&&Be(s)==="object"&&(s.$$typeof===KC||s.$$typeof===YC)&&s.type===QC}var Wh={},ZC=function(e){};function e_(s,e){}function t_(s,e){}function n_(){Wh={}}function nw(s,e,t){!e&&!Wh[t]&&(s(!1,t),Wh[t]=!0)}function _a(s,e){nw(e_,s,e)}function r_(s,e){nw(t_,s,e)}_a.preMessage=ZC;_a.resetWarned=n_;_a.noteOnce=r_;function s_(s,e){if(Be(s)!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var n=t.call(s,e);if(Be(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function rw(s){var e=s_(s,"string");return Be(e)=="symbol"?e:e+""}function me(s,e,t){return(e=rw(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function I0(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),t.push.apply(t,n)}return t}function de(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(t),!0).forEach(function(n){me(s,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):I0(Object(t)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(t,n))})}return s}function O0(s){return s instanceof HTMLElement||s instanceof SVGElement}function i_(s){return s&&Be(s)==="object"&&O0(s.nativeElement)?s.nativeElement:O0(s)?s:null}function o_(s){var e=i_(s);if(e)return e;if(s instanceof Qe.Component){var t;return(t=Fh.findDOMNode)===null||t===void 0?void 0:t.call(Fh,s)}return null}var hh={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function a_(){if(D0)return ze;D0=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function b(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case s:switch(S=S.type,S){case t:case r:case n:case h:case f:return S;default:switch(S=S&&S.$$typeof,S){case c:case l:case d:case m:case g:case a:return S;default:return E}}case e:return E}}}return ze.ContextConsumer=l,ze.ContextProvider=a,ze.Element=s,ze.ForwardRef=d,ze.Fragment=t,ze.Lazy=m,ze.Memo=g,ze.Portal=e,ze.Profiler=r,ze.StrictMode=n,ze.Suspense=h,ze.SuspenseList=f,ze.isAsyncMode=function(){return!1},ze.isConcurrentMode=function(){return!1},ze.isContextConsumer=function(S){return b(S)===l},ze.isContextProvider=function(S){return b(S)===a},ze.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===s},ze.isForwardRef=function(S){return b(S)===d},ze.isFragment=function(S){return b(S)===t},ze.isLazy=function(S){return b(S)===m},ze.isMemo=function(S){return b(S)===g},ze.isPortal=function(S){return b(S)===e},ze.isProfiler=function(S){return b(S)===r},ze.isStrictMode=function(S){return b(S)===n},ze.isSuspense=function(S){return b(S)===h},ze.isSuspenseList=function(S){return b(S)===f},ze.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===r||S===n||S===h||S===f||S===y||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===g||S.$$typeof===a||S.$$typeof===l||S.$$typeof===d||S.$$typeof===x||S.getModuleId!==void 0)},ze.typeOf=b,ze}var F0;function l_(){return F0||(F0=1,hh.exports=a_()),hh.exports}var fh=l_();function sw(s,e,t){var n=_.useRef({});return(!("value"in n.current)||t(n.current.condition,e))&&(n.current.value=s(),n.current.condition=e),n.current.value}var c_=Number(_.version.split(".")[0]),u_=function(e,t){typeof e=="function"?e(t):Be(e)==="object"&&e&&"current"in e&&(e.current=t)},d_=function(e){var t,n;if(!e)return!1;if(iw(e)&&c_>=19)return!0;var r=fh.isMemo(e)?e.type.type:e.type;return!(typeof r=="function"&&!((t=r.prototype)!==null&&t!==void 0&&t.render)&&r.$$typeof!==fh.ForwardRef||typeof e=="function"&&!((n=e.prototype)!==null&&n!==void 0&&n.render)&&e.$$typeof!==fh.ForwardRef)};function iw(s){return _.isValidElement(s)&&!JC(s)}var h_=function(e){if(e&&iw(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function Ar(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function j0(s,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,rw(n.key),n)}}function Cr(s,e,t){return e&&j0(s.prototype,e),t&&j0(s,t),Object.defineProperty(s,"prototype",{writable:!1}),s}function Gh(s,e){return Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Gh(s,e)}function Kc(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&Gh(s,e)}function Pc(s){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pc(s)}function ow(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ow=function(){return!!s})()}function Gs(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function f_(s,e){if(e&&(Be(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gs(s)}function Yc(s){var e=ow();return function(){var t,n=Pc(s);if(e){var r=Pc(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return f_(this,t)}}function qh(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,n=Array(e);t<e;t++)n[t]=s[t];return n}function p_(s){if(Array.isArray(s))return qh(s)}function aw(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function Jf(s,e){if(s){if(typeof s=="string")return qh(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?qh(s,e):void 0}}function g_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pn(s){return p_(s)||aw(s)||Jf(s)||g_()}var lw=function(e){return+setTimeout(e,16)},cw=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(lw=function(e){return window.requestAnimationFrame(e)},cw=function(e){return window.cancelAnimationFrame(e)});var $0=0,Zf=new Map;function uw(s){Zf.delete(s)}var Xh=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;$0+=1;var n=$0;function r(a){if(a===0)uw(n),e();else{var l=lw(function(){r(a-1)});Zf.set(n,l)}}return r(t),n};Xh.cancel=function(s){var e=Zf.get(s);return uw(s),cw(e)};function dw(s){if(Array.isArray(s))return s}function m_(s,e){var t=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var n,r,a,l,c=[],d=!0,h=!1;try{if(a=(t=t.call(s)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(n=a.call(t)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(f){h=!0,r=f}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(h)throw r}}return c}}function hw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _e(s,e){return dw(s)||m_(s,e)||Jf(s,e)||hw()}function la(s){for(var e=0,t,n=0,r=s.length;r>=4;++n,r-=4)t=s.charCodeAt(n)&255|(s.charCodeAt(++n)&255)<<8|(s.charCodeAt(++n)&255)<<16|(s.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(s.charCodeAt(n+2)&255)<<16;case 2:e^=(s.charCodeAt(n+1)&255)<<8;case 1:e^=s.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Hr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function v_(s,e){if(!s)return!1;if(s.contains)return s.contains(e);for(var t=e;t;){if(t===s)return!0;t=t.parentNode}return!1}var B0="data-rc-order",z0="data-rc-priority",y_="rc-util-key",Kh=new Map;function fw(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=s.mark;return e?e.startsWith("data-")?e:"data-".concat(e):y_}function Qc(s){if(s.attachTo)return s.attachTo;var e=document.querySelector("head");return e||document.body}function w_(s){return s==="queue"?"prependQueue":s?"prepend":"append"}function ep(s){return Array.from((Kh.get(s)||s).children).filter(function(e){return e.tagName==="STYLE"})}function pw(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Hr())return null;var t=e.csp,n=e.prepend,r=e.priority,a=r===void 0?0:r,l=w_(n),c=l==="prependQueue",d=document.createElement("style");d.setAttribute(B0,l),c&&a&&d.setAttribute(z0,"".concat(a)),t!=null&&t.nonce&&(d.nonce=t?.nonce),d.innerHTML=s;var h=Qc(e),f=h.firstChild;if(n){if(c){var g=(e.styles||ep(h)).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(B0)))return!1;var y=Number(m.getAttribute(z0)||0);return a>=y});if(g.length)return h.insertBefore(d,g[g.length-1].nextSibling),d}h.insertBefore(d,f)}else h.appendChild(d);return d}function gw(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Qc(e);return(e.styles||ep(t)).find(function(n){return n.getAttribute(fw(e))===s})}function mw(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=gw(s,e);if(t){var n=Qc(e);n.removeChild(t)}}function b_(s,e){var t=Kh.get(s);if(!t||!v_(document,t)){var n=pw("",e),r=n.parentNode;Kh.set(s,r),s.removeChild(n)}}function qs(s,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Qc(t),r=ep(n),a=de(de({},t),{},{styles:r});b_(n,a);var l=gw(e,a);if(l){var c,d;if((c=a.csp)!==null&&c!==void 0&&c.nonce&&l.nonce!==((d=a.csp)===null||d===void 0?void 0:d.nonce)){var h;l.nonce=(h=a.csp)===null||h===void 0?void 0:h.nonce}return l.innerHTML!==s&&(l.innerHTML=s),l}var f=pw(s,a);return f.setAttribute(fw(a),e),f}function x_(s,e){if(s==null)return{};var t={};for(var n in s)if({}.hasOwnProperty.call(s,n)){if(e.indexOf(n)!==-1)continue;t[n]=s[n]}return t}function Ys(s,e){if(s==null)return{};var t,n,r=x_(s,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(s,t)&&(r[t]=s[t])}return r}function S_(s,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function r(a,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=n.has(a);if(_a(!d,"Warning: There may be circular references"),d)return!1;if(a===l)return!0;if(t&&c>1)return!1;n.add(a);var h=c+1;if(Array.isArray(a)){if(!Array.isArray(l)||a.length!==l.length)return!1;for(var f=0;f<a.length;f++)if(!r(a[f],l[f],h))return!1;return!0}if(a&&l&&Be(a)==="object"&&Be(l)==="object"){var g=Object.keys(a);return g.length!==Object.keys(l).length?!1:g.every(function(m){return r(a[m],l[m],h)})}return!1}return r(s,e)}var E_="%";function Yh(s){return s.join(E_)}var A_=(function(){function s(e){Ar(this,s),me(this,"instanceId",void 0),me(this,"cache",new Map),me(this,"extracted",new Set),this.instanceId=e}return Cr(s,[{key:"get",value:function(t){return this.opGet(Yh(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,n){return this.opUpdate(Yh(t),n)}},{key:"opUpdate",value:function(t,n){var r=this.cache.get(t),a=n(r);a===null?this.cache.delete(t):this.cache.set(t,a)}}]),s})(),$i="data-token-hash",er="data-css-hash",gs="__cssinjs_instance__";function C_(){var s=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(er,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(r){r[gs]=r[gs]||s,r[gs]===s&&document.head.insertBefore(r,t)});var n={};Array.from(document.querySelectorAll("style[".concat(er,"]"))).forEach(function(r){var a=r.getAttribute(er);if(n[a]){if(r[gs]===s){var l;(l=r.parentNode)===null||l===void 0||l.removeChild(r)}}else n[a]=!0})}return new A_(s)}var ka=_.createContext({hashPriority:"low",cache:C_(),defaultCache:!0});function __(s,e){if(s.length!==e.length)return!1;for(var t=0;t<s.length;t++)if(s[t]!==e[t])return!1;return!0}var tp=(function(){function s(){Ar(this,s),me(this,"cache",void 0),me(this,"keys",void 0),me(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Cr(s,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var n,r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l={map:this.cache};return t.forEach(function(c){if(!l)l=void 0;else{var d;l=(d=l)===null||d===void 0||(d=d.map)===null||d===void 0?void 0:d.get(c)}}),(n=l)!==null&&n!==void 0&&n.value&&a&&(l.value[1]=this.cacheCallTimes++),(r=l)===null||r===void 0?void 0:r.value}},{key:"get",value:function(t){var n;return(n=this.internalGet(t,!0))===null||n===void 0?void 0:n[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>s.MAX_CACHE_SIZE+s.MAX_CACHE_OFFSET){var a=this.keys.reduce(function(h,f){var g=_e(h,2),m=g[1];return r.internalGet(f)[1]<m?[f,r.internalGet(f)[1]]:h},[this.keys[0],this.cacheCallTimes]),l=_e(a,1),c=l[0];this.delete(c)}this.keys.push(t)}var d=this.cache;t.forEach(function(h,f){if(f===t.length-1)d.set(h,{value:[n,r.cacheCallTimes++]});else{var g=d.get(h);g?g.map||(g.map=new Map):d.set(h,{map:new Map}),d=d.get(h).map}})}},{key:"deleteByPath",value:function(t,n){var r=t.get(n[0]);if(n.length===1){var a;return r.map?t.set(n[0],{map:r.map}):t.delete(n[0]),(a=r.value)===null||a===void 0?void 0:a[0]}var l=this.deleteByPath(r.map,n.slice(1));return(!r.map||r.map.size===0)&&!r.value&&t.delete(n[0]),l}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(n){return!__(n,t)}),this.deleteByPath(this.cache,t)}}]),s})();me(tp,"MAX_CACHE_SIZE",20);me(tp,"MAX_CACHE_OFFSET",5);var H0=0,vw=(function(){function s(e){Ar(this,s),me(this,"derivatives",void 0),me(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=H0,e.length===0&&(e.length>0,void 0),H0+=1}return Cr(s,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(n,r){return r(t,n)},void 0)}}]),s})(),ph=new tp;function Qh(s){var e=Array.isArray(s)?s:[s];return ph.has(e)||ph.set(e,new vw(e)),ph.get(e)}var k_=new WeakMap,gh={};function T_(s,e){for(var t=k_,n=0;n<e.length;n+=1){var r=e[n];t.has(r)||t.set(r,new WeakMap),t=t.get(r)}return t.has(gh)||t.set(gh,s()),t.get(gh)}var U0=new WeakMap;function na(s){var e=U0.get(s)||"";return e||(Object.keys(s).forEach(function(t){var n=s[t];e+=t,n instanceof vw?e+=n.id:n&&Be(n)==="object"?e+=na(n):e+=n}),e=la(e),U0.set(s,e)),e}function V0(s,e){return la("".concat(e,"_").concat(na(s)))}var Jh=Hr();function W0(s){return typeof s=="number"?"".concat(s,"px"):s}function Nc(s,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r)return s;var a=de(de({},n),{},me(me({},$i,e),er,t)),l=Object.keys(a).map(function(c){var d=a[c];return d?"".concat(c,'="').concat(d,'"'):null}).filter(function(c){return c}).join(" ");return"<style ".concat(l,">").concat(s,"</style>")}var vc=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},R_=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(n!=null&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map(function(r){var a=_e(r,2),l=a[0],c=a[1];return"".concat(l,":").concat(c,";")}).join(""),"}"):""},yw=function(e,t,n){var r={},a={};return Object.entries(e).forEach(function(l){var c,d,h=_e(l,2),f=h[0],g=h[1];if(n!=null&&(c=n.preserve)!==null&&c!==void 0&&c[f])a[f]=g;else if((typeof g=="string"||typeof g=="number")&&!(n!=null&&(d=n.ignore)!==null&&d!==void 0&&d[f])){var m,y=vc(f,n?.prefix);r[y]=typeof g=="number"&&!(n!=null&&(m=n.unitless)!==null&&m!==void 0&&m[f])?"".concat(g,"px"):String(g),a[f]="var(".concat(y,")")}}),[a,R_(r,t,{scope:n?.scope})]},G0=Hr()?_.useLayoutEffect:_.useEffect,P_=function(e,t){var n=_.useRef(!0);G0(function(){return e(n.current)},t),G0(function(){return n.current=!1,function(){n.current=!0}},[])},N_=de({},$f),q0=N_.useInsertionEffect,L_=function(e,t,n){_.useMemo(e,n),P_(function(){return t(!0)},n)},M_=q0?function(s,e,t){return q0(function(){return s(),e()},t)}:L_,I_=de({},$f),O_=I_.useInsertionEffect,D_=function(e){var t=[],n=!1;function r(a){n||t.push(a)}return _.useEffect(function(){return n=!1,function(){n=!0,t.length&&t.forEach(function(a){return a()})}},e),r},F_=function(){return function(e){e()}},j_=typeof O_<"u"?D_:F_;function np(s,e,t,n,r){var a=_.useContext(ka),l=a.cache,c=[s].concat(pn(e)),d=Yh(c),h=j_([d]),f=function(x){l.opUpdate(d,function(b){var S=b||[void 0,void 0],E=_e(S,2),T=E[0],C=T===void 0?0:T,P=E[1],R=P,L=R||t(),N=[C,L];return x?x(N):N})};_.useMemo(function(){f()},[d]);var g=l.opGet(d),m=g[1];return M_(function(){r?.(m)},function(y){return f(function(x){var b=_e(x,2),S=b[0],E=b[1];return y&&S===0&&r?.(m),[S+1,E]}),function(){l.opUpdate(d,function(x){var b=x||[],S=_e(b,2),E=S[0],T=E===void 0?0:E,C=S[1],P=T-1;return P===0?(h(function(){(y||!l.opGet(d))&&n?.(C,!1)}),null):[T-1,C]})}},[d]),m}var $_={},B_="css",Fs=new Map;function z_(s){Fs.set(s,(Fs.get(s)||0)+1)}function H_(s,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat($i,'="').concat(s,'"]'));t.forEach(function(n){if(n[gs]===e){var r;(r=n.parentNode)===null||r===void 0||r.removeChild(n)}})}}var U_=0;function V_(s,e){Fs.set(s,(Fs.get(s)||0)-1);var t=new Set;Fs.forEach(function(n,r){n<=0&&t.add(r)}),Fs.size-t.size>U_&&t.forEach(function(n){H_(n,e),Fs.delete(n)})}var W_=function(e,t,n,r){var a=n.getDerivativeToken(e),l=de(de({},a),t);return r&&(l=r(l)),l},ww="token";function G_(s,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=_.useContext(ka),r=n.cache.instanceId,a=n.container,l=t.salt,c=l===void 0?"":l,d=t.override,h=d===void 0?$_:d,f=t.formatToken,g=t.getComputedToken,m=t.cssVar,y=T_(function(){return Object.assign.apply(Object,[{}].concat(pn(e)))},e),x=na(y),b=na(h),S=m?na(m):"",E=np(ww,[c,s.id,x,b,S],function(){var T,C=g?g(y,h,s):W_(y,h,s,f),P=de({},C),R="";if(m){var L=yw(C,m.key,{prefix:m.prefix,ignore:m.ignore,unitless:m.unitless,preserve:m.preserve}),N=_e(L,2);C=N[0],R=N[1]}var D=V0(C,c);C._tokenKey=D,P._tokenKey=V0(P,c);var j=(T=m?.key)!==null&&T!==void 0?T:D;C._themeKey=j,z_(j);var B="".concat(B_,"-").concat(la(D));return C._hashId=B,[C,B,P,R,m?.key||""]},function(T){V_(T[0]._themeKey,r)},function(T){var C=_e(T,4),P=C[0],R=C[3];if(m&&R){var L=qs(R,la("css-variables-".concat(P._themeKey)),{mark:er,prepend:"queue",attachTo:a,priority:-999});L[gs]=r,L.setAttribute($i,P._themeKey)}});return E}var q_=function(e,t,n){var r=_e(e,5),a=r[2],l=r[3],c=r[4],d=n||{},h=d.plain;if(!l)return null;var f=a._tokenKey,g=-999,m={"data-rc-order":"prependQueue","data-rc-priority":"".concat(g)},y=Nc(l,c,f,m,h);return[g,f,y]},X_={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bw="comm",xw="rule",Sw="decl",K_="@import",Y_="@namespace",Q_="@keyframes",J_="@layer",Ew=Math.abs,rp=String.fromCharCode;function Aw(s){return s.trim()}function yc(s,e,t){return s.replace(e,t)}function Z_(s,e,t){return s.indexOf(e,t)}function Ii(s,e){return s.charCodeAt(e)|0}function Bi(s,e,t){return s.slice(e,t)}function wr(s){return s.length}function ek(s){return s.length}function Jl(s,e){return e.push(s),s}var Jc=1,zi=1,Cw=0,zn=0,wt=0,Qi="";function sp(s,e,t,n,r,a,l,c){return{value:s,root:e,parent:t,type:n,props:r,children:a,line:Jc,column:zi,length:l,return:"",siblings:c}}function tk(){return wt}function nk(){return wt=zn>0?Ii(Qi,--zn):0,zi--,wt===10&&(zi=1,Jc--),wt}function tr(){return wt=zn<Cw?Ii(Qi,zn++):0,zi++,wt===10&&(zi=1,Jc++),wt}function ms(){return Ii(Qi,zn)}function wc(){return zn}function Zc(s,e){return Bi(Qi,s,e)}function ca(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rk(s){return Jc=zi=1,Cw=wr(Qi=s),zn=0,[]}function sk(s){return Qi="",s}function mh(s){return Aw(Zc(zn-1,Zh(s===91?s+2:s===40?s+1:s)))}function ik(s){for(;(wt=ms())&&wt<33;)tr();return ca(s)>2||ca(wt)>3?"":" "}function ok(s,e){for(;--e&&tr()&&!(wt<48||wt>102||wt>57&&wt<65||wt>70&&wt<97););return Zc(s,wc()+(e<6&&ms()==32&&tr()==32))}function Zh(s){for(;tr();)switch(wt){case s:return zn;case 34:case 39:s!==34&&s!==39&&Zh(wt);break;case 40:s===41&&Zh(s);break;case 92:tr();break}return zn}function ak(s,e){for(;tr()&&s+wt!==57;)if(s+wt===84&&ms()===47)break;return"/*"+Zc(e,zn-1)+"*"+rp(s===47?s:tr())}function lk(s){for(;!ca(ms());)tr();return Zc(s,zn)}function ck(s){return sk(bc("",null,null,null,[""],s=rk(s),0,[0],s))}function bc(s,e,t,n,r,a,l,c,d){for(var h=0,f=0,g=l,m=0,y=0,x=0,b=1,S=1,E=1,T=0,C="",P=r,R=a,L=n,N=C;S;)switch(x=T,T=tr()){case 40:if(x!=108&&Ii(N,g-1)==58){Z_(N+=yc(mh(T),"&","&\f"),"&\f",Ew(h?c[h-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:N+=mh(T);break;case 9:case 10:case 13:case 32:N+=ik(x);break;case 92:N+=ok(wc()-1,7);continue;case 47:switch(ms()){case 42:case 47:Jl(uk(ak(tr(),wc()),e,t,d),d),(ca(x||1)==5||ca(ms()||1)==5)&&wr(N)&&Bi(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*b:c[h++]=wr(N)*E;case 125*b:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+f:E==-1&&(N=yc(N,/\f/g,"")),y>0&&(wr(N)-g||b===0&&x===47)&&Jl(y>32?K0(N+";",n,t,g-1,d):K0(yc(N," ","")+";",n,t,g-2,d),d);break;case 59:N+=";";default:if(Jl(L=X0(N,e,t,h,f,r,c,C,P=[],R=[],g,a),a),T===123)if(f===0)bc(N,e,L,L,P,a,g,c,R);else{switch(m){case 99:if(Ii(N,3)===110)break;case 108:if(Ii(N,2)===97)break;default:f=0;case 100:case 109:case 115:}f?bc(s,L,L,n&&Jl(X0(s,L,L,0,0,r,c,C,r,P=[],g,R),R),r,R,g,c,n?P:R):bc(N,L,L,L,[""],R,0,c,R)}}h=f=y=0,b=E=1,C=N="",g=l;break;case 58:g=1+wr(N),y=x;default:if(b<1){if(T==123)--b;else if(T==125&&b++==0&&nk()==125)continue}switch(N+=rp(T),T*b){case 38:E=f>0?1:(N+="\f",-1);break;case 44:c[h++]=(wr(N)-1)*E,E=1;break;case 64:ms()===45&&(N+=mh(tr())),m=ms(),f=g=wr(C=N+=lk(wc())),T++;break;case 45:x===45&&wr(N)==2&&(b=0)}}return a}function X0(s,e,t,n,r,a,l,c,d,h,f,g){for(var m=r-1,y=r===0?a:[""],x=ek(y),b=0,S=0,E=0;b<n;++b)for(var T=0,C=Bi(s,m+1,m=Ew(S=l[b])),P=s;T<x;++T)(P=Aw(S>0?y[T]+" "+C:yc(C,/&\f/g,y[T])))&&(d[E++]=P);return sp(s,e,t,r===0?xw:c,d,h,f,g)}function uk(s,e,t,n){return sp(s,e,t,bw,rp(tk()),Bi(s,2,-2),0,n)}function K0(s,e,t,n,r){return sp(s,e,t,Sw,Bi(s,0,n),Bi(s,n+1,-1),n,r)}function ef(s,e){for(var t="",n=0;n<s.length;n++)t+=e(s[n],n,s,e)||"";return t}function dk(s,e,t,n){switch(s.type){case J_:if(s.children.length)break;case K_:case Y_:case Sw:return s.return=s.return||s.value;case bw:return"";case Q_:return s.return=s.value+"{"+ef(s.children,n)+"}";case xw:if(!wr(s.value=s.props.join(",")))return""}return wr(t=ef(s.children,n))?s.return=s.value+"{"+t+"}":""}var Y0="data-ant-cssinjs-cache-path",_w="_FILE_STYLE__",Xs,kw=!0;function hk(){if(!Xs&&(Xs={},Hr())){var s=document.createElement("div");s.className=Y0,s.style.position="fixed",s.style.visibility="hidden",s.style.top="-9999px",document.body.appendChild(s);var e=getComputedStyle(s).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(r){var a=r.split(":"),l=_e(a,2),c=l[0],d=l[1];Xs[c]=d});var t=document.querySelector("style[".concat(Y0,"]"));if(t){var n;kw=!1,(n=t.parentNode)===null||n===void 0||n.removeChild(t)}document.body.removeChild(s)}}function fk(s){return hk(),!!Xs[s]}function pk(s){var e=Xs[s],t=null;if(e&&Hr())if(kw)t=_w;else{var n=document.querySelector("style[".concat(er,'="').concat(Xs[s],'"]'));n?t=n.innerHTML:delete Xs[s]}return[t,e]}var gk="_skip_check_",Tw="_multi_value_";function xc(s){var e=ef(ck(s),dk);return e.replace(/\{%%%\:[^;];}/g,";")}function mk(s){return Be(s)==="object"&&s&&(gk in s||Tw in s)}function Q0(s,e,t){if(!e)return s;var n=".".concat(e),r=t==="low"?":where(".concat(n,")"):n,a=s.split(",").map(function(l){var c,d=l.trim().split(/\s+/),h=d[0]||"",f=((c=h.match(/^\w+/))===null||c===void 0?void 0:c[0])||"";return h="".concat(f).concat(r).concat(h.slice(f.length)),[h].concat(pn(d.slice(1))).join(" ")});return a.join(",")}var vk=function s(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=n.root,a=n.injectHash,l=n.parentSelectors,c=t.hashId,d=t.layer;t.path;var h=t.hashPriority,f=t.transformers,g=f===void 0?[]:f;t.linters;var m="",y={};function x(E){var T=E.getName(c);if(!y[T]){var C=s(E.style,t,{root:!1,parentSelectors:l}),P=_e(C,1),R=P[0];y[T]="@keyframes ".concat(E.getName(c)).concat(R)}}function b(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return E.forEach(function(C){Array.isArray(C)?b(C,T):C&&T.push(C)}),T}var S=b(Array.isArray(e)?e:[e]);return S.forEach(function(E){var T=typeof E=="string"&&!r?{}:E;if(typeof T=="string")m+="".concat(T,`
`);else if(T._keyframe)x(T);else{var C=g.reduce(function(P,R){var L;return(R==null||(L=R.visit)===null||L===void 0?void 0:L.call(R,P))||P},T);Object.keys(C).forEach(function(P){var R=C[P];if(Be(R)==="object"&&R&&(P!=="animationName"||!R._keyframe)&&!mk(R)){var L=!1,N=P.trim(),D=!1;(r||a)&&c?N.startsWith("@")?L=!0:N==="&"?N=Q0("",c,h):N=Q0(P,c,h):r&&!c&&(N==="&"||N==="")&&(N="",D=!0);var j=s(R,t,{root:D,injectHash:L,parentSelectors:[].concat(pn(l),[N])}),B=_e(j,2),G=B[0],Y=B[1];y=de(de({},y),Y),m+="".concat(N).concat(G)}else{let re=function(U,V){var K=U.replace(/[A-Z]/g,function(te){return"-".concat(te.toLowerCase())}),ee=V;!X_[U]&&typeof ee=="number"&&ee!==0&&(ee="".concat(ee,"px")),U==="animationName"&&V!==null&&V!==void 0&&V._keyframe&&(x(V),ee=V.getName(c)),m+="".concat(K,":").concat(ee,";")};var Q,X=(Q=R?.value)!==null&&Q!==void 0?Q:R;Be(R)==="object"&&R!==null&&R!==void 0&&R[Tw]&&Array.isArray(X)?X.forEach(function(U){re(P,U)}):re(P,X)}})}}),r?d&&(m&&(m="@layer ".concat(d.name," {").concat(m,"}")),d.dependencies&&(y["@layer ".concat(d.name)]=d.dependencies.map(function(E){return"@layer ".concat(E,", ").concat(d.name,";")}).join(`
`))):m="{".concat(m,"}"),[m,y]};function Rw(s,e){return la("".concat(s.join("%")).concat(e))}function yk(){return null}var Pw="style";function tf(s,e){var t=s.token,n=s.path,r=s.hashId,a=s.layer,l=s.nonce,c=s.clientOnly,d=s.order,h=d===void 0?0:d,f=_.useContext(ka),g=f.autoClear;f.mock;var m=f.defaultCache,y=f.hashPriority,x=f.container,b=f.ssrInline,S=f.transformers,E=f.linters,T=f.cache,C=f.layer,P=t._tokenKey,R=[P];C&&R.push("layer"),R.push.apply(R,pn(n));var L=Jh,N=np(Pw,R,function(){var Y=R.join("|");if(fk(Y)){var Q=pk(Y),X=_e(Q,2),re=X[0],U=X[1];if(re)return[re,P,U,{},c,h]}var V=e(),K=vk(V,{hashId:r,hashPriority:y,layer:C?a:void 0,path:n.join("-"),transformers:S,linters:E}),ee=_e(K,2),te=ee[0],O=ee[1],H=xc(te),ie=Rw(R,H);return[H,P,ie,O,c,h]},function(Y,Q){var X=_e(Y,3),re=X[2];(Q||g)&&Jh&&mw(re,{mark:er,attachTo:x})},function(Y){var Q=_e(Y,4),X=Q[0];Q[1];var re=Q[2],U=Q[3];if(L&&X!==_w){var V={mark:er,prepend:C?!1:"queue",attachTo:x,priority:h},K=typeof l=="function"?l():l;K&&(V.csp={nonce:K});var ee=[],te=[];Object.keys(U).forEach(function(H){H.startsWith("@layer")?ee.push(H):te.push(H)}),ee.forEach(function(H){qs(xc(U[H]),"_layer-".concat(H),de(de({},V),{},{prepend:!0}))});var O=qs(X,re,V);O[gs]=T.instanceId,O.setAttribute($i,P),te.forEach(function(H){qs(xc(U[H]),"_effect-".concat(H),V)})}}),D=_e(N,3),j=D[0],B=D[1],G=D[2];return function(Y){var Q;return!b||L||!m?Q=_.createElement(yk,null):Q=_.createElement("style",en({},me(me({},$i,B),er,G),{dangerouslySetInnerHTML:{__html:j}})),_.createElement(_.Fragment,null,Q,Y)}}var wk=function(e,t,n){var r=_e(e,6),a=r[0],l=r[1],c=r[2],d=r[3],h=r[4],f=r[5],g=n||{},m=g.plain;if(h)return null;var y=a,x={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)};return y=Nc(a,l,c,x,m),d&&Object.keys(d).forEach(function(b){if(!t[b]){t[b]=!0;var S=xc(d[b]),E=Nc(S,l,"_effect-".concat(b),x,m);b.startsWith("@layer")?y=E+y:y+=E}}),[f,c,y]},Nw="cssVar",bk=function(e,t){var n=e.key,r=e.prefix,a=e.unitless,l=e.ignore,c=e.token,d=e.scope,h=d===void 0?"":d,f=_.useContext(ka),g=f.cache.instanceId,m=f.container,y=c._tokenKey,x=[].concat(pn(e.path),[n,h,y]),b=np(Nw,x,function(){var S=t(),E=yw(S,n,{prefix:r,unitless:a,ignore:l,scope:h}),T=_e(E,2),C=T[0],P=T[1],R=Rw(x,P);return[C,P,R,n]},function(S){var E=_e(S,3),T=E[2];Jh&&mw(T,{mark:er,attachTo:m})},function(S){var E=_e(S,3),T=E[1],C=E[2];if(T){var P=qs(T,C,{mark:er,prepend:"queue",attachTo:m,priority:-999});P[gs]=g,P.setAttribute($i,n)}});return b},xk=function(e,t,n){var r=_e(e,4),a=r[1],l=r[2],c=r[3],d=n||{},h=d.plain;if(!a)return null;var f=-999,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},m=Nc(a,c,l,g,h);return[f,l,m]};me(me(me({},Pw,wk),ww,q_),Nw,xk);var J0=(function(){function s(e,t){Ar(this,s),me(this,"name",void 0),me(this,"style",void 0),me(this,"_keyframe",!0),this.name=e,this.style=t}return Cr(s,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),s})();function _i(s){return s.notSplit=!0,s}_i(["borderTop","borderBottom"]),_i(["borderTop"]),_i(["borderBottom"]),_i(["borderLeft","borderRight"]),_i(["borderLeft"]),_i(["borderRight"]);var ip=_.createContext({});function Sk(s){return dw(s)||aw(s)||Jf(s)||hw()}function nf(s,e){for(var t=s,n=0;n<e.length;n+=1){if(t==null)return;t=t[e[n]]}return t}function Lw(s,e,t,n){if(!e.length)return t;var r=Sk(e),a=r[0],l=r.slice(1),c;return!s&&typeof a=="number"?c=[]:Array.isArray(s)?c=pn(s):c=de({},s),n&&t===void 0&&l.length===1?delete c[a][l[0]]:c[a]=Lw(c[a],l,t,n),c}function vh(s,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&n&&t===void 0&&!nf(s,e.slice(0,-1))?s:Lw(s,e,t,n)}function Ek(s){return Be(s)==="object"&&s!==null&&Object.getPrototypeOf(s)===Object.prototype}function Z0(s){return Array.isArray(s)?[]:{}}var Ak=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Ck(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];var n=Z0(e[0]);return e.forEach(function(r){function a(l,c){var d=new Set(c),h=nf(r,l),f=Array.isArray(h);if(f||Ek(h)){if(!d.has(h)){d.add(h);var g=nf(n,l);f?n=vh(n,l,[]):(!g||Be(g)!=="object")&&(n=vh(n,l,Z0(h))),Ak(h).forEach(function(m){a([].concat(pn(l),[m]),d)})}}else n=vh(n,l,h)}a([])}),n}const _k=_.createContext({}),kk=_.createContext(void 0),Sn="${label} is not a valid ${type}",eu={Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Sn,method:Sn,array:Sn,object:Sn,number:Sn,date:Sn,boolean:Sn,integer:Sn,float:Sn,regexp:Sn,email:Sn,url:Sn,hex:Sn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}}};Object.assign({},eu.Modal);let Sc=[];const ev=()=>Sc.reduce((s,e)=>Object.assign(Object.assign({},s),e),eu.Modal);function Tk(s){if(s){const e=Object.assign({},s);return Sc.push(e),ev(),()=>{Sc=Sc.filter(t=>t!==e),ev()}}Object.assign({},eu.Modal)}const Mw=_.createContext(void 0),Rk="internalMark",Pk=s=>{const{locale:e={},children:t,_ANT_MARK__:n}=s;_.useEffect(()=>Tk(e?.Modal),[e]);const r=_.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return _.createElement(Mw.Provider,{value:r},t)},Iw={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},ua=Object.assign(Object.assign({},Iw),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Nt=Math.round;function yh(s,e){const t=s.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=t.map(r=>parseFloat(r));for(let r=0;r<3;r+=1)n[r]=e(n[r]||0,t[r]||"",r);return t[3]?n[3]=t[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const tv=(s,e,t)=>t===0?s:s/100;function qo(s,e){const t=e||255;return s>t?t:s<0?0:s}class pt{constructor(e){me(this,"isValid",!0),me(this,"r",0),me(this,"g",0),me(this,"b",0),me(this,"a",1),me(this,"_h",void 0),me(this,"_s",void 0),me(this,"_l",void 0),me(this,"_v",void 0),me(this,"_max",void 0),me(this,"_min",void 0),me(this,"_brightness",void 0);function t(n){return n[0]in e&&n[1]in e&&n[2]in e}if(e)if(typeof e=="string"){let r=function(a){return n.startsWith(a)};const n=e.trim();/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):r("rgb")?this.fromRgbString(n):r("hsl")?this.fromHslString(n):(r("hsv")||r("hsb"))&&this.fromHsvString(n)}else if(e instanceof pt)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=qo(e.r),this.g=qo(e.g),this.b=qo(e.b),this.a=typeof e.a=="number"?qo(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(a){const l=a/255;return l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4)}const t=e(this.r),n=e(this.g),r=e(this.b);return .2126*t+.7152*n+.0722*r}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Nt(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(e=10){const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e,t=50){const n=this._c(e),r=t/100,a=c=>(n[c]-this[c])*r+this[c],l={r:Nt(a("r")),g:Nt(a("g")),b:Nt(a("b")),a:Nt(a("a")*100)/100};return this._c(l)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=a=>Nt((this[a]*this.a+t[a]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const n=(this.g||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.b||0).toString(16);if(e+=r.length===2?r:"0"+r,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=Nt(this.a*255).toString(16);e+=a.length===2?a:"0"+a}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Nt(this.getSaturation()*100),n=Nt(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${n}%,${this.a})`:`hsl(${e},${t}%,${n}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=qo(t,n),r}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(r,a){return parseInt(t[r]+t[a||r],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl({h:e,s:t,l:n,a:r}){if(this._h=e%360,this._s=t,this._l=n,this.a=typeof r=="number"?r:1,t<=0){const m=Nt(n*255);this.r=m,this.g=m,this.b=m}let a=0,l=0,c=0;const d=e/60,h=(1-Math.abs(2*n-1))*t,f=h*(1-Math.abs(d%2-1));d>=0&&d<1?(a=h,l=f):d>=1&&d<2?(a=f,l=h):d>=2&&d<3?(l=h,c=f):d>=3&&d<4?(l=f,c=h):d>=4&&d<5?(a=f,c=h):d>=5&&d<6&&(a=h,c=f);const g=n-h/2;this.r=Nt((a+g)*255),this.g=Nt((l+g)*255),this.b=Nt((c+g)*255)}fromHsv({h:e,s:t,v:n,a:r}){this._h=e%360,this._s=t,this._v=n,this.a=typeof r=="number"?r:1;const a=Nt(n*255);if(this.r=a,this.g=a,this.b=a,t<=0)return;const l=e/60,c=Math.floor(l),d=l-c,h=Nt(n*(1-t)*255),f=Nt(n*(1-t*d)*255),g=Nt(n*(1-t*(1-d))*255);switch(c){case 0:this.g=g,this.b=h;break;case 1:this.r=f,this.b=h;break;case 2:this.r=h,this.b=g;break;case 3:this.r=h,this.g=f;break;case 4:this.r=g,this.g=h;break;case 5:default:this.g=h,this.b=f;break}}fromHsvString(e){const t=yh(e,tv);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=yh(e,tv);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=yh(e,(n,r)=>r.includes("%")?Nt(n/100*255):n);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Zl=2,nv=.16,Nk=.05,Lk=.05,Mk=.15,Ow=5,Dw=4,Ik=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function rv(s,e,t){var n;return Math.round(s.h)>=60&&Math.round(s.h)<=240?n=t?Math.round(s.h)-Zl*e:Math.round(s.h)+Zl*e:n=t?Math.round(s.h)+Zl*e:Math.round(s.h)-Zl*e,n<0?n+=360:n>=360&&(n-=360),n}function sv(s,e,t){if(s.h===0&&s.s===0)return s.s;var n;return t?n=s.s-nv*e:e===Dw?n=s.s+nv:n=s.s+Nk*e,n>1&&(n=1),t&&e===Ow&&n>.1&&(n=.1),n<.06&&(n=.06),Math.round(n*100)/100}function iv(s,e,t){var n;return t?n=s.v+Lk*e:n=s.v-Mk*e,n=Math.max(0,Math.min(1,n)),Math.round(n*100)/100}function da(s){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],n=new pt(s),r=n.toHsv(),a=Ow;a>0;a-=1){var l=new pt({h:rv(r,a,!0),s:sv(r,a,!0),v:iv(r,a,!0)});t.push(l)}t.push(n);for(var c=1;c<=Dw;c+=1){var d=new pt({h:rv(r,c),s:sv(r,c),v:iv(r,c)});t.push(d)}return e.theme==="dark"?Ik.map(function(h){var f=h.index,g=h.amount;return new pt(e.backgroundColor||"#141414").mix(t[f],g).toHexString()}):t.map(function(h){return h.toHexString()})}var wh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},rf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];rf.primary=rf[5];var sf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];sf.primary=sf[5];var of=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];of.primary=of[5];var af=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];af.primary=af[5];var lf=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];lf.primary=lf[5];var cf=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];cf.primary=cf[5];var uf=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];uf.primary=uf[5];var df=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];df.primary=df[5];var Lc=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Lc.primary=Lc[5];var hf=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];hf.primary=hf[5];var ff=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];ff.primary=ff[5];var pf=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];pf.primary=pf[5];var gf=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];gf.primary=gf[5];var bh={red:rf,volcano:sf,orange:of,gold:af,yellow:lf,lime:cf,green:uf,cyan:df,blue:Lc,geekblue:hf,purple:ff,magenta:pf,grey:gf};function Ok(s,{generateColorPalettes:e,generateNeutralColorPalettes:t}){const{colorSuccess:n,colorWarning:r,colorError:a,colorInfo:l,colorPrimary:c,colorBgBase:d,colorTextBase:h}=s,f=e(c),g=e(n),m=e(r),y=e(a),x=e(l),b=t(d,h),S=s.colorLink||s.colorInfo,E=e(S),T=new pt(y[1]).mix(new pt(y[3]),50).toHexString();return Object.assign(Object.assign({},b),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:g[1],colorSuccessBgHover:g[2],colorSuccessBorder:g[3],colorSuccessBorderHover:g[4],colorSuccessHover:g[4],colorSuccess:g[6],colorSuccessActive:g[7],colorSuccessTextHover:g[8],colorSuccessText:g[9],colorSuccessTextActive:g[10],colorErrorBg:y[1],colorErrorBgHover:y[2],colorErrorBgFilledHover:T,colorErrorBgActive:y[3],colorErrorBorder:y[3],colorErrorBorderHover:y[4],colorErrorHover:y[5],colorError:y[6],colorErrorActive:y[7],colorErrorTextHover:y[8],colorErrorText:y[9],colorErrorTextActive:y[10],colorWarningBg:m[1],colorWarningBgHover:m[2],colorWarningBorder:m[3],colorWarningBorderHover:m[4],colorWarningHover:m[4],colorWarning:m[6],colorWarningActive:m[7],colorWarningTextHover:m[8],colorWarningText:m[9],colorWarningTextActive:m[10],colorInfoBg:x[1],colorInfoBgHover:x[2],colorInfoBorder:x[3],colorInfoBorderHover:x[4],colorInfoHover:x[4],colorInfo:x[6],colorInfoActive:x[7],colorInfoTextHover:x[8],colorInfoText:x[9],colorInfoTextActive:x[10],colorLinkHover:E[4],colorLink:E[6],colorLinkActive:E[7],colorBgMask:new pt("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const Dk=s=>{let e=s,t=s,n=s,r=s;return s<6&&s>=5?e=s+1:s<16&&s>=6?e=s+2:s>=16&&(e=16),s<7&&s>=5?t=4:s<8&&s>=7?t=5:s<14&&s>=8?t=6:s<16&&s>=14?t=7:s>=16&&(t=8),s<6&&s>=2?n=1:s>=6&&(n=2),s>4&&s<8?r=4:s>=8&&(r=6),{borderRadius:s,borderRadiusXS:n,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:r}};function Fk(s){const{motionUnit:e,motionBase:t,borderRadius:n,lineWidth:r}=s;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:r+1},Dk(n))}const jk=s=>{const{controlHeight:e}=s;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function $k(s){return(s+8)/s}function Bk(s){const e=Array.from({length:10}).map((t,n)=>{const r=n-1,a=s*Math.pow(Math.E,r/5),l=n>1?Math.floor(a):Math.ceil(a);return Math.floor(l/2)*2});return e[1]=s,e.map(t=>({size:t,lineHeight:$k(t)}))}const zk=s=>{const e=Bk(s),t=e.map(f=>f.size),n=e.map(f=>f.lineHeight),r=t[1],a=t[0],l=t[2],c=n[1],d=n[0],h=n[2];return{fontSizeSM:a,fontSize:r,fontSizeLG:l,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:c,lineHeightLG:h,lineHeightSM:d,fontHeight:Math.round(c*r),fontHeightLG:Math.round(h*l),fontHeightSM:Math.round(d*a),lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}};function Hk(s){const{sizeUnit:e,sizeStep:t}=s;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Fn=(s,e)=>new pt(s).setA(e).toRgbString(),Xo=(s,e)=>new pt(s).darken(e).toHexString(),Uk=s=>{const e=da(s);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Vk=(s,e)=>{const t=s||"#fff",n=e||"#000";return{colorBgBase:t,colorTextBase:n,colorText:Fn(n,.88),colorTextSecondary:Fn(n,.65),colorTextTertiary:Fn(n,.45),colorTextQuaternary:Fn(n,.25),colorFill:Fn(n,.15),colorFillSecondary:Fn(n,.06),colorFillTertiary:Fn(n,.04),colorFillQuaternary:Fn(n,.02),colorBgSolid:Fn(n,1),colorBgSolidHover:Fn(n,.75),colorBgSolidActive:Fn(n,.95),colorBgLayout:Xo(t,4),colorBgContainer:Xo(t,0),colorBgElevated:Xo(t,0),colorBgSpotlight:Fn(n,.85),colorBgBlur:"transparent",colorBorder:Xo(t,15),colorBorderSecondary:Xo(t,6)}};function Wk(s){wh.pink=wh.magenta,bh.pink=bh.magenta;const e=Object.keys(Iw).map(t=>{const n=s[t]===wh[t]?bh[t]:da(s[t]);return Array.from({length:10},()=>1).reduce((r,a,l)=>(r[`${t}-${l+1}`]=n[l],r[`${t}${l+1}`]=n[l],r),{})}).reduce((t,n)=>(t=Object.assign(Object.assign({},t),n),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s),e),Ok(s,{generateColorPalettes:Uk,generateNeutralColorPalettes:Vk})),zk(s.fontSize)),Hk(s)),jk(s)),Fk(s))}const Fw=Qh(Wk),mf={token:ua,override:{override:ua},hashed:!0},jw=Qe.createContext(mf),vf="ant",tu="anticon",Gk=(s,e)=>e||(s?`${vf}-${s}`:vf),jr=_.createContext({getPrefixCls:Gk,iconPrefixCls:tu}),{Consumer:ML}=jr,qk=`-ant-${Date.now()}-${Math.random()}`;function Xk(s,e){const t={},n=(l,c)=>{let d=l.clone();return d=c?.(d)||d,d.toRgbString()},r=(l,c)=>{const d=new pt(l),h=da(d.toRgbString());t[`${c}-color`]=n(d),t[`${c}-color-disabled`]=h[1],t[`${c}-color-hover`]=h[4],t[`${c}-color-active`]=h[6],t[`${c}-color-outline`]=d.clone().setA(.2).toRgbString(),t[`${c}-color-deprecated-bg`]=h[0],t[`${c}-color-deprecated-border`]=h[2]};if(e.primaryColor){r(e.primaryColor,"primary");const l=new pt(e.primaryColor),c=da(l.toRgbString());c.forEach((h,f)=>{t[`primary-${f+1}`]=h}),t["primary-color-deprecated-l-35"]=n(l,h=>h.lighten(35)),t["primary-color-deprecated-l-20"]=n(l,h=>h.lighten(20)),t["primary-color-deprecated-t-20"]=n(l,h=>h.tint(20)),t["primary-color-deprecated-t-50"]=n(l,h=>h.tint(50)),t["primary-color-deprecated-f-12"]=n(l,h=>h.setA(h.a*.12));const d=new pt(c[0]);t["primary-color-active-deprecated-f-30"]=n(d,h=>h.setA(h.a*.3)),t["primary-color-active-deprecated-d-02"]=n(d,h=>h.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(l=>`--${s}-${l}: ${t[l]};`).join(`
`)}
  }
  `.trim()}function Kk(s,e){const t=Xk(s,e);Hr()&&qs(t,`${qk}-dynamic-theme`)}const yf=_.createContext(!1),Yk=({children:s,disabled:e})=>{const t=_.useContext(yf);return _.createElement(yf.Provider,{value:e??t},s)},ha=_.createContext(void 0),Qk=({children:s,size:e})=>{const t=_.useContext(ha);return _.createElement(ha.Provider,{value:e||t},s)};function Jk(){const s=_.useContext(yf),e=_.useContext(ha);return{componentDisabled:s,componentSize:e}}var $w=Cr(function s(){Ar(this,s)}),Bw="CALC_UNIT",Zk=new RegExp(Bw,"g");function xh(s){return typeof s=="number"?"".concat(s).concat(Bw):s}var eT=(function(s){Kc(t,s);var e=Yc(t);function t(n,r){var a;Ar(this,t),a=e.call(this),me(Gs(a),"result",""),me(Gs(a),"unitlessCssVar",void 0),me(Gs(a),"lowPriority",void 0);var l=Be(n);return a.unitlessCssVar=r,n instanceof t?a.result="(".concat(n.result,")"):l==="number"?a.result=xh(n):l==="string"&&(a.result=n),a}return Cr(t,[{key:"add",value:function(r){return r instanceof t?this.result="".concat(this.result," + ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," + ").concat(xh(r))),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof t?this.result="".concat(this.result," - ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," - ").concat(xh(r))),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof t?this.result="".concat(this.result," * ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," * ").concat(r)),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof t?this.result="".concat(this.result," / ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," / ").concat(r)),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(r){var a=this,l=r||{},c=l.unit,d=!0;return typeof c=="boolean"?d=c:Array.from(this.unitlessCssVar).some(function(h){return a.result.includes(h)})&&(d=!1),this.result=this.result.replace(Zk,d?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t})($w),tT=(function(s){Kc(t,s);var e=Yc(t);function t(n){var r;return Ar(this,t),r=e.call(this),me(Gs(r),"result",0),n instanceof t?r.result=n.result:typeof n=="number"&&(r.result=n),r}return Cr(t,[{key:"add",value:function(r){return r instanceof t?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof t?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof t?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof t?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}]),t})($w),nT=function(e,t){var n=e==="css"?eT:tT;return function(r){return new n(r,t)}},ov=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Mc(s){var e=_.useRef();e.current=s;var t=_.useCallback(function(){for(var n,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=e.current)===null||n===void 0?void 0:n.call.apply(n,[e].concat(a))},[]);return t}function wf(s){var e=_.useRef(!1),t=_.useState(s),n=_e(t,2),r=n[0],a=n[1];_.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function l(c,d){d&&e.current||a(c)}return[r,l]}function av(s,e,t,n){var r=de({},e[s]);if(n!=null&&n.deprecatedTokens){var a=n.deprecatedTokens;a.forEach(function(c){var d=_e(c,2),h=d[0],f=d[1];if(r!=null&&r[h]||r!=null&&r[f]){var g;(g=r[f])!==null&&g!==void 0||(r[f]=r?.[h])}})}var l=de(de({},t),r);return Object.keys(l).forEach(function(c){l[c]===e[c]&&delete l[c]}),l}var zw=typeof CSSINJS_STATISTIC<"u",bf=!0;function op(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];if(!zw)return Object.assign.apply(Object,[{}].concat(e));bf=!1;var n={};return e.forEach(function(r){if(Be(r)==="object"){var a=Object.keys(r);a.forEach(function(l){Object.defineProperty(n,l,{configurable:!0,enumerable:!0,get:function(){return r[l]}})})}}),bf=!0,n}var lv={};function rT(){}var sT=function(e){var t,n=e,r=rT;return zw&&typeof Proxy<"u"&&(t=new Set,n=new Proxy(e,{get:function(l,c){if(bf){var d;(d=t)===null||d===void 0||d.add(c)}return l[c]}}),r=function(l,c){var d;lv[l]={global:Array.from(t),component:de(de({},(d=lv[l])===null||d===void 0?void 0:d.component),c)}}),{token:n,keys:t,flush:r}};function cv(s,e,t){if(typeof t=="function"){var n;return t(op(e,(n=e[s])!==null&&n!==void 0?n:{}))}return t??{}}function iT(s){return s==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return"max(".concat(n.map(function(a){return W0(a)}).join(","),")")},min:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return"min(".concat(n.map(function(a){return W0(a)}).join(","),")")}}}var oT=1e3*60*10,aT=(function(){function s(){Ar(this,s),me(this,"map",new Map),me(this,"objectIDMap",new WeakMap),me(this,"nextID",0),me(this,"lastAccessBeat",new Map),me(this,"accessBeat",0)}return Cr(s,[{key:"set",value:function(t,n){this.clear();var r=this.getCompositeKey(t);this.map.set(r,n),this.lastAccessBeat.set(r,Date.now())}},{key:"get",value:function(t){var n=this.getCompositeKey(t),r=this.map.get(n);return this.lastAccessBeat.set(n,Date.now()),this.accessBeat+=1,r}},{key:"getCompositeKey",value:function(t){var n=this,r=t.map(function(a){return a&&Be(a)==="object"?"obj_".concat(n.getObjectID(a)):"".concat(Be(a),"_").concat(a)});return r.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var n=this.nextID;return this.objectIDMap.set(t,n),this.nextID+=1,n}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var n=Date.now();this.lastAccessBeat.forEach(function(r,a){n-r>oT&&(t.map.delete(a),t.lastAccessBeat.delete(a))}),this.accessBeat=0}}}]),s})(),uv=new aT;function lT(s,e){return Qe.useMemo(function(){var t=uv.get(e);if(t)return t;var n=s();return uv.set(e,n),n},e)}var cT=function(){return{}};function uT(s){var e=s.useCSP,t=e===void 0?cT:e,n=s.useToken,r=s.usePrefix,a=s.getResetStyles,l=s.getCommonStyle,c=s.getCompUnitless;function d(m,y,x,b){var S=Array.isArray(m)?m[0]:m;function E(D){return"".concat(String(S)).concat(D.slice(0,1).toUpperCase()).concat(D.slice(1))}var T=b?.unitless||{},C=typeof c=="function"?c(m):{},P=de(de({},C),{},me({},E("zIndexPopup"),!0));Object.keys(T).forEach(function(D){P[E(D)]=T[D]});var R=de(de({},b),{},{unitless:P,prefixToken:E}),L=f(m,y,x,R),N=h(S,x,R);return function(D){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D,B=L(D,j),G=_e(B,2),Y=G[1],Q=N(j),X=_e(Q,2),re=X[0],U=X[1];return[re,Y,U]}}function h(m,y,x){var b=x.unitless,S=x.injectStyle,E=S===void 0?!0:S,T=x.prefixToken,C=x.ignore,P=function(N){var D=N.rootCls,j=N.cssVar,B=j===void 0?{}:j,G=n(),Y=G.realToken;return bk({path:[m],prefix:B.prefix,key:B.key,unitless:b,ignore:C,token:Y,scope:D},function(){var Q=cv(m,Y,y),X=av(m,Y,Q,{deprecatedTokens:x?.deprecatedTokens});return Object.keys(Q).forEach(function(re){X[T(re)]=X[re],delete X[re]}),X}),null},R=function(N){var D=n(),j=D.cssVar;return[function(B){return E&&j?Qe.createElement(Qe.Fragment,null,Qe.createElement(P,{rootCls:N,cssVar:j,component:m}),B):B},j?.key]};return R}function f(m,y,x){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=Array.isArray(m)?m:[m,m],E=_e(S,1),T=E[0],C=S.join("-"),P=s.layer||{name:"antd"};return function(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,N=n(),D=N.theme,j=N.realToken,B=N.hashId,G=N.token,Y=N.cssVar,Q=r(),X=Q.rootPrefixCls,re=Q.iconPrefixCls,U=t(),V=Y?"css":"js",K=lT(function(){var ae=new Set;return Y&&Object.keys(b.unitless||{}).forEach(function(oe){ae.add(vc(oe,Y.prefix)),ae.add(vc(oe,ov(T,Y.prefix)))}),nT(V,ae)},[V,T,Y?.prefix]),ee=iT(V),te=ee.max,O=ee.min,H={theme:D,token:G,hashId:B,nonce:function(){return U.nonce},clientOnly:b.clientOnly,layer:P,order:b.order||-999};typeof a=="function"&&tf(de(de({},H),{},{clientOnly:!1,path:["Shared",X]}),function(){return a(G,{prefix:{rootPrefixCls:X,iconPrefixCls:re},csp:U})});var ie=tf(de(de({},H),{},{path:[C,R,re]}),function(){if(b.injectStyle===!1)return[];var ae=sT(G),oe=ae.token,le=ae.flush,ce=cv(T,j,x),Ee=".".concat(R),Ae=av(T,j,ce,{deprecatedTokens:b.deprecatedTokens});Y&&ce&&Be(ce)==="object"&&Object.keys(ce).forEach(function(ke){ce[ke]="var(".concat(vc(ke,ov(T,Y.prefix)),")")});var we=op(oe,{componentCls:Ee,prefixCls:R,iconCls:".".concat(re),antCls:".".concat(X),calc:K,max:te,min:O},Y?ce:Ae),nt=y(we,{hashId:B,prefixCls:R,rootPrefixCls:X,iconPrefixCls:re});le(T,Ae);var Ge=typeof l=="function"?l(we,R,L,b.resetFont):null;return[b.resetStyle===!1?null:Ge,nt]});return[ie,B]}}function g(m,y,x){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=f(m,y,x,de({resetStyle:!1,order:-998},b)),E=function(C){var P=C.prefixCls,R=C.rootCls,L=R===void 0?P:R;return S(P,L),null};return E}return{genStyleHooks:d,genSubStyleComponent:g,genComponentStyleHook:f}}const dT="5.27.2";function Sh(s){return s>=0&&s<=255}function ec(s,e){const{r:t,g:n,b:r,a}=new pt(s).toRgb();if(a<1)return s;const{r:l,g:c,b:d}=new pt(e).toRgb();for(let h=.01;h<=1;h+=.01){const f=Math.round((t-l*(1-h))/h),g=Math.round((n-c*(1-h))/h),m=Math.round((r-d*(1-h))/h);if(Sh(f)&&Sh(g)&&Sh(m))return new pt({r:f,g,b:m,a:Math.round(h*100)/100}).toRgbString()}return new pt({r:t,g:n,b:r,a:1}).toRgbString()}var hT=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};function Hw(s){const{override:e}=s,t=hT(s,["override"]),n=Object.assign({},e);Object.keys(ua).forEach(m=>{delete n[m]});const r=Object.assign(Object.assign({},t),n),a=480,l=576,c=768,d=992,h=1200,f=1600;return r.motion===!1&&(r.motionDurationFast="0s",r.motionDurationMid="0s",r.motionDurationSlow="0s"),Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:ec(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:ec(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:ec(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*3,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:ec(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:a,screenXSMin:a,screenXSMax:l-1,screenSM:l,screenSMMin:l,screenSMMax:c-1,screenMD:c,screenMDMin:c,screenMDMax:d-1,screenLG:d,screenLGMin:d,screenLGMax:h-1,screenXL:h,screenXLMin:h,screenXLMax:f-1,screenXXL:f,screenXXLMin:f,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new pt("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new pt("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new pt("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}var dv=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};const Uw={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},fT={motionBase:!0,motionUnit:!0},pT={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Vw=(s,e,t)=>{const n=t.getDerivativeToken(s),{override:r}=e,a=dv(e,["override"]);let l=Object.assign(Object.assign({},n),{override:r});return l=Hw(l),a&&Object.entries(a).forEach(([c,d])=>{const{theme:h}=d,f=dv(d,["theme"]);let g=f;h&&(g=Vw(Object.assign(Object.assign({},l),f),{override:f},h)),l[c]=g}),l};function nu(){const{token:s,hashed:e,theme:t,override:n,cssVar:r}=Qe.useContext(jw),a=`${dT}-${e||""}`,l=t||Fw,[c,d,h]=G_(l,[ua,s],{salt:a,override:n,getComputedToken:Vw,formatToken:Hw,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:Uw,ignore:fT,preserve:pT}});return[l,h,e?d:"",c,r]}const gT=(s,e=!1)=>({boxSizing:"border-box",margin:0,padding:0,color:s.colorText,fontSize:s.fontSize,lineHeight:s.lineHeight,listStyle:"none",fontFamily:e?"inherit":s.fontFamily}),mT=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),vT=s=>({a:{color:s.colorLink,textDecoration:s.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${s.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:s.colorLinkHover},"&:active":{color:s.colorLinkActive},"&:active, &:hover":{textDecoration:s.linkHoverDecoration,outline:0},"&:focus":{textDecoration:s.linkFocusDecoration,outline:0},"&[disabled]":{color:s.colorTextDisabled,cursor:"not-allowed"}}}),yT=(s,e,t,n)=>{const r=`[class^="${e}"], [class*=" ${e}"]`,a=t?`.${t}`:r,l={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let c={};return n!==!1&&(c={fontFamily:s.fontFamily,fontSize:s.fontSize}),{[a]:Object.assign(Object.assign(Object.assign({},c),l),{[r]:l})}},Ww=s=>({[`.${s}`]:Object.assign(Object.assign({},mT()),{[`.${s} .${s}-icon`]:{display:"block"}})}),{genStyleHooks:wT}=uT({usePrefix:()=>{const{getPrefixCls:s,iconPrefixCls:e}=_.useContext(jr);return{rootPrefixCls:s(),iconPrefixCls:e}},useToken:()=>{const[s,e,t,n,r]=nu();return{theme:s,realToken:e,hashId:t,token:n,cssVar:r}},useCSP:()=>{const{csp:s}=_.useContext(jr);return s??{}},getResetStyles:(s,e)=>{var t;const n=vT(s);return[n,{"&":n},Ww((t=e?.prefix.iconPrefixCls)!==null&&t!==void 0?t:tu)]},getCommonStyle:yT,getCompUnitless:()=>Uw}),bT=(s,e)=>{const[t,n]=nu();return tf({token:n,hashId:"",path:["ant-design-icons",s],nonce:()=>e?.nonce,layer:{name:"antd"}},()=>Ww(s))},xT=Object.assign({},$f),{useId:hv}=xT,ST=()=>"",ET=typeof hv>"u"?ST:hv;function AT(s,e,t){var n;const r=s||{},a=r.inherit===!1||!e?Object.assign(Object.assign({},mf),{hashed:(n=e?.hashed)!==null&&n!==void 0?n:mf.hashed,cssVar:e?.cssVar}):e,l=ET();return sw(()=>{var c,d;if(!s)return e;const h=Object.assign({},a.components);Object.keys(s.components||{}).forEach(m=>{h[m]=Object.assign(Object.assign({},h[m]),s.components[m])});const f=`css-var-${l.replace(/:/g,"")}`,g=((c=r.cssVar)!==null&&c!==void 0?c:a.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t?.prefixCls},typeof a.cssVar=="object"?a.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((d=r.cssVar)===null||d===void 0?void 0:d.key)||f});return Object.assign(Object.assign(Object.assign({},a),r),{token:Object.assign(Object.assign({},a.token),r.token),components:h,cssVar:g})},[r,a],(c,d)=>c.some((h,f)=>{const g=d[f];return!S_(h,g,!0)}))}var CT=["children"],Gw=_.createContext({});function _T(s){var e=s.children,t=Ys(s,CT);return _.createElement(Gw.Provider,{value:t},e)}var kT=(function(s){Kc(t,s);var e=Yc(t);function t(){return Ar(this,t),e.apply(this,arguments)}return Cr(t,[{key:"render",value:function(){return this.props.children}}]),t})(_.Component);function TT(s){var e=_.useReducer(function(c){return c+1},0),t=_e(e,2),n=t[1],r=_.useRef(s),a=Mc(function(){return r.current}),l=Mc(function(c){r.current=typeof c=="function"?c(r.current):c,n()});return[a,l]}var fs="none",tc="appear",nc="enter",rc="leave",fv="none",Jn="prepare",Ri="start",Pi="active",ap="end",qw="prepared";function pv(s,e){var t={};return t[s.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(s)]="webkit".concat(e),t["Moz".concat(s)]="moz".concat(e),t["ms".concat(s)]="MS".concat(e),t["O".concat(s)]="o".concat(e.toLowerCase()),t}function RT(s,e){var t={animationend:pv("Animation","AnimationEnd"),transitionend:pv("Transition","TransitionEnd")};return s&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var PT=RT(Hr(),typeof window<"u"?window:{}),Xw={};if(Hr()){var NT=document.createElement("div");Xw=NT.style}var sc={};function Kw(s){if(sc[s])return sc[s];var e=PT[s];if(e)for(var t=Object.keys(e),n=t.length,r=0;r<n;r+=1){var a=t[r];if(Object.prototype.hasOwnProperty.call(e,a)&&a in Xw)return sc[s]=e[a],sc[s]}return""}var Yw=Kw("animationend"),Qw=Kw("transitionend"),Jw=!!(Yw&&Qw),gv=Yw||"animationend",mv=Qw||"transitionend";function vv(s,e){if(!s)return null;if(Be(s)==="object"){var t=e.replace(/-\w/g,function(n){return n[1].toUpperCase()});return s[t]}return"".concat(s,"-").concat(e)}const LT=(function(s){var e=_.useRef();function t(r){r&&(r.removeEventListener(mv,s),r.removeEventListener(gv,s))}function n(r){e.current&&e.current!==r&&t(e.current),r&&r!==e.current&&(r.addEventListener(mv,s),r.addEventListener(gv,s),e.current=r)}return _.useEffect(function(){return function(){t(e.current)}},[]),[n,t]});var Zw=Hr()?_.useLayoutEffect:_.useEffect;const MT=(function(){var s=_.useRef(null);function e(){Xh.cancel(s.current)}function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var a=Xh(function(){r<=1?n({isCanceled:function(){return a!==s.current}}):t(n,r-1)});s.current=a}return _.useEffect(function(){return function(){e()}},[]),[t,e]});var IT=[Jn,Ri,Pi,ap],OT=[Jn,qw],eb=!1,DT=!0;function tb(s){return s===Pi||s===ap}const FT=(function(s,e,t){var n=wf(fv),r=_e(n,2),a=r[0],l=r[1],c=MT(),d=_e(c,2),h=d[0],f=d[1];function g(){l(Jn,!0)}var m=e?OT:IT;return Zw(function(){if(a!==fv&&a!==ap){var y=m.indexOf(a),x=m[y+1],b=t(a);b===eb?l(x,!0):x&&h(function(S){function E(){S.isCanceled()||l(x,!0)}b===!0?E():Promise.resolve(b).then(E)})}},[s,a]),_.useEffect(function(){return function(){f()}},[]),[g,a]});function jT(s,e,t,n){var r=n.motionEnter,a=r===void 0?!0:r,l=n.motionAppear,c=l===void 0?!0:l,d=n.motionLeave,h=d===void 0?!0:d,f=n.motionDeadline,g=n.motionLeaveImmediately,m=n.onAppearPrepare,y=n.onEnterPrepare,x=n.onLeavePrepare,b=n.onAppearStart,S=n.onEnterStart,E=n.onLeaveStart,T=n.onAppearActive,C=n.onEnterActive,P=n.onLeaveActive,R=n.onAppearEnd,L=n.onEnterEnd,N=n.onLeaveEnd,D=n.onVisibleChanged,j=wf(),B=_e(j,2),G=B[0],Y=B[1],Q=TT(fs),X=_e(Q,2),re=X[0],U=X[1],V=wf(null),K=_e(V,2),ee=K[0],te=K[1],O=re(),H=_.useRef(!1),ie=_.useRef(null);function ae(){return t()}var oe=_.useRef(!1);function le(){U(fs),te(null,!0)}var ce=Mc(function(je){var qe=re();if(qe!==fs){var xt=ae();if(!(je&&!je.deadline&&je.target!==xt)){var Bt=oe.current,St;qe===tc&&Bt?St=R?.(xt,je):qe===nc&&Bt?St=L?.(xt,je):qe===rc&&Bt&&(St=N?.(xt,je)),Bt&&St!==!1&&le()}}}),Ee=LT(ce),Ae=_e(Ee,1),we=Ae[0],nt=function(qe){switch(qe){case tc:return me(me(me({},Jn,m),Ri,b),Pi,T);case nc:return me(me(me({},Jn,y),Ri,S),Pi,C);case rc:return me(me(me({},Jn,x),Ri,E),Pi,P);default:return{}}},Ge=_.useMemo(function(){return nt(O)},[O]),ke=FT(O,!s,function(je){if(je===Jn){var qe=Ge[Jn];return qe?qe(ae()):eb}if(De in Ge){var xt;te(((xt=Ge[De])===null||xt===void 0?void 0:xt.call(Ge,ae(),null))||null)}return De===Pi&&O!==fs&&(we(ae()),f>0&&(clearTimeout(ie.current),ie.current=setTimeout(function(){ce({deadline:!0})},f))),De===qw&&le(),DT}),Le=_e(ke,2),He=Le[0],De=Le[1],kt=tb(De);oe.current=kt;var It=_.useRef(null);Zw(function(){if(!(H.current&&It.current===e)){Y(e);var je=H.current;H.current=!0;var qe;!je&&e&&c&&(qe=tc),je&&e&&a&&(qe=nc),(je&&!e&&h||!je&&g&&!e&&h)&&(qe=rc);var xt=nt(qe);qe&&(s||xt[Jn])?(U(qe),He()):U(fs),It.current=e}},[e]),_.useEffect(function(){(O===tc&&!c||O===nc&&!a||O===rc&&!h)&&U(fs)},[c,a,h]),_.useEffect(function(){return function(){H.current=!1,clearTimeout(ie.current)}},[]);var $t=_.useRef(!1);_.useEffect(function(){G&&($t.current=!0),G!==void 0&&O===fs&&(($t.current||G)&&D?.(G),$t.current=!0)},[G,O]);var Ot=ee;return Ge[Jn]&&De===Ri&&(Ot=de({transition:"none"},Ot)),[O,De,Ot,G??e]}function $T(s){var e=s;Be(s)==="object"&&(e=s.transitionSupport);function t(r,a){return!!(r.motionName&&e&&a!==!1)}var n=_.forwardRef(function(r,a){var l=r.visible,c=l===void 0?!0:l,d=r.removeOnLeave,h=d===void 0?!0:d,f=r.forceRender,g=r.children,m=r.motionName,y=r.leavedClassName,x=r.eventProps,b=_.useContext(Gw),S=b.motion,E=t(r,S),T=_.useRef(),C=_.useRef();function P(){try{return T.current instanceof HTMLElement?T.current:o_(C.current)}catch{return null}}var R=jT(E,c,P,r),L=_e(R,4),N=L[0],D=L[1],j=L[2],B=L[3],G=_.useRef(B);B&&(G.current=!0);var Y=_.useCallback(function(K){T.current=K,u_(a,K)},[a]),Q,X=de(de({},x),{},{visible:c});if(!g)Q=null;else if(N===fs)B?Q=g(de({},X),Y):!h&&G.current&&y?Q=g(de(de({},X),{},{className:y}),Y):f||!h&&!y?Q=g(de(de({},X),{},{style:{display:"none"}}),Y):Q=null;else{var re;D===Jn?re="prepare":tb(D)?re="active":D===Ri&&(re="start");var U=vv(m,"".concat(N,"-").concat(re));Q=g(de(de({},X),{},{className:Zn(vv(m,N),me(me({},U,U&&re),m,typeof m=="string")),style:j}),Y)}if(_.isValidElement(Q)&&d_(Q)){var V=h_(Q);V||(Q=_.cloneElement(Q,{ref:Y}))}return _.createElement(kT,{ref:C},Q)});return n.displayName="CSSMotion",n}const BT=$T(Jw);var xf="add",Sf="keep",Ef="remove",Eh="removed";function zT(s){var e;return s&&Be(s)==="object"&&"key"in s?e=s:e={key:s},de(de({},e),{},{key:String(e.key)})}function Af(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return s.map(zT)}function HT(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],n=0,r=e.length,a=Af(s),l=Af(e);a.forEach(function(h){for(var f=!1,g=n;g<r;g+=1){var m=l[g];if(m.key===h.key){n<g&&(t=t.concat(l.slice(n,g).map(function(y){return de(de({},y),{},{status:xf})})),n=g),t.push(de(de({},m),{},{status:Sf})),n+=1,f=!0;break}}f||t.push(de(de({},h),{},{status:Ef}))}),n<r&&(t=t.concat(l.slice(n).map(function(h){return de(de({},h),{},{status:xf})})));var c={};t.forEach(function(h){var f=h.key;c[f]=(c[f]||0)+1});var d=Object.keys(c).filter(function(h){return c[h]>1});return d.forEach(function(h){t=t.filter(function(f){var g=f.key,m=f.status;return g!==h||m!==Ef}),t.forEach(function(f){f.key===h&&(f.status=Sf)})}),t}var UT=["component","children","onVisibleChanged","onAllRemoved"],VT=["status"],WT=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function GT(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BT,t=(function(n){Kc(a,n);var r=Yc(a);function a(){var l;Ar(this,a);for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return l=r.call.apply(r,[this].concat(d)),me(Gs(l),"state",{keyEntities:[]}),me(Gs(l),"removeKey",function(f){l.setState(function(g){var m=g.keyEntities.map(function(y){return y.key!==f?y:de(de({},y),{},{status:Eh})});return{keyEntities:m}},function(){var g=l.state.keyEntities,m=g.filter(function(y){var x=y.status;return x!==Eh}).length;m===0&&l.props.onAllRemoved&&l.props.onAllRemoved()})}),l}return Cr(a,[{key:"render",value:function(){var c=this,d=this.state.keyEntities,h=this.props,f=h.component,g=h.children,m=h.onVisibleChanged;h.onAllRemoved;var y=Ys(h,UT),x=f||_.Fragment,b={};return WT.forEach(function(S){b[S]=y[S],delete y[S]}),delete y.keys,_.createElement(x,y,d.map(function(S,E){var T=S.status,C=Ys(S,VT),P=T===xf||T===Sf;return _.createElement(e,en({},b,{key:C.key,visible:P,eventProps:C,onVisibleChanged:function(L){m?.(L,{key:C.key}),L||c.removeKey(C.key)}}),function(R,L){return g(de(de({},R),{},{index:E}),L)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,d){var h=c.keys,f=d.keyEntities,g=Af(h),m=HT(f,g);return{keyEntities:m.filter(function(y){var x=f.find(function(b){var S=b.key;return y.key===S});return!(x&&x.status===Eh&&y.status===Ef)})}}}]),a})(_.Component);return me(t,"defaultProps",{component:"div"}),t}const qT=GT(Jw),yv=_.createContext(!0);function XT(s){const e=_.useContext(yv),{children:t}=s,[,n]=nu(),{motion:r}=n,a=_.useRef(!1);return a.current||(a.current=e!==r),a.current?_.createElement(yv.Provider,{value:r},_.createElement(_T,{motion:r},t)):t}const KT=()=>null;var YT=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};const QT=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Ic,nb,rb,sb;function Ec(){return Ic||vf}function JT(){return nb||tu}function ZT(s){return Object.keys(s).some(e=>e.endsWith("Color"))}const eR=s=>{const{prefixCls:e,iconPrefixCls:t,theme:n,holderRender:r}=s;e!==void 0&&(Ic=e),t!==void 0&&(nb=t),"holderRender"in s&&(sb=r),n&&(ZT(n)?Kk(Ec(),n):rb=n)},tR=()=>({getPrefixCls:(s,e)=>e||(s?`${Ec()}-${s}`:Ec()),getIconPrefixCls:JT,getRootPrefixCls:()=>Ic||Ec(),getTheme:()=>rb,holderRender:sb}),nR=s=>{const{children:e,csp:t,autoInsertSpaceInButton:n,alert:r,anchor:a,form:l,locale:c,componentSize:d,direction:h,space:f,splitter:g,virtual:m,dropdownMatchSelectWidth:y,popupMatchSelectWidth:x,popupOverflow:b,legacyLocale:S,parentContext:E,iconPrefixCls:T,theme:C,componentDisabled:P,segmented:R,statistic:L,spin:N,calendar:D,carousel:j,cascader:B,collapse:G,typography:Y,checkbox:Q,descriptions:X,divider:re,drawer:U,skeleton:V,steps:K,image:ee,layout:te,list:O,mentions:H,modal:ie,progress:ae,result:oe,slider:le,breadcrumb:ce,menu:Ee,pagination:Ae,input:we,textArea:nt,empty:Ge,badge:ke,radio:Le,rate:He,switch:De,transfer:kt,avatar:It,message:$t,tag:Ot,table:je,card:qe,tabs:xt,timeline:Bt,timePicker:St,upload:Vr,notification:tn,tree:mn,colorPicker:vn,datePicker:Un,rangePicker:ws,flex:gu,wave:ja,dropdown:$a,warning:mu,tour:to,tooltip:no,popover:ro,popconfirm:so,floatButton:io,floatButtonGroup:Wr,variant:Gr,inputNumber:Ba,treeSelect:za}=s,oo=_.useCallback((st,Et)=>{const{prefixCls:kn}=s;if(Et)return Et;const Tn=kn||E.getPrefixCls("");return st?`${Tn}-${st}`:Tn},[E.getPrefixCls,s.prefixCls]),bs=T||E.iconPrefixCls||tu,xs=t||E.csp;bT(bs,xs);const Ss=AT(C,E.theme,{prefixCls:oo("")}),ni={csp:xs,autoInsertSpaceInButton:n,alert:r,anchor:a,locale:c||S,direction:h,space:f,splitter:g,virtual:m,popupMatchSelectWidth:x??y,popupOverflow:b,getPrefixCls:oo,iconPrefixCls:bs,theme:Ss,segmented:R,statistic:L,spin:N,calendar:D,carousel:j,cascader:B,collapse:G,typography:Y,checkbox:Q,descriptions:X,divider:re,drawer:U,skeleton:V,steps:K,image:ee,input:we,textArea:nt,layout:te,list:O,mentions:H,modal:ie,progress:ae,result:oe,slider:le,breadcrumb:ce,menu:Ee,pagination:Ae,empty:Ge,badge:ke,radio:Le,rate:He,switch:De,transfer:kt,avatar:It,message:$t,tag:Ot,table:je,card:qe,tabs:xt,timeline:Bt,timePicker:St,upload:Vr,notification:tn,tree:mn,colorPicker:vn,datePicker:Un,rangePicker:ws,flex:gu,wave:ja,dropdown:$a,warning:mu,tour:to,tooltip:no,popover:ro,popconfirm:so,floatButton:io,floatButtonGroup:Wr,variant:Gr,inputNumber:Ba,treeSelect:za},_n=Object.assign({},E);Object.keys(ni).forEach(st=>{ni[st]!==void 0&&(_n[st]=ni[st])}),QT.forEach(st=>{const Et=s[st];Et&&(_n[st]=Et)}),typeof n<"u"&&(_n.button=Object.assign({autoInsertSpace:n},_n.button));const ar=sw(()=>_n,_n,(st,Et)=>{const kn=Object.keys(st),Tn=Object.keys(Et);return kn.length!==Tn.length||kn.some(Rn=>st[Rn]!==Et[Rn])}),{layer:qr}=_.useContext(ka),vu=_.useMemo(()=>({prefixCls:bs,csp:xs,layer:qr?"antd":void 0}),[bs,xs,qr]);let rt=_.createElement(_.Fragment,null,_.createElement(KT,{dropdownMatchSelectWidth:y}),e);const Es=_.useMemo(()=>{var st,Et,kn,Tn;return Ck(((st=eu.Form)===null||st===void 0?void 0:st.defaultValidateMessages)||{},((kn=(Et=ar.locale)===null||Et===void 0?void 0:Et.Form)===null||kn===void 0?void 0:kn.defaultValidateMessages)||{},((Tn=ar.form)===null||Tn===void 0?void 0:Tn.validateMessages)||{},l?.validateMessages||{})},[ar,l?.validateMessages]);Object.keys(Es).length>0&&(rt=_.createElement(kk.Provider,{value:Es},rt)),c&&(rt=_.createElement(Pk,{locale:c,_ANT_MARK__:Rk},rt)),rt=_.createElement(ip.Provider,{value:vu},rt),d&&(rt=_.createElement(Qk,{size:d},rt)),rt=_.createElement(XT,null,rt);const ri=_.useMemo(()=>{const st=Ss||{},{algorithm:Et,token:kn,components:Tn,cssVar:Rn}=st,Ha=YT(st,["algorithm","token","components","cssVar"]),ao=Et&&(!Array.isArray(Et)||Et.length>0)?Qh(Et):Fw,lo={};Object.entries(Tn||{}).forEach(([Ua,Va])=>{const Pn=Object.assign({},Va);"algorithm"in Pn&&(Pn.algorithm===!0?Pn.theme=ao:(Array.isArray(Pn.algorithm)||typeof Pn.algorithm=="function")&&(Pn.theme=Qh(Pn.algorithm)),delete Pn.algorithm),lo[Ua]=Pn});const co=Object.assign(Object.assign({},ua),kn);return Object.assign(Object.assign({},Ha),{theme:ao,token:co,components:lo,override:Object.assign({override:co},lo),cssVar:Rn})},[Ss]);return C&&(rt=_.createElement(jw.Provider,{value:ri},rt)),ar.warning&&(rt=_.createElement(_k.Provider,{value:ar.warning},rt)),P!==void 0&&(rt=_.createElement(Yk,{disabled:P},rt)),_.createElement(jr.Provider,{value:ar},rt)},Ji=s=>{const e=_.useContext(jr),t=_.useContext(Mw);return _.createElement(nR,Object.assign({parentContext:e,legacyLocale:t},s))};Ji.ConfigContext=jr;Ji.SizeContext=ha;Ji.config=eR;Ji.useConfig=Jk;Object.defineProperty(Ji,"SizeContext",{get:()=>ha});var rR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function ib(s){var e;return s==null||(e=s.getRootNode)===null||e===void 0?void 0:e.call(s)}function sR(s){return ib(s)instanceof ShadowRoot}function iR(s){return sR(s)?ib(s):null}function oR(s){return s.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function aR(s,e){_a(s,"[@ant-design/icons] ".concat(e))}function wv(s){return Be(s)==="object"&&typeof s.name=="string"&&typeof s.theme=="string"&&(Be(s.icon)==="object"||typeof s.icon=="function")}function bv(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(s).reduce(function(e,t){var n=s[t];switch(t){case"class":e.className=n,delete e.class;break;default:delete e[t],e[oR(t)]=n}return e},{})}function Cf(s,e,t){return t?Qe.createElement(s.tag,de(de({key:e},bv(s.attrs)),t),(s.children||[]).map(function(n,r){return Cf(n,"".concat(e,"-").concat(s.tag,"-").concat(r))})):Qe.createElement(s.tag,de({key:e},bv(s.attrs)),(s.children||[]).map(function(n,r){return Cf(n,"".concat(e,"-").concat(s.tag,"-").concat(r))}))}function ob(s){return da(s)[0]}function ab(s){return s?Array.isArray(s)?s:[s]:[]}var lR=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,cR=function(e){var t=_.useContext(ip),n=t.csp,r=t.prefixCls,a=t.layer,l=lR;r&&(l=l.replace(/anticon/g,r)),a&&(l="@layer ".concat(a,` {
`).concat(l,`
}`)),_.useEffect(function(){var c=e.current,d=iR(c);qs(l,"@ant-design-icons",{prepend:!a,csp:n,attachTo:d})},[])},uR=["icon","className","onClick","style","primaryColor","secondaryColor"],ra={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function dR(s){var e=s.primaryColor,t=s.secondaryColor;ra.primaryColor=e,ra.secondaryColor=t||ob(e),ra.calculated=!!t}function hR(){return de({},ra)}var Zi=function(e){var t=e.icon,n=e.className,r=e.onClick,a=e.style,l=e.primaryColor,c=e.secondaryColor,d=Ys(e,uR),h=_.useRef(),f=ra;if(l&&(f={primaryColor:l,secondaryColor:c||ob(l)}),cR(h),aR(wv(t),"icon should be icon definiton, but got ".concat(t)),!wv(t))return null;var g=t;return g&&typeof g.icon=="function"&&(g=de(de({},g),{},{icon:g.icon(f.primaryColor,f.secondaryColor)})),Cf(g.icon,"svg-".concat(g.name),de(de({className:n,onClick:r,style:a,"data-icon":g.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},d),{},{ref:h}))};Zi.displayName="IconReact";Zi.getTwoToneColors=hR;Zi.setTwoToneColors=dR;function lb(s){var e=ab(s),t=_e(e,2),n=t[0],r=t[1];return Zi.setTwoToneColors({primaryColor:n,secondaryColor:r})}function fR(){var s=Zi.getTwoToneColors();return s.calculated?[s.primaryColor,s.secondaryColor]:s.primaryColor}var pR=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];lb(Lc.primary);var Ur=_.forwardRef(function(s,e){var t=s.className,n=s.icon,r=s.spin,a=s.rotate,l=s.tabIndex,c=s.onClick,d=s.twoToneColor,h=Ys(s,pR),f=_.useContext(ip),g=f.prefixCls,m=g===void 0?"anticon":g,y=f.rootClassName,x=Zn(y,m,me(me({},"".concat(m,"-").concat(n.name),!!n.name),"".concat(m,"-spin"),!!r||n.name==="loading"),t),b=l;b===void 0&&c&&(b=-1);var S=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,E=ab(d),T=_e(E,2),C=T[0],P=T[1];return _.createElement("span",en({role:"img","aria-label":n.name},h,{ref:e,tabIndex:b,onClick:c,className:x}),_.createElement(Zi,{icon:n,primaryColor:C,secondaryColor:P,style:S}))});Ur.displayName="AntdIcon";Ur.getTwoToneColor=fR;Ur.setTwoToneColor=lb;var gR=function(e,t){return _.createElement(Ur,en({},e,{ref:t,icon:rR}))},mR=_.forwardRef(gR),vR={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},yR=function(e,t){return _.createElement(Ur,en({},e,{ref:t,icon:vR}))},wR=_.forwardRef(yR),bR={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},xR=function(e,t){return _.createElement(Ur,en({},e,{ref:t,icon:bR}))},SR=_.forwardRef(xR),ER={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},AR=function(e,t){return _.createElement(Ur,en({},e,{ref:t,icon:ER}))},CR=_.forwardRef(AR),_R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},kR=function(e,t){return _.createElement(Ur,en({},e,{ref:t,icon:_R}))},TR=_.forwardRef(kR),RR=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,PR=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,NR="".concat(RR," ").concat(PR).split(/[\s\n]+/),LR="aria-",MR="data-";function xv(s,e){return s.indexOf(e)===0}function IR(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=de({},e);var n={};return Object.keys(s).forEach(function(r){(t.aria&&(r==="role"||xv(r,LR))||t.data&&xv(r,MR)||t.attr&&NR.includes(r))&&(n[r]=s[r])}),n}const cb=s=>{const[,,,,e]=nu();return e?`${s}-css-var`:""};var OR={ENTER:13},ub=_.forwardRef(function(s,e){var t=s.prefixCls,n=s.style,r=s.className,a=s.duration,l=a===void 0?4.5:a,c=s.showProgress,d=s.pauseOnHover,h=d===void 0?!0:d,f=s.eventKey,g=s.content,m=s.closable,y=s.closeIcon,x=y===void 0?"x":y,b=s.props,S=s.onClick,E=s.onNoticeClose,T=s.times,C=s.hovering,P=_.useState(!1),R=_e(P,2),L=R[0],N=R[1],D=_.useState(0),j=_e(D,2),B=j[0],G=j[1],Y=_.useState(0),Q=_e(Y,2),X=Q[0],re=Q[1],U=C||L,V=l>0&&c,K=function(){E(f)},ee=function(oe){(oe.key==="Enter"||oe.code==="Enter"||oe.keyCode===OR.ENTER)&&K()};_.useEffect(function(){if(!U&&l>0){var ae=Date.now()-X,oe=setTimeout(function(){K()},l*1e3-X);return function(){h&&clearTimeout(oe),re(Date.now()-ae)}}},[l,U,T]),_.useEffect(function(){if(!U&&V&&(h||X===0)){var ae=performance.now(),oe,le=function ce(){cancelAnimationFrame(oe),oe=requestAnimationFrame(function(Ee){var Ae=Ee+X-ae,we=Math.min(Ae/(l*1e3),1);G(we*100),we<1&&ce()})};return le(),function(){h&&cancelAnimationFrame(oe)}}},[l,X,U,V,T]);var te=_.useMemo(function(){return Be(m)==="object"&&m!==null?m:m?{closeIcon:x}:{}},[m,x]),O=IR(te,!0),H=100-(!B||B<0?0:B>100?100:B),ie="".concat(t,"-notice");return _.createElement("div",en({},b,{ref:e,className:Zn(ie,r,me({},"".concat(ie,"-closable"),m)),style:n,onMouseEnter:function(oe){var le;N(!0),b==null||(le=b.onMouseEnter)===null||le===void 0||le.call(b,oe)},onMouseLeave:function(oe){var le;N(!1),b==null||(le=b.onMouseLeave)===null||le===void 0||le.call(b,oe)},onClick:S}),_.createElement("div",{className:"".concat(ie,"-content")},g),m&&_.createElement("a",en({tabIndex:0,className:"".concat(ie,"-close"),onKeyDown:ee,"aria-label":"Close"},O,{onClick:function(oe){oe.preventDefault(),oe.stopPropagation(),K()}}),te.closeIcon),V&&_.createElement("progress",{className:"".concat(ie,"-progress"),max:"100",value:H},H+"%"))}),db=Qe.createContext({}),DR=function(e){var t=e.children,n=e.classNames;return Qe.createElement(db.Provider,{value:{classNames:n}},t)},Sv=8,Ev=3,Av=16,FR=function(e){var t={offset:Sv,threshold:Ev,gap:Av};if(e&&Be(e)==="object"){var n,r,a;t.offset=(n=e.offset)!==null&&n!==void 0?n:Sv,t.threshold=(r=e.threshold)!==null&&r!==void 0?r:Ev,t.gap=(a=e.gap)!==null&&a!==void 0?a:Av}return[!!e,t]},jR=["className","style","classNames","styles"],$R=function(e){var t=e.configList,n=e.placement,r=e.prefixCls,a=e.className,l=e.style,c=e.motion,d=e.onAllNoticeRemoved,h=e.onNoticeClose,f=e.stack,g=_.useContext(db),m=g.classNames,y=_.useRef({}),x=_.useState(null),b=_e(x,2),S=b[0],E=b[1],T=_.useState([]),C=_e(T,2),P=C[0],R=C[1],L=t.map(function(U){return{config:U,key:String(U.key)}}),N=FR(f),D=_e(N,2),j=D[0],B=D[1],G=B.offset,Y=B.threshold,Q=B.gap,X=j&&(P.length>0||L.length<=Y),re=typeof c=="function"?c(n):c;return _.useEffect(function(){j&&P.length>1&&R(function(U){return U.filter(function(V){return L.some(function(K){var ee=K.key;return V===ee})})})},[P,L,j]),_.useEffect(function(){var U;if(j&&y.current[(U=L[L.length-1])===null||U===void 0?void 0:U.key]){var V;E(y.current[(V=L[L.length-1])===null||V===void 0?void 0:V.key])}},[L,j]),Qe.createElement(qT,en({key:n,className:Zn(r,"".concat(r,"-").concat(n),m?.list,a,me(me({},"".concat(r,"-stack"),!!j),"".concat(r,"-stack-expanded"),X)),style:l,keys:L,motionAppear:!0},re,{onAllRemoved:function(){d(n)}}),function(U,V){var K=U.config,ee=U.className,te=U.style,O=U.index,H=K,ie=H.key,ae=H.times,oe=String(ie),le=K,ce=le.className,Ee=le.style,Ae=le.classNames,we=le.styles,nt=Ys(le,jR),Ge=L.findIndex(function(Bt){return Bt.key===oe}),ke={};if(j){var Le=L.length-1-(Ge>-1?Ge:O-1),He=n==="top"||n==="bottom"?"-50%":"0";if(Le>0){var De,kt,It;ke.height=X?(De=y.current[oe])===null||De===void 0?void 0:De.offsetHeight:S?.offsetHeight;for(var $t=0,Ot=0;Ot<Le;Ot++){var je;$t+=((je=y.current[L[L.length-1-Ot].key])===null||je===void 0?void 0:je.offsetHeight)+Q}var qe=(X?$t:Le*G)*(n.startsWith("top")?1:-1),xt=!X&&S!==null&&S!==void 0&&S.offsetWidth&&(kt=y.current[oe])!==null&&kt!==void 0&&kt.offsetWidth?(S?.offsetWidth-G*2*(Le<3?Le:3))/((It=y.current[oe])===null||It===void 0?void 0:It.offsetWidth):1;ke.transform="translate3d(".concat(He,", ").concat(qe,"px, 0) scaleX(").concat(xt,")")}else ke.transform="translate3d(".concat(He,", 0, 0)")}return Qe.createElement("div",{ref:V,className:Zn("".concat(r,"-notice-wrapper"),ee,Ae?.wrapper),style:de(de(de({},te),ke),we?.wrapper),onMouseEnter:function(){return R(function(St){return St.includes(oe)?St:[].concat(pn(St),[oe])})},onMouseLeave:function(){return R(function(St){return St.filter(function(Vr){return Vr!==oe})})}},Qe.createElement(ub,en({},nt,{ref:function(St){Ge>-1?y.current[oe]=St:delete y.current[oe]},prefixCls:r,classNames:Ae,styles:we,className:Zn(ce,m?.notice),style:Ee,times:ae,key:ie,eventKey:ie,onNoticeClose:h,hovering:j&&P.length>0})))})},BR=_.forwardRef(function(s,e){var t=s.prefixCls,n=t===void 0?"rc-notification":t,r=s.container,a=s.motion,l=s.maxCount,c=s.className,d=s.style,h=s.onAllRemoved,f=s.stack,g=s.renderNotifications,m=_.useState([]),y=_e(m,2),x=y[0],b=y[1],S=function(j){var B,G=x.find(function(Y){return Y.key===j});G==null||(B=G.onClose)===null||B===void 0||B.call(G),b(function(Y){return Y.filter(function(Q){return Q.key!==j})})};_.useImperativeHandle(e,function(){return{open:function(j){b(function(B){var G=pn(B),Y=G.findIndex(function(re){return re.key===j.key}),Q=de({},j);if(Y>=0){var X;Q.times=(((X=B[Y])===null||X===void 0?void 0:X.times)||0)+1,G[Y]=Q}else Q.times=0,G.push(Q);return l>0&&G.length>l&&(G=G.slice(-l)),G})},close:function(j){S(j)},destroy:function(){b([])}}});var E=_.useState({}),T=_e(E,2),C=T[0],P=T[1];_.useEffect(function(){var D={};x.forEach(function(j){var B=j.placement,G=B===void 0?"topRight":B;G&&(D[G]=D[G]||[],D[G].push(j))}),Object.keys(C).forEach(function(j){D[j]=D[j]||[]}),P(D)},[x]);var R=function(j){P(function(B){var G=de({},B),Y=G[j]||[];return Y.length||delete G[j],G})},L=_.useRef(!1);if(_.useEffect(function(){Object.keys(C).length>0?L.current=!0:L.current&&(h?.(),L.current=!1)},[C]),!r)return null;var N=Object.keys(C);return qf.createPortal(_.createElement(_.Fragment,null,N.map(function(D){var j=C[D],B=_.createElement($R,{key:D,configList:j,placement:D,prefixCls:n,className:c?.(D),style:d?.(D),motion:a,onNoticeClose:S,onAllNoticeRemoved:R,stack:f});return g?g(B,{prefixCls:n,key:D}):B})),r)}),zR=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],HR=function(){return document.body},Cv=0;function UR(){for(var s={},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(r){r&&Object.keys(r).forEach(function(a){var l=r[a];l!==void 0&&(s[a]=l)})}),s}function VR(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=s.getContainer,t=e===void 0?HR:e,n=s.motion,r=s.prefixCls,a=s.maxCount,l=s.className,c=s.style,d=s.onAllRemoved,h=s.stack,f=s.renderNotifications,g=Ys(s,zR),m=_.useState(),y=_e(m,2),x=y[0],b=y[1],S=_.useRef(),E=_.createElement(BR,{container:x,ref:S,prefixCls:r,motion:n,maxCount:a,className:l,style:c,onAllRemoved:d,stack:h,renderNotifications:f}),T=_.useState([]),C=_e(T,2),P=C[0],R=C[1],L=Mc(function(D){var j=UR(g,D);(j.key===null||j.key===void 0)&&(j.key="rc-notification-".concat(Cv),Cv+=1),R(function(B){return[].concat(pn(B),[{type:"open",config:j}])})}),N=_.useMemo(function(){return{open:L,close:function(j){R(function(B){return[].concat(pn(B),[{type:"close",key:j}])})},destroy:function(){R(function(j){return[].concat(pn(j),[{type:"destroy"}])})}}},[]);return _.useEffect(function(){b(t())}),_.useEffect(function(){if(S.current&&P.length){P.forEach(function(B){switch(B.type){case"open":S.current.open(B.config);break;case"close":S.current.close(B.key);break;case"destroy":S.current.destroy();break}});var D,j;R(function(B){return(D!==B||!j)&&(D=B,j=B.filter(function(G){return!P.includes(G)})),j})}},[P]),[N,E]}var WR={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},GR=function(e,t){return _.createElement(Ur,en({},e,{ref:t,icon:WR}))},qR=_.forwardRef(GR);const XR=100,KR=10,YR=XR*KR,QR=s=>{const{componentCls:e,iconCls:t,boxShadow:n,colorText:r,colorSuccess:a,colorError:l,colorWarning:c,colorInfo:d,fontSizeLG:h,motionEaseInOutCirc:f,motionDurationSlow:g,marginXS:m,paddingXS:y,borderRadiusLG:x,zIndexPopup:b,contentPadding:S,contentBg:E}=s,T=`${e}-notice`,C=new J0("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:y,transform:"translateY(0)",opacity:1}}),P=new J0("MessageMoveOut",{"0%":{maxHeight:s.height,padding:y,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),R={padding:y,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${t}`]:{marginInlineEnd:m,fontSize:h},[`${T}-content`]:{display:"inline-block",padding:S,background:E,borderRadius:x,boxShadow:n,pointerEvents:"all"},[`${e}-success > ${t}`]:{color:a},[`${e}-error > ${t}`]:{color:l},[`${e}-warning > ${t}`]:{color:c},[`${e}-info > ${t},
      ${e}-loading > ${t}`]:{color:d}};return[{[e]:Object.assign(Object.assign({},gT(s)),{color:r,position:"fixed",top:m,width:"100%",pointerEvents:"none",zIndex:b,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:C,animationDuration:g,animationPlayState:"paused",animationTimingFunction:f},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:P,animationDuration:g,animationPlayState:"paused",animationTimingFunction:f},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${T}-wrapper`]:Object.assign({},R)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},R),{padding:0,textAlign:"start"})}]},JR=s=>({zIndexPopup:s.zIndexPopupBase+YR+10,contentBg:s.colorBgElevated,contentPadding:`${(s.controlHeightLG-s.fontSize*s.lineHeight)/2}px ${s.paddingSM}px`}),hb=wT("Message",s=>{const e=op(s,{height:150});return QR(e)},JR);var ZR=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};const e2={info:_.createElement(TR,null),success:_.createElement(mR,null),error:_.createElement(wR,null),warning:_.createElement(CR,null),loading:_.createElement(qR,null)},fb=({prefixCls:s,type:e,icon:t,children:n})=>_.createElement("div",{className:Zn(`${s}-custom-content`,`${s}-${e}`)},t||e2[e],_.createElement("span",null,n)),t2=s=>{const{prefixCls:e,className:t,type:n,icon:r,content:a}=s,l=ZR(s,["prefixCls","className","type","icon","content"]),{getPrefixCls:c}=_.useContext(jr),d=e||c("message"),h=cb(d),[f,g,m]=hb(d,h);return f(_.createElement(ub,Object.assign({},l,{prefixCls:d,className:Zn(t,g,`${d}-notice-pure-panel`,m,h),eventKey:"pure",duration:null,content:_.createElement(fb,{prefixCls:d,type:n,icon:r},a)})))};function n2(s,e){return{motionName:e??`${s}-move-up`}}function lp(s){let e;const t=new Promise(r=>{e=s(()=>{r(!0)})}),n=()=>{e?.()};return n.then=(r,a)=>t.then(r,a),n.promise=t,n}var r2=function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};const s2=8,i2=3,o2=({children:s,prefixCls:e})=>{const t=cb(e),[n,r,a]=hb(e,t);return n(_.createElement(DR,{classNames:{list:Zn(r,a,t)}},s))},a2=(s,{prefixCls:e,key:t})=>_.createElement(o2,{prefixCls:e,key:t},s),l2=_.forwardRef((s,e)=>{const{top:t,prefixCls:n,getContainer:r,maxCount:a,duration:l=i2,rtl:c,transitionName:d,onAllRemoved:h}=s,{getPrefixCls:f,getPopupContainer:g,message:m,direction:y}=_.useContext(jr),x=n||f("message"),b=()=>({left:"50%",transform:"translateX(-50%)",top:t??s2}),S=()=>Zn({[`${x}-rtl`]:c??y==="rtl"}),E=()=>n2(x,d),T=_.createElement("span",{className:`${x}-close-x`},_.createElement(SR,{className:`${x}-close-icon`})),[C,P]=VR({prefixCls:x,style:b,className:S,motion:E,closable:!1,closeIcon:T,duration:l,getContainer:()=>r?.()||g?.()||document.body,maxCount:a,onAllRemoved:h,renderNotifications:a2});return _.useImperativeHandle(e,()=>Object.assign(Object.assign({},C),{prefixCls:x,message:m})),P});let _v=0;function pb(s){const e=_.useRef(null);return[_.useMemo(()=>{const n=d=>{var h;(h=e.current)===null||h===void 0||h.close(d)},r=d=>{if(!e.current){const L=()=>{};return L.then=()=>{},L}const{open:h,prefixCls:f,message:g}=e.current,m=`${f}-notice`,{content:y,icon:x,type:b,key:S,className:E,style:T,onClose:C}=d,P=r2(d,["content","icon","type","key","className","style","onClose"]);let R=S;return R==null&&(_v+=1,R=`antd-message-${_v}`),lp(L=>(h(Object.assign(Object.assign({},P),{key:R,content:_.createElement(fb,{prefixCls:f,type:b,icon:x},y),placement:"top",className:Zn(b&&`${m}-${b}`,E,g?.className),style:Object.assign(Object.assign({},g?.style),T),onClose:()=>{C?.(),L()}})),()=>{n(R)}))},l={open:r,destroy:d=>{var h;d!==void 0?n(d):(h=e.current)===null||h===void 0||h.destroy()}};return["info","success","warning","error","loading"].forEach(d=>{const h=(f,g,m)=>{let y;f&&typeof f=="object"&&"content"in f?y=f:y={content:f};let x,b;typeof g=="function"?b=g:(x=g,b=m);const S=Object.assign(Object.assign({onClose:b,duration:x},y),{type:d});return r(S)};l[d]=h}),l},[]),_.createElement(l2,Object.assign({key:"message-holder"},s,{ref:e}))]}function c2(s){return pb(s)}function gb(s,e){this.v=s,this.k=e}function Gt(s,e,t,n){var r=Object.defineProperty;try{r({},"",{})}catch{r=0}Gt=function(l,c,d,h){function f(g,m){Gt(l,g,function(y){return this._invoke(g,m,y)})}c?r?r(l,c,{value:d,enumerable:!h,configurable:!h,writable:!h}):l[c]=d:(f("next",0),f("throw",1),f("return",2))},Gt(s,e,t,n)}function cp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var s,e,t=typeof Symbol=="function"?Symbol:{},n=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function a(y,x,b,S){var E=x&&x.prototype instanceof c?x:c,T=Object.create(E.prototype);return Gt(T,"_invoke",(function(C,P,R){var L,N,D,j=0,B=R||[],G=!1,Y={p:0,n:0,v:s,a:Q,f:Q.bind(s,4),d:function(re,U){return L=re,N=0,D=s,Y.n=U,l}};function Q(X,re){for(N=X,D=re,e=0;!G&&j&&!U&&e<B.length;e++){var U,V=B[e],K=Y.p,ee=V[2];X>3?(U=ee===re)&&(D=V[(N=V[4])?5:(N=3,3)],V[4]=V[5]=s):V[0]<=K&&((U=X<2&&K<V[1])?(N=0,Y.v=re,Y.n=V[1]):K<ee&&(U=X<3||V[0]>re||re>ee)&&(V[4]=X,V[5]=re,Y.n=ee,N=0))}if(U||X>1)return l;throw G=!0,re}return function(X,re,U){if(j>1)throw TypeError("Generator is already running");for(G&&re===1&&Q(re,U),N=re,D=U;(e=N<2?s:D)||!G;){L||(N?N<3?(N>1&&(Y.n=-1),Q(N,D)):Y.n=D:Y.v=D);try{if(j=2,L){if(N||(X="next"),e=L[X]){if(!(e=e.call(L,D)))throw TypeError("iterator result is not an object");if(!e.done)return e;D=e.value,N<2&&(N=0)}else N===1&&(e=L.return)&&e.call(L),N<2&&(D=TypeError("The iterator does not provide a '"+X+"' method"),N=1);L=s}else if((e=(G=Y.n<0)?D:C.call(P,Y))!==l)break}catch(V){L=s,N=1,D=V}finally{j=1}}return{value:e,done:G}}})(y,b,S),!0),T}var l={};function c(){}function d(){}function h(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(Gt(e={},n,function(){return this}),e),g=h.prototype=c.prototype=Object.create(f);function m(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,h):(y.__proto__=h,Gt(y,r,"GeneratorFunction")),y.prototype=Object.create(g),y}return d.prototype=h,Gt(g,"constructor",h),Gt(h,"constructor",d),d.displayName="GeneratorFunction",Gt(h,r,"GeneratorFunction"),Gt(g),Gt(g,r,"Generator"),Gt(g,n,function(){return this}),Gt(g,"toString",function(){return"[object Generator]"}),(cp=function(){return{w:a,m}})()}function Oc(s,e){function t(r,a,l,c){try{var d=s[r](a),h=d.value;return h instanceof gb?e.resolve(h.v).then(function(f){t("next",f,l,c)},function(f){t("throw",f,l,c)}):e.resolve(h).then(function(f){d.value=f,l(d)},function(f){return t("throw",f,l,c)})}catch(f){c(f)}}var n;this.next||(Gt(Oc.prototype),Gt(Oc.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Gt(this,"_invoke",function(r,a,l){function c(){return new e(function(d,h){t(r,l,d,h)})}return n=n?n.then(c,c):c()},!0)}function mb(s,e,t,n,r){return new Oc(cp().w(s,e,t,n),r||Promise)}function u2(s,e,t,n,r){var a=mb(s,e,t,n,r);return a.next().then(function(l){return l.done?l.value:a.next()})}function d2(s){var e=Object(s),t=[];for(var n in e)t.unshift(n);return function r(){for(;t.length;)if((n=t.pop())in e)return r.value=n,r.done=!1,r;return r.done=!0,r}}function kv(s){if(s!=null){var e=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(e)return e.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&t>=s.length&&(s=void 0),{value:s&&s[t++],done:!s}}}}throw new TypeError(Be(s)+" is not iterable")}function Hi(){var s=cp(),e=s.m(Hi),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function n(l){var c=typeof l=="function"&&l.constructor;return!!c&&(c===t||(c.displayName||c.name)==="GeneratorFunction")}var r={throw:1,return:2,break:3,continue:3};function a(l){var c,d;return function(h){c||(c={stop:function(){return d(h.a,2)},catch:function(){return h.v},abrupt:function(g,m){return d(h.a,r[g],m)},delegateYield:function(g,m,y){return c.resultName=m,d(h.d,kv(g),y)},finish:function(g){return d(h.f,g)}},d=function(g,m,y){h.p=c.prev,h.n=c.next;try{return g(m,y)}finally{c.next=h.n}}),c.resultName&&(c[c.resultName]=h.v,c.resultName=void 0),c.sent=h.v,c.next=h.n;try{return l.call(this,c)}finally{h.p=c.prev,h.n=c.next}}}return(Hi=function(){return{wrap:function(d,h,f,g){return s.w(a(d),h,f,g&&g.reverse())},isGeneratorFunction:n,mark:s.m,awrap:function(d,h){return new gb(d,h)},AsyncIterator:Oc,async:function(d,h,f,g,m){return(n(h)?mb:u2)(a(d),h,f,g,m)},keys:d2,values:kv}})()}function Tv(s,e,t,n,r,a,l){try{var c=s[a](l),d=c.value}catch(h){return void t(h)}c.done?e(d):Promise.resolve(d).then(n,r)}function vb(s){return function(){var e=this,t=arguments;return new Promise(function(n,r){var a=s.apply(e,t);function l(d){Tv(a,n,r,l,c,"next",d)}function c(d){Tv(a,n,r,l,c,"throw",d)}l(void 0)})}}var Ta=de({},DE),h2=Ta.version,Ah=Ta.render,f2=Ta.unmountComponentAtNode,ru;try{var p2=Number((h2||"").split(".")[0]);p2>=18&&(ru=Ta.createRoot)}catch{}function Rv(s){var e=Ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Be(e)==="object"&&(e.usingClientEntryPoint=s)}var Dc="__rc_react_root__";function g2(s,e){Rv(!0);var t=e[Dc]||ru(e);Rv(!1),t.render(s),e[Dc]=t}function m2(s,e){Ah?.(s,e)}function v2(s,e){if(ru){g2(s,e);return}m2(s,e)}function y2(s){return _f.apply(this,arguments)}function _f(){return _f=vb(Hi().mark(function s(e){return Hi().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.resolve().then(function(){var r;(r=e[Dc])===null||r===void 0||r.unmount(),delete e[Dc]}));case 1:case"end":return n.stop()}},s)})),_f.apply(this,arguments)}function w2(s){f2(s)}function b2(s){return kf.apply(this,arguments)}function kf(){return kf=vb(Hi().mark(function s(e){return Hi().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(ru===void 0){n.next=2;break}return n.abrupt("return",y2(e));case 2:w2(e);case 3:case"end":return n.stop()}},s)})),kf.apply(this,arguments)}const x2=(s,e)=>(v2(s,e),()=>b2(e));let S2=x2;function E2(s){return S2}const A2=Qe.createContext({});let Bn=null,Bs=s=>s(),fa=[],pa={};function Pv(){const{getContainer:s,duration:e,rtl:t,maxCount:n,top:r}=pa,a=s?.()||document.body;return{getContainer:()=>a,duration:e,rtl:t,maxCount:n,top:r}}const C2=Qe.forwardRef((s,e)=>{const{messageConfig:t,sync:n}=s,{getPrefixCls:r}=_.useContext(jr),a=pa.prefixCls||r("message"),l=_.useContext(A2),[c,d]=pb(Object.assign(Object.assign(Object.assign({},t),{prefixCls:a}),l.message));return Qe.useImperativeHandle(e,()=>{const h=Object.assign({},c);return Object.keys(h).forEach(f=>{h[f]=(...g)=>(n(),c[f].apply(c,g))}),{instance:h,sync:n}}),d}),_2=Qe.forwardRef((s,e)=>{const[t,n]=Qe.useState(Pv),r=()=>{n(Pv)};Qe.useEffect(r,[]);const a=tR(),l=a.getRootPrefixCls(),c=a.getIconPrefixCls(),d=a.getTheme(),h=Qe.createElement(C2,{ref:e,sync:r,messageConfig:t});return Qe.createElement(Ji,{prefixCls:l,iconPrefixCls:c,theme:d},a.holderRender?a.holderRender(h):h)}),su=()=>{if(!Bn){const s=document.createDocumentFragment(),e={fragment:s};Bn=e,Bs(()=>{E2()(Qe.createElement(_2,{ref:n=>{const{instance:r,sync:a}=n||{};Promise.resolve().then(()=>{!e.instance&&r&&(e.instance=r,e.sync=a,su())})}}),s)});return}Bn.instance&&(fa.forEach(s=>{const{type:e,skipped:t}=s;if(!t)switch(e){case"open":{Bs(()=>{const n=Bn.instance.open(Object.assign(Object.assign({},pa),s.config));n?.then(s.resolve),s.setCloseFn(n)});break}case"destroy":Bs(()=>{Bn?.instance.destroy(s.key)});break;default:Bs(()=>{var n;const r=(n=Bn.instance)[e].apply(n,pn(s.args));r?.then(s.resolve),s.setCloseFn(r)})}}),fa=[])};function k2(s){pa=Object.assign(Object.assign({},pa),s),Bs(()=>{var e;(e=Bn?.sync)===null||e===void 0||e.call(Bn)})}function T2(s){const e=lp(t=>{let n;const r={type:"open",config:s,resolve:t,setCloseFn:a=>{n=a}};return fa.push(r),()=>{n?Bs(()=>{n()}):r.skipped=!0}});return su(),e}function R2(s,e){const t=lp(n=>{let r;const a={type:s,args:e,resolve:n,setCloseFn:l=>{r=l}};return fa.push(a),()=>{r?Bs(()=>{r()}):a.skipped=!0}});return su(),t}const P2=s=>{fa.push({type:"destroy",key:s}),su()},N2=["success","info","warning","error","loading"],L2={open:T2,destroy:P2,config:k2,useMessage:c2,_InternalPanelDoNotUseOrYouWillBeFired:t2},yb=L2;N2.forEach(s=>{yb[s]=(...e)=>R2(s,e)});const M2=()=>{const[s,e]=_.useState(""),[t,n]=_.useState(""),[r,a]=_.useState(!1),[l,c]=yb.useMessage(),d=Xi(),h=async()=>{try{const f=await GC.login(s,t);console.log(f),f.token&&(l.success("Login successful"),d("/dashboard",{replace:!0}),localStorage.setItem("isAuth","true"))}catch(f){console.log(f,"error"),l.error(f.response.data.message||"An error occurred")}};return A.jsxs(A.Fragment,{children:[c,A.jsxs("div",{className:"min-h-screen bg-black text-white flex items-center justify-center relative overflow-hidden",children:[A.jsxs("div",{className:"w-full max-w-md mx-auto px-6 py-8 relative z-10",children:[A.jsx("div",{className:"text-center mb-16",children:A.jsxs("div",{className:"flex items-center justify-center mb-8",children:[A.jsx("div",{className:"w-16 h-16 bg-emerald-400 rounded-2xl flex items-center justify-center mr-6 shadow-lg shadow-emerald-400/30",children:A.jsx("div",{className:"w-8 h-8 border-4 border-black rounded-full relative",children:A.jsx("div",{className:"w-3 h-3 bg-black rounded-full absolute top-1 left-1"})})}),A.jsx("span",{className:"text-6xl font-bold text-emerald-400 tracking-wide",children:"SHIFT"})]})}),A.jsxs("div",{className:"space-y-8 mb-12",children:[A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"email",value:s,onChange:f=>e(f.target.value),placeholder:"Email or Phone number",className:"w-full bg-transparent border-0 border-b-2 border-gray-600 focus:border-emerald-400 px-0 py-5 text-white placeholder-gray-500 text-xl focus:outline-none transition-colors duration-300"}),A.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-emerald-400 transition-all duration-300 focus-within:w-full"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:r?"text":"password",value:t,onChange:f=>n(f.target.value),placeholder:"Password",className:"w-full bg-transparent border-0 border-b-2 border-gray-600 focus:border-emerald-400 px-0 py-5 pr-12 text-white placeholder-gray-500 text-xl focus:outline-none transition-colors duration-300"}),A.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-0 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-emerald-400 transition-colors p-2",children:r?A.jsx(KE,{size:24}):A.jsx(Xf,{size:24})}),A.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-emerald-400 transition-all duration-300 focus-within:w-full"})]}),A.jsx("button",{onClick:h,className:"w-full bg-emerald-400 hover:bg-emerald-500 text-black font-bold py-5 rounded-full text-xl transition-all duration-200 transform hover:scale-[1.02] cursor-pointer hover:shadow-lg hover:shadow-emerald-400/30 mt-16",children:"Sign In"})]})]}),A.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[A.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-emerald-400/10 rounded-full blur-3xl"}),A.jsx("div",{className:"absolute bottom-40 right-20 w-96 h-96 bg-teal-400/5 rounded-full blur-3xl"}),A.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-60",children:A.jsxs("svg",{className:"absolute bottom-0 w-full h-full",viewBox:"0 0 1200 320",preserveAspectRatio:"none",children:[A.jsxs("defs",{children:[A.jsxs("linearGradient",{id:"wave1",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[A.jsx("stop",{offset:"0%",stopColor:"rgb(16, 185, 129)",stopOpacity:"0.3"}),A.jsx("stop",{offset:"100%",stopColor:"rgb(20, 184, 166)",stopOpacity:"0.2"})]}),A.jsxs("linearGradient",{id:"wave2",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[A.jsx("stop",{offset:"0%",stopColor:"rgb(16, 185, 129)",stopOpacity:"0.5"}),A.jsx("stop",{offset:"100%",stopColor:"rgb(20, 184, 166)",stopOpacity:"0.4"})]})]}),A.jsx("path",{d:"M0,320 C300,260 500,280 800,220 C900,200 1000,240 1200,200 L1200,320 Z",fill:"url(#wave1)"}),A.jsx("path",{d:"M0,320 C200,240 400,260 600,200 C800,140 1000,180 1200,160 L1200,320 Z",fill:"url(#wave2)"})]})})]}),A.jsx("style",{jsx:!0,children:`
          @media (max-width: 640px) {
            .text-6xl {
              font-size: 3rem;
            }
            .w-16 {
              width: 3rem;
            }
            .h-16 {
              height: 3rem;
            }
            .mr-6 {
              margin-right: 1rem;
            }
          }
          @media (max-width: 480px) {
            .text-6xl {
              font-size: 2.5rem;
            }
            .w-16 {
              width: 2.5rem;
            }
            .h-16 {
              height: 2.5rem;
            }
            .mr-6 {
              margin-right: 0.75rem;
            }
          }
        `})]})]})},Jt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Tf=[.001,0,0,.001,0,0],Ch=1.35,En={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Sr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},wb="pdfjs_internal_editor_",Re={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},bb={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Wt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},sa={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},dt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ki={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ra={ERRORS:0,WARNINGS:1,INFOS:5},ga={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ic={moveTo:0,lineTo:1,curveTo:2,closePath:3},xb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let iu=Ra.WARNINGS;function I2(s){Number.isInteger(s)&&(iu=s)}function O2(){return iu}function ou(s){iu>=Ra.INFOS&&console.log(`Info: ${s}`)}function Pe(s){iu>=Ra.WARNINGS&&console.log(`Warning: ${s}`)}function Ve(s){throw new Error(s)}function bt(s,e){s||Ve(e)}function D2(s){switch(s?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function up(s,e=null,t=null){if(!s)return null;if(t&&typeof s=="string"&&(t.addDefaultProtocol&&s.startsWith("www.")&&s.match(/\./g)?.length>=2&&(s=`http://${s}`),t.tryConvertEncoding))try{s=z2(s)}catch{}const n=e?URL.parse(s,e):URL.parse(s);return D2(n)?n:null}function dp(s,e,t=!1){const n=URL.parse(s);return n?(n.hash=e,n.href):t&&up(s,"http://example.com")?s.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ie(s,e,t,n=!1){return Object.defineProperty(s,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const ei=(function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class Nv extends ei{constructor(e,t){super(e,"PasswordException"),this.code=t}}class _h extends ei{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Fc extends ei{constructor(e){super(e,"InvalidPDFException")}}class ma extends ei{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class F2 extends ei{constructor(e){super(e,"FormatError")}}class $r extends ei{constructor(e){super(e,"AbortException")}}function Sb(s){(typeof s!="object"||s?.length===void 0)&&Ve("Invalid argument for bytesToString");const e=s.length,t=8192;if(e<t)return String.fromCharCode.apply(null,s);const n=[];for(let r=0;r<e;r+=t){const a=Math.min(r+t,e),l=s.subarray(r,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Pa(s){typeof s!="string"&&Ve("Invalid argument for stringToBytes");const e=s.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=s.charCodeAt(n)&255;return t}function j2(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function $2(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function B2(){try{return new Function(""),!0}catch{return!1}}class Mt{static get isLittleEndian(){return Ie(this,"isLittleEndian",$2())}static get isEvalSupported(){return Ie(this,"isEvalSupported",B2())}static get isOffscreenCanvasSupported(){return Ie(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ie(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ie(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Ie(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const kh=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));class ye{static makeHexColor(e,t,n){return`#${kh[e]}${kh[t]}${kh[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,n=0){const r=e[n],a=e[n+1];e[n]=r*t[0]+a*t[2]+t[4],e[n+1]=r*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const r=t[0],a=t[1],l=t[2],c=t[3],d=t[4],h=t[5];for(let f=0;f<6;f+=2){const g=e[n+f],m=e[n+f+1];e[n+f]=g*r+m*l+d,e[n+f+1]=g*a+m*c+h}}static applyInverseTransform(e,t){const n=e[0],r=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-n*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,n){const r=t[0],a=t[1],l=t[2],c=t[3],d=t[4],h=t[5],f=e[0],g=e[1],m=e[2],y=e[3];let x=r*f+d,b=x,S=r*m+d,E=S,T=c*g+h,C=T,P=c*y+h,R=P;if(a!==0||l!==0){const L=a*f,N=a*m,D=l*g,j=l*y;x+=D,E+=D,S+=j,b+=j,T+=L,R+=L,P+=N,C+=N}n[0]=Math.min(n[0],x,S,b,E),n[1]=Math.min(n[1],T,P,C,R),n[2]=Math.max(n[2],x,S,b,E),n[3]=Math.max(n[3],T,P,C,R)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],r=e[1],a=e[2],l=e[3],c=n**2+r**2,d=n*a+r*l,h=a**2+l**2,f=(c+h)/2,g=Math.sqrt(f**2-(c*h-d**2));t[0]=Math.sqrt(f+g||1),t[1]=Math.sqrt(f-g||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>l?null:[n,a,r,l]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,r,a){a[0]=Math.min(a[0],e,n),a[1]=Math.min(a[1],t,r),a[2]=Math.max(a[2],e,n),a[3]=Math.max(a[3],t,r)}static#e(e,t,n,r,a,l,c,d,h,f){if(h<=0||h>=1)return;const g=1-h,m=h*h,y=m*h,x=g*(g*(g*e+3*h*t)+3*m*n)+y*r,b=g*(g*(g*a+3*h*l)+3*m*c)+y*d;f[0]=Math.min(f[0],x),f[1]=Math.min(f[1],b),f[2]=Math.max(f[2],x),f[3]=Math.max(f[3],b)}static#t(e,t,n,r,a,l,c,d,h,f,g,m){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,t,n,r,a,l,c,d,-g/f,m);return}const y=f**2-4*g*h;if(y<0)return;const x=Math.sqrt(y),b=2*h;this.#e(e,t,n,r,a,l,c,d,(-f+x)/b,m),this.#e(e,t,n,r,a,l,c,d,(-f-x)/b,m)}static bezierBoundingBox(e,t,n,r,a,l,c,d,h){h[0]=Math.min(h[0],e,c),h[1]=Math.min(h[1],t,d),h[2]=Math.max(h[2],e,c),h[3]=Math.max(h[3],t,d),this.#t(e,n,a,c,t,r,l,d,3*(-e+3*(n-a)+c),6*(e-2*n+a),3*(n-e),h),this.#t(e,n,a,c,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),h)}}function z2(s){return decodeURIComponent(escape(s))}let Th=null,Lv=null;function Eb(s){return Th||(Th=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Lv=new Map([["","t"]])),s.replaceAll(Th,(e,t,n)=>t?t.normalize("NFKC"):Lv.get(n))}function hp(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),Sb(s)}const fp="pdfjs_internal_id_";function H2(s,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[n,r,...a]=t;if(!s(n)&&!Number.isInteger(n)||!e(r))return!1;const l=a.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of a)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function qt(s,e,t){return Math.min(Math.max(s,e),t)}function Ab(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(Sb(s))}function U2(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):Pa(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...e){return new Promise(t=>{t(s(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((e,t)=>e+t,0)});const Ir="http://www.w3.org/2000/svg";class Qs{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function eo(s,e="text"){if(Zo(s,document.baseURI)){const t=await fetch(s);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const r=new XMLHttpRequest;r.open("GET",s,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Na{constructor({viewBox:e,userUnit:t,scale:n,rotation:r,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=r,this.offsetX=a,this.offsetY=l,n*=t;const d=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,g,m,y;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,g=0,m=0,y=1;break;case 90:f=0,g=1,m=1,y=0;break;case 270:f=0,g=-1,m=-1,y=0;break;case 0:f=1,g=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(m=-m,y=-y);let x,b,S,E;f===0?(x=Math.abs(h-e[1])*n+a,b=Math.abs(d-e[0])*n+l,S=(e[3]-e[1])*n,E=(e[2]-e[0])*n):(x=Math.abs(d-e[0])*n+a,b=Math.abs(h-e[1])*n+l,S=(e[2]-e[0])*n,E=(e[3]-e[1])*n),this.transform=[f*n,g*n,m*n,y*n,x-f*n*d-m*n*h,b-g*n*d-y*n*h],this.width=S,this.height=E}get rawDims(){const e=this.viewBox;return Ie(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new Na({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:a})}convertToViewportPoint(e,t){const n=[e,t];return ye.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];ye.applyTransform(t,this.transform);const n=[e[2],e[3]];return ye.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return ye.applyInverseTransform(n,this.transform),n}}class au extends ei{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function La(s){const e=s.length;let t=0;for(;t<e&&s[t].trim()==="";)t++;return s.substring(t,t+5).toLowerCase()==="data:"}function lu(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function Cb(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function _b(s,e="document.pdf"){if(typeof s!="string")return e;if(La(s))return Pe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return e;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},a=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(a.test(l))return r(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const h of c)if(a.test(h))return r(h);const d=Array.from(n.searchParams.keys()).reverse();for(const h of d)if(a.test(h))return r(h)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return e}class Mv{started=Object.create(null);times=[];time(e){e in this.started&&Pe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Pe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:a}of this.times)e.push(`${n.padEnd(t)} ${a-r}ms
`);return e.join("")}}function Zo(s,e){const t=e?URL.parse(s,e):URL.parse(s);return t?.protocol==="http:"||t?.protocol==="https:"}function Hn(s){s.preventDefault()}function ft(s){s.preventDefault(),s.stopPropagation()}function V2(s){console.log("Deprecated API usage: "+s)}class pp{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const h=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,h==="-"?(l+=f,c+=g):h==="+"&&(l-=f,c-=g),new Date(Date.UTC(n,r,a,l,c,d))}}function kb(s,{scale:e=1,rotation:t=0}){const{width:n,height:r}=s.attributes.style,a=[0,0,parseInt(n),parseInt(r)];return new Na({viewBox:a,userUnit:1,scale:e,rotation:t})}function gp(s){if(s.startsWith("#")){const e=parseInt(s.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(e=>parseInt(e)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Pe(`Not a valid color format: "${s}"`),[0,0,0])}function W2(s){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of s.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;s.set(t,gp(n))}e.remove()}function at(s){const{a:e,b:t,c:n,d:r,e:a,f:l}=s.getTransform();return[e,t,n,r,a,l]}function mr(s){const{a:e,b:t,c:n,d:r,e:a,f:l}=s.getTransform().invertSelf();return[e,t,n,r,a,l]}function ys(s,e,t=!1,n=!0){if(e instanceof Na){const{pageWidth:r,pageHeight:a}=e.rawDims,{style:l}=s,c=Mt.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,h=`var(--total-scale-factor) * ${a}px`,f=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(l.width=f,l.height=g):(l.width=g,l.height=f)}n&&s.setAttribute("data-main-rotation",e.rotation)}class rr{constructor(){const{pixelRatio:e}=rr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,r,a=-1){let l=1/0,c=1/0,d=1/0;n=rr.capPixels(n,a),n>0&&(l=Math.sqrt(n/(e*t))),r!==-1&&(c=r/e,d=r/t);const h=Math.min(l,c,d);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const jc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ia{#e=null;#t=null;#n;#r=null;#i=null;#s=null;static#a=null;constructor(e){this.#n=e,ia.#a||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Hn,{signal:t}),e.addEventListener("pointerdown",ia.#o,{signal:t});const n=this.#r=document.createElement("div");n.className="buttons",e.append(n);const r=this.#n.toolbarPosition;if(r){const{style:a}=e,l=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#o(e){e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!1,ft(e)}#l(e){this.#n._focusEventsAllowed=!0,ft(e)}#h(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Hn,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",ia.#a[e]),this.#h(n),n.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#r.append(n)}get#u(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#r.append(t,this.#u),this.#i=e}addColorPicker(e){this.#t=e;const t=e.renderButton();this.#h(t),this.#r.append(t,this.#u)}async addEditSignatureButton(e){const t=this.#s=await e.renderEditButton(this.#n);this.#h(t),this.#r.append(t,this.#u)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){this.#s&&(this.#s.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class G2{#e=null;#t=null;#n;constructor(e){this.#n=e}#r(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Hn,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#s(),e}#i(e,t){let n=0,r=0;for(const a of e){const l=a.y+a.height;if(l<n)continue;const c=a.x+(t?a.width:0);if(l>n){r=c,n=l;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,n]}show(e,t,n){const[r,a]=this.#i(t,n),{style:l}=this.#t||=this.#r();e.append(this.#t),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#n._signal;e.addEventListener("contextmenu",Hn,{signal:n}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:n}),this.#e.append(e)}}function Tb(s,e,t){for(const n of t)e.addEventListener(n,s[n].bind(s))}class q2{#e=0;get id(){return`${wb}${this.#e++}`}}class mp{#e=hp();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const a=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ie(this,"_isSVGFittingCanvas",a)}async#r(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(n.url=t,r=await eo(t,"blob")):t instanceof File?r=n.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const a=mp._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((h,f)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,h()},l.onload=async()=>{const g=n.svgUrl=l.result;c.src=await a?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=l.onerror=f});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Pe(r),n=null}return this.#n.set(e,n),n&&this.#n.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:a}=e;return this.#r(`${t}_${n}_${r}_${a}`,e)}async getFromUrl(e){return this.#r(e,e)}async getFromBlob(e,t){const n=await t;return this.#r(e,n)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let n=this.#n.get(e);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,n),this.#n.set(n.id,n),n}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=r.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class X2{#e=[];#t=!1;#n;#r=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:n,mustExec:r,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&e(),this.#t)return;const d={cmd:e,undo:t,post:n,type:a};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(d);return}if(l&&this.#e[this.#r].type===a){c&&(d.undo=this.#e[this.#r].undo),this.#e[this.#r]=d;return}const h=this.#r+1;h===this.#n?this.#e.splice(0,1):(this.#r=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(d)}undo(){if(this.#r===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1,this.#r-=1}redo(){if(this.#r<this.#e.length-1){this.#r+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#r];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}cleanType(e){if(this.#r!==-1){for(let t=this.#r;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#r-t),this.#r=t;return}this.#e.length=0,this.#r=-1}}destroy(){this.#e=null}}class Ma{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Mt.platform;for(const[n,r,a={}]of e)for(const l of n){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#e(t));if(!n)return;const{callback:r,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(e,t)||(r.bind(e,...l,t)(),a||ft(t))}}class vp{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return W2(e),Ie(this,"_colors",e)}convert(e){const t=gp(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every((a,l)=>a===t[l]))return vp._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?ye.makeHexColor(...t):e}}class Br{#e=new AbortController;#t=null;#n=new Map;#r=new Map;#i=null;#s=null;#a=null;#o=new X2;#d=null;#l=null;#h=0;#u=new Set;#f=null;#p=null;#g=new Set;_editorUndoBar=null;#c=!1;#m=!1;#v=!1;#y=null;#b=null;#x=null;#S=null;#C=!1;#k=null;#R=new q2;#E=!1;#T=!1;#_=null;#N=null;#L=null;#M=null;#B=null;#A=Re.NONE;#w=new Set;#F=null;#j=null;#U=null;#V=null;#W={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#I=null;#O=null;#H=null;#K=null;#D=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Br.prototype,t=l=>l.#O.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Ma([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#O.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#O.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}constructor(e,t,n,r,a,l,c,d,h,f,g,m,y,x,b){const S=this._signal=this.#e.signal;this.#O=e,this.#H=t,this.#K=n,this.#i=r,this.#j=a,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:S}),this.#se(),this.#le(),this.#Q(),this.#s=c.annotationStorage,this.#y=c.filterFactory,this.#U=d,this.#S=h||null,this.#c=f,this.#m=g,this.#v=m,this.#B=y||null,this.viewParameters={realScale:Qs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=b!==!1}destroy(){this.#D?.resolve(),this.#D=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#r.values())e.destroy();this.#r.clear(),this.#n.clear(),this.#g.clear(),this.#M?.clear(),this.#t=null,this.#w.clear(),this.#o.destroy(),this.#i?.destroy(),this.#j?.destroy(),this.#k?.hide(),this.#k=null,this.#L?.destroy(),this.#L=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#B}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Ie(this,"hcmFilter",this.#U?this.#y.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ie(this,"direction",getComputedStyle(this.#O).direction)}get highlightColors(){return Ie(this,"highlightColors",this.#S?new Map(this.#S.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return Ie(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=e}setMainHighlightColorPicker(e){this.#L=e}editAltText(e,t=!1){this.#i?.editAltText(this,e,t)}getSignature(e){this.#j?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#j}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#v=t;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#O.focus()}findParent(e,t){for(const n of this.#r.values()){const{x:r,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=a&&t<=a+c)return n}return null}disableUserSelect(e=!1){this.#H.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#g.add(e)}removeShouldRescale(e){this.#g.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Qs.PDF_TO_CSS_UNITS;for(const t of this.#g)t.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#Y(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#r.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:l}=t,c=t.toString(),h=this.#q(t).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;t.empty();const g=this.#Y(h),m=this.#A===Re.NONE,y=()=>{g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:n,anchorOffset:r,focusNode:a,focusOffset:l,text:c}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(Re.HIGHLIGHT,y);return}y()}#ne(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=this.#q(e).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#k||=new G2(this),this.#k.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#K;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#re(){const e=document.getSelection();if(!e||e.isCollapsed){this.#F&&(this.#k?.hide(),this.#F=null,this.#P({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#F)return;const r=this.#q(e).closest(".textLayer");if(!r){this.#F&&(this.#k?.hide(),this.#F=null,this.#P({hasSelectedText:!1}));return}if(this.#k?.hide(),this.#F=t,this.#P({hasSelectedText:!0}),!(this.#A!==Re.HIGHLIGHT&&this.#A!==Re.NONE)&&(this.#A===Re.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#C=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#A===Re.HIGHLIGHT?this.#Y(r):null;a?.toggleDrawing();const l=new AbortController,c=this.combinedSignal(l),d=h=>{h.type==="pointerup"&&h.button!==0||(l.abort(),a?.toggleDrawing(!0),h.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}}#X(e=""){this.#A===Re.HIGHLIGHT?this.highlightSelection(e):this.#c&&this.#ne()}#se(){document.addEventListener("selectionchange",this.#re.bind(this),{signal:this._signal})}#ie(){if(this.#x)return;this.#x=new AbortController;const e=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#oe(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#C&&(this.#C=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#w)if(t.div.contains(e)){this.#N=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,t]=this.#N;this.#N=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#Q(){if(this.#_)return;this.#_=new AbortController;const e=this.combinedSignal(this.#_);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ae(){this.#_?.abort(),this.#_=null}#J(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#Z(){this.#d?.abort(),this.#d=null}#le(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Q(),this.#J()}removeEditListeners(){this.#ae(),this.#Z()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#p)if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#w){const r=n.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const l of this.#p)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){Pe(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const d of n){const h=await r.deserialize(d);if(!h)return;a.push(h)}const l=()=>{for(const d of a)this.#ee(d);this.#te(a)},c=()=>{for(const d of a)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){Pe(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==Re.NONE&&!this.isEditorHandlingKeyboard&&Br._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#C&&(this.#C=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#P(e){Object.entries(e).some(([n,r])=>this.#W[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#W,e)}),this.#A===Re.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[Oe.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ie(),this.#J(),this.#P({isEditing:this.#A!==Re.NONE,isEmpty:this.#G(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#oe(),this.#Z(),this.#P({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#p){this.#p=e;for(const t of this.#p)this.#$(t.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#r.get(this.#h)}getLayer(e){return this.#r.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#r.set(e.pageIndex,e),this.#E?e.enable():e.disable()}removeLayer(e){this.#r.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,r=!1){if(this.#A!==e&&!(this.#D&&(await this.#D.promise,!this.#D))){if(this.#D=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#A=e,e===Re.NONE){this.setEditingState(!1),this.#ue(),this._editorUndoBar?.hide(),this.#D.resolve();return}e===Re.SIGNATURE&&await this.#j?.loadSignatures(),this.setEditingState(!0),await this.#ce(),this.unselectAll();for(const a of this.#r.values())a.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),this.#D.resolve();return}for(const a of this.#n.values())a.annotationElementId===t||a.id===t?(this.setSelected(a),r&&a.enterInEditMode()):a.unselect();this.#D.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#p){switch(e){case Oe.CREATE:this.currentLayer.addNewEditor(t);return;case Oe.HIGHLIGHT_DEFAULT_COLOR:this.#L?.updateColor(t);break;case Oe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(e,t),this.showAllEditors("highlight",t);break}for(const n of this.#w)n.updateParams(e,t);for(const n of this.#p)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const a of this.#n.values())a.editorType===e&&a.show(t);(this.#V?.get(Oe.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#$([[Oe.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#T!==e){this.#T=e;for(const t of this.#r.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#ce(){if(!this.#E){this.#E=!0;const e=[];for(const t of this.#r.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#ue(){if(this.unselectAll(),this.#E){this.#E=!1;for(const e of this.#r.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#n.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#M?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ee(e){const t=this.#r.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#de(){let e=null;for(e of this.#w);return e}updateUI(e){this.#de===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#P({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#l?.commitOrRemove();for(const t of this.#w)t!==e&&t.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#P({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#P({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#P({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#G()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#G()})}addCommands(e){this.#o.add(e),this.#P({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#G()})}cleanUndoStack(e){this.#o.cleanType(e)}#G(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#w],n=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},r=()=>{for(const a of t)this.#ee(a)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#te(e){for(const t of this.#w)t.unselect();this.#w.clear();for(const t of e)t.isEmpty()||(this.#w.add(t),t.select());this.#P({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#te(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==Re.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#P({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=t;const[r,a]=this.#z,l=[...this.#w],c=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,a),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-a),d.translationDone())},mustExec:!1})},c);for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#w)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:r,y:a,pageIndex:l},c]of e)c.newX=r,c.newY=a,c.newPageIndex=l,t||=r!==c.savedX||a!==c.savedY||l!==c.savedPageIndex;if(!t)return!1;const n=(r,a,l,c)=>{if(this.#n.has(r.id)){const d=this.#r.get(c);d?r._setParentAndPosition(d,a,l):(r.pageIndex=c,r.x=a,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:l,newPageIndex:c}]of e)n(r,a,l,c)},undo:()=>{for(const[r,{savedX:a,savedY:l,savedPageIndex:c}]of e)n(r,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const n of this.#f.keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#A}get imageManager(){return Ie(this,"imageManager",new mp)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,f=t.rangeCount;h<f;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:n,y:r,width:a,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(h,f,g,m)=>({x:(f-r)/l,y:1-(h+g-n)/a,width:m/l,height:g/a});break;case"180":c=(h,f,g,m)=>({x:1-(h+g-n)/a,y:1-(f+m-r)/l,width:g/a,height:m/l});break;case"270":c=(h,f,g,m)=>({x:1-(f+m-r)/l,y:(h-n)/a,width:m/l,height:g/a});break;default:c=(h,f,g,m)=>({x:(h-n)/a,y:(f-r)/l,width:g/a,height:m/l});break}const d=[];for(let h=0,f=t.rangeCount;h<f;h++){const g=t.getRangeAt(h);if(!g.collapsed)for(const{x:m,y,width:x,height:b}of g.getClientRects())x===0||b===0||d.push(c(m,y,x,b))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#a||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#a?.delete(e)}renderAnnotationElement(e){const t=this.#a?.get(e.data.id);if(!t)return;const n=this.#s.getRawValue(t);n&&(this.#A===Re.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,t,n){const r=this.#M?.get(e);r&&(r.setCanvas(t,n),this.#M.delete(e))}addMissingCanvas(e,t){(this.#M||=new Map).set(e,t)}}class br{#e=null;#t=!1;#n=null;#r=null;#i=null;#s=null;#a=!1;#o=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#d=e,this.#u=e._uiManager.useNewAltTextFlow,br.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){br._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#r=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",br.#f.missing),t.setAttribute("data-l10n-id",br.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#d._uiManager._signal;e.addEventListener("contextmenu",Hn,{signal:n}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const r=a=>{a.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#a=!0,r(a))},{signal:n}),await this.#g(),e}get#p(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await br._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#g())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#d.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:r,cancel:a=!1}){n&&(this.#l=n,this.#h=r),!(this.#e===e&&this.#t===t)&&(a||(this.#e=e,this.#t=t),this.#g())}toggle(e=!1){this.#n&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#r=null,this.#i=null,this.#o?.remove(),this.#o=null}async#g(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",br.#f[this.#p]),this.#r?.setAttribute("data-l10n-id",br.#f[`${this.#p}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#i;if(!t){this.#i=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#d.id}`;const r=100,a=this.#d._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#i.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i?.classList.remove("show")},{signal:a})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#d.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Ia{#e;#t=!1;#n=null;#r;#i;#s;#a;#o=null;#d;#l=null;#h;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:l=null,signal:c}){this.#e=e,this.#n=n,this.#r=t,this.#i=r,this.#s=a,this.#a=l,this.#h=new AbortController,this.#d=AbortSignal.any([c,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/rr.pixelRatio}#f(e){if(this.#r?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,a=AbortSignal.any([this.#d,r.signal]),l=this.#e,c={capture:!0,signal:a,passive:!1},d=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(ft(h),d(h))},c),l.addEventListener("pointerup",d,c),l.addEventListener("pointercancel",d,c);return}if(!this.#u){this.#u=new AbortController;const r=AbortSignal.any([this.#d,this.#u.signal]),a=this.#e,l={signal:r,capture:!1,passive:!1};a.addEventListener("touchmove",this.#p.bind(this),l);const c=this.#g.bind(this);a.addEventListener("touchend",c,l),a.addEventListener("touchcancel",c,l),l.capture=!0,a.addEventListener("pointerdown",ft,l),a.addEventListener("pointermove",ft,l),a.addEventListener("pointercancel",ft,l),a.addEventListener("pointerup",ft,l),this.#i?.()}if(ft(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#p(e){if(!this.#l||e.touches.length!==2)return;ft(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:r,screenY:a}=t,{screenX:l,screenY:c}=n,d=this.#l,{touch0X:h,touch0Y:f,touch1X:g,touch1Y:m}=d,y=g-h,x=m-f,b=l-r,S=c-a,E=Math.hypot(b,S)||1,T=Math.hypot(y,x)||1;if(!this.#t&&Math.abs(T-E)<=Ia.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=a,d.touch1X=l,d.touch1Y=c,!this.#t){this.#t=!0;return}const C=[(r+l)/2,(a+c)/2];this.#s?.(C,T,E)}#g(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#a?.()),this.#l&&(ft(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Se{#e=null;#t=null;#n=null;#r=!1;#i=null;#s="";#a=!1;#o=null;#d=null;#l=null;#h=null;#u="";#f=!1;#p=null;#g=!1;#c=!1;#m=!1;#v=null;#y=0;#b=0;#x=null;#S=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#C=!1;#k=Se._zIndex++;static _borderLineWidth=-1;static _colorManager=new vp;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Se.prototype._resizeWithKeyboard,t=Br.TRANSLATE_SMALL,n=Br.TRANSLATE_BIG;return Ie(this,"_resizerKeyboardManager",new Ma([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Se.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[a,l];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ie(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new K2({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Se._l10n??=e,Se._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Se._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Se._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ve("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#C}set _isDraggable(e){this.#C=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#k}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#H(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[a,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/a,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),this._onTranslated()}#R([e,t],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#R(this.parentDimensions,e,t)}translateInPage(e,t){this.#p||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#p||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,a]}=this;if(this.x+=e/r,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,h]=this.getBaseTranslation();l+=d,c+=h;const{style:f}=n;f.left=`${(100*l).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#p&&(this.#p[0]!==this.x||this.#p[1]!==this.y)}get _hasBeenResized(){return!!this.#p&&(this.#p[2]!==this.width||this.#p[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Se,r=n/e,a=n/t;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,r]}=this;let{x:a,y:l,width:c,height:d}=this;if(c*=n,d*=r,a*=n,l*=r,this._mustFixPosition)switch(e){case 0:a=qt(a,0,n-c),l=qt(l,0,r-d);break;case 90:a=qt(a,0,n-d),l=qt(l,c,r);break;case 180:a=qt(a,c,n),l=qt(l,d,r);break;case 270:a=qt(a,d,n),l=qt(l,0,r-c);break}this.x=a/=n,this.y=l/=r;const[h,f]=this.getBaseTranslation();a+=h,l+=f,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#E(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Se.#E(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Se.#E(e,t,360-this.parentRotation)}#T(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*e/n).toFixed(2)}%`,this.#a||(a.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),a=!this.#a&&t.endsWith("%");if(r&&a)return;const[l,c]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!this.#a&&!a&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#_(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const r=document.createElement("div");this.#o.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#N.bind(this,n),{signal:t}),r.addEventListener("contextmenu",Hn,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#o)}#N(e,t){t.preventDefault();const{isMac:n}=Mt.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#d=[t.screenX,t.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#B.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",ft,{passive:!1,signal:l}),window.addEventListener("contextmenu",Hn,{signal:l}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#M()};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})}#L(e,t,n,r){this.width=n,this.height=r,this.x=e,this.y=t;const[a,l]=this.parentDimensions;this.setDims(a*n,l*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#M(){if(!this.#l)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=this.#l;this.#l=null;const a=this.x,l=this.y,c=this.width,d=this.height;a===e&&l===t&&c===n&&d===r||this.addCommands({cmd:this.#L.bind(this,a,l,c,d),undo:this.#L.bind(this,e,t,n,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#B(e,t){const[n,r]=this.parentDimensions,a=this.x,l=this.y,c=this.width,d=this.height,h=Se.MIN_SIZE/n,f=Se.MIN_SIZE/r,g=this.#T(this.rotation),m=(U,V)=>[g[0]*U+g[2]*V,g[1]*U+g[3]*V],y=this.#T(360-this.rotation),x=(U,V)=>[y[0]*U+y[2]*V,y[1]*U+y[3]*V];let b,S,E=!1,T=!1;switch(e){case"topLeft":E=!0,b=(U,V)=>[0,0],S=(U,V)=>[U,V];break;case"topMiddle":b=(U,V)=>[U/2,0],S=(U,V)=>[U/2,V];break;case"topRight":E=!0,b=(U,V)=>[U,0],S=(U,V)=>[0,V];break;case"middleRight":T=!0,b=(U,V)=>[U,V/2],S=(U,V)=>[0,V/2];break;case"bottomRight":E=!0,b=(U,V)=>[U,V],S=(U,V)=>[0,0];break;case"bottomMiddle":b=(U,V)=>[U/2,V],S=(U,V)=>[U/2,0];break;case"bottomLeft":E=!0,b=(U,V)=>[0,V],S=(U,V)=>[U,0];break;case"middleLeft":T=!0,b=(U,V)=>[0,V/2],S=(U,V)=>[U,V/2];break}const C=b(c,d),P=S(c,d);let R=m(...P);const L=Se._round(a+R[0]),N=Se._round(l+R[1]);let D=1,j=1,B,G;if(t.fromKeyboard)({deltaX:B,deltaY:G}=t);else{const{screenX:U,screenY:V}=t,[K,ee]=this.#d;[B,G]=this.screenToPageTranslation(U-K,V-ee),this.#d[0]=U,this.#d[1]=V}if([B,G]=x(B/n,G/r),E){const U=Math.hypot(c,d);D=j=Math.max(Math.min(Math.hypot(P[0]-C[0]-B,P[1]-C[1]-G)/U,1/c,1/d),h/c,f/d)}else T?D=qt(Math.abs(P[0]-C[0]-B),h,1)/c:j=qt(Math.abs(P[1]-C[1]-G),f,1)/d;const Y=Se._round(c*D),Q=Se._round(d*j);R=m(...S(Y,Q));const X=L-R[0],re=N-R[1];this.#p||=[this.x,this.y,this.width,this.height],this.width=Y,this.height=Q,this.x=X,this.y=re,this.setDims(n*Y,r*Q),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new ia(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(br.initialize(Se._l10n),this.#n=new br(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#r?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#V();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),Tb(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#S||=new Ia({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#A.bind(this),onPinching:this.#w.bind(this),onPinchEnd:this.#F.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#A(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#w(e,t,n){let a=.7*(n/t)+1-.7;if(a===1)return;const l=this.#T(this.rotation),c=(L,N)=>[l[0]*L+l[2]*N,l[1]*L+l[3]*N],[d,h]=this.parentDimensions,f=this.x,g=this.y,m=this.width,y=this.height,x=Se.MIN_SIZE/d,b=Se.MIN_SIZE/h;a=Math.max(Math.min(a,1/m,1/y),x/m,b/y);const S=Se._round(m*a),E=Se._round(y*a);if(S===m&&E===y)return;this.#p||=[f,g,m,y];const T=c(m/2,y/2),C=Se._round(f+T[0]),P=Se._round(g+T[1]),R=c(S/2,E/2);this.x=C-R[0],this.y=P-R[1],this.width=S,this.height=E,this.setDims(d*S,h*E),this.fixAndSetPosition(),this._onResizing()}#F(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#M()}pointerdown(e){const{isMac:t}=Mt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#U(e);return}this.#j(e)}#j(e){const{isMac:t}=Mt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:a},c=h=>{r.abort(),this.#i=null,this.#f=!1,this._uiManager.endDragSession()||this.#j(h),n&&this._onStopDragging()};t&&(this.#y=e.clientX,this.#b=e.clientY,this.#i=e.pointerId,this.#s=e.pointerType,window.addEventListener("pointermove",h=>{n||(n=!0,this._onStartDragging());const{clientX:f,clientY:g,pointerId:m}=h;if(m!==this.#i){ft(h);return}const[y,x]=this.screenToPageTranslation(f-this.#y,g-this.#b);this.#y=f,this.#b=g,this._uiManager.dragSelectedEditors(y,x)},l),window.addEventListener("touchmove",ft,l),window.addEventListener("pointerdown",h=>{h.pointerType===this.#s&&(this.#S||h.isPrimary)&&c(h),ft(h)},l));const d=h=>{if(!this.#i||this.#i===h.pointerId){c(h);return}ft(h)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const r=this.parentScale,[a,l]=this.pageDimensions,[c,d]=this.pageTranslation,h=e/r,f=t/r,g=this.x*a,m=this.y*l,y=this.width*a,x=this.height*l;switch(n){case 0:return[g+h+c,l-m-f-x+d,g+h+y+c,l-m-f+d];case 90:return[g+f+c,l-m+h+d,g+f+x+c,l-m+h+y+d];case 180:return[g-h-y+c,l-m+f+d,g-h+c,l-m+f+x+d];case 270:return[g-f-x+c,l-m-h-y+d,g-f+c,l-m-h+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,a,l]=e,c=a-n,d=l-r;switch(this.rotation){case 0:return[n,t-l,c,d];case 90:return[n,t-r,d,c];case 180:return[a,t-r,c,d];case 270:return[a,t-l,d,c];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return t<l&&r>0&&e<a&&n>0}#V(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#V()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){Ve("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[a,l]=r.pageDimensions,[c,d,h,f]=r.getRectInCurrentCoords(e.rect,l);return r.x=c/a,r.y=d/l,r.width=h/a,r.height=f/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#H(),this.removeEditToolbar(),this.#x){for(const e of this.#x.values())clearTimeout(e);this.#x=null}this.parent=null,this.#S?.destroy(),this.#S=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#_(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#o.children;if(!this.#t){this.#t=Array.from(t);const l=this.#W.bind(this),c=this.#z.bind(this),d=this._uiManager._signal;for(const h of this.#t){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",l,{signal:d}),h.addEventListener("blur",c,{signal:d}),h.addEventListener("focus",this.#I.bind(this,f),{signal:d}),h.setAttribute("data-l10n-id",Se._l10nResizer[f])}}const n=this.#t[0];let r=0;for(const l of t){if(l===n)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==r){if(a<r)for(let c=0;c<r-a;c++)this.#o.append(this.#o.firstChild);else if(a>r)for(let c=0;c<a-r;c++)this.#o.firstChild.before(this.#o.lastChild);let l=0;for(const c of t){const h=this.#t[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Se._l10nResizer[h])}}this.#O(0),this.#m=!0,this.#o.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#W(e){Se._resizerKeyboardManager.exec(this,e)}#z(e){this.#m&&e.relatedTarget?.parentNode!==this.#o&&this.#H()}#I(e){this.#u=this.#m?e:""}#O(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#m&&this.#B(this.#u,{deltaX:e,deltaY:t,fromKeyboard:!0})}#H(){this.#m=!1,this.#O(-1),this.#M()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(e){this.#g=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#a=!0;const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#x||=new Map;const{action:n}=e;let r=this.#x.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},Se._telemetryTimeout),this.#x.set(n,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class K2 extends Se{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Iv=3285377520,jn=4294901760,vr=65535;class Rb{constructor(e){this.h1=e?e&4294967295:Iv,this.h2=e?e&4294967295:Iv}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let b=0,S=e.length;b<S;b++){const E=e.charCodeAt(b);E<=255?t[n++]=E:(t[n++]=E>>>8,t[n++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,a=n-r*4,l=new Uint32Array(t.buffer,0,r);let c=0,d=0,h=this.h1,f=this.h2;const g=3432918353,m=461845907,y=g&vr,x=m&vr;for(let b=0;b<r;b++)b&1?(c=l[b],c=c*g&jn|c*y&vr,c=c<<15|c>>>17,c=c*m&jn|c*x&vr,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(d=l[b],d=d*g&jn|d*y&vr,d=d<<15|d>>>17,d=d*m&jn|d*x&vr,f^=d,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,a){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*g&jn|c*y&vr,c=c<<15|c>>>17,c=c*m&jn|c*x&vr,r&1?h^=c:f^=c}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&jn|e*36045&vr,t=t*4283543511&jn|((t<<16|e>>>16)*2950163797&jn)>>>16,e^=t>>>1,e=e*444984403&jn|e*60499&vr,t=t*3301882366&jn|((t<<16|e>>>16)*3120437893&jn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Rf=Object.freeze({map:null,hash:"",transfer:void 0});class yp{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#n.get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of this.#n.values())if(t instanceof Se)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#n.get(e);let r=!1;if(n!==void 0)for(const[a,l]of Object.entries(t))n[a]!==l&&(r=!0,n[a]=l);else r=!0,this.#n.set(e,t);r&&this.#r(),t instanceof Se&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Pb(this)}get serializable(){if(this.#n.size===0)return Rf;const e=new Map,t=new Rb,n=[],r=Object.create(null);let a=!1;for(const[l,c]of this.#n){const d=c instanceof Se?c.serialize(!1,r):c;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),a||=!!d.bitmap)}if(a)for(const l of e.values())l.bitmap&&n.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Rf}get editorStats(){let e=null;const t=new Map;for(const n of this.#n.values()){if(!(n instanceof Se))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:a}=r;t.has(a)||t.set(a,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const l=e[a]||=new Map;for(const[c,d]of Object.entries(r)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const f=h.get(d)??0;h.set(d,f+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof Se)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Pb extends yp{#e;constructor(e){super();const{map:t,hash:n,transfer:r}=e.serializable,a=structuredClone(t,r?{transfer:r}:null);this.#e={map:a,hash:n,transfer:r}}get print(){Ve("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ie(this,"modifiedIds",{ids:new Set,hash:""})}}class Y2{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(!(!e||this.#e.has(e.loadedName))){if(bt(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:l}=e,c=new FontFace(r,a,l);this.addNativeFontFace(c);try{await c.load(),this.#e.add(r),n?.(e)}catch{Pe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Ve("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Pe(`Failed to load font '${n.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ie(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ie(this,"isSyncFontLoadingSupported",Jt||Mt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(bt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:t,callback:e};return n.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ie(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(P,R){return P.charCodeAt(R)<<24|P.charCodeAt(R+1)<<16|P.charCodeAt(R+2)<<8|P.charCodeAt(R+3)&255}function r(P,R,L,N){const D=P.substring(0,R),j=P.substring(R+L);return D+N+j}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let h=0;function f(P,R){if(++h>30){Pe("Load test font never loaded."),R();return}if(d.font="30px "+P,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(f.bind(null,P,R))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=r(m,976,g.length,g);const x=16,b=1482184792;let S=n(m,x);for(a=0,l=g.length-3;a<l;a+=4)S=S-b+n(g,a)|0;a<g.length&&(S=S-b+n(g+"XXX",a)|0),m=r(m,x,4,j2(S));const E=`url(data:font/opentype;base64,${btoa(m)});`,T=`@font-face {font-family:"${g}";src:${E}}`;this.insertRule(T);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const P of[e.loadedName,g]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=P,C.append(R)}this._document.body.append(C),f(g,()=>{C.remove(),t.complete()})}}class Q2{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Ab(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let r;try{r=e.get(n)}catch(l){Pe(`getPathGenerator - ignoring character: "${l}".`)}const a=new Path2D(r||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=a}}function J2(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(Jt)return s;const e=URL.parse(s,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Z2(s){if(Jt&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return Pa(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s?.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function oc(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const Pf=s=>typeof s=="object"&&Number.isInteger(s?.num)&&s.num>=0&&Number.isInteger(s?.gen)&&s.gen>=0,eP=s=>typeof s=="object"&&typeof s?.name=="string",Nb=H2.bind(null,Pf,eP);class tP{#e=new Map;#t=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,n)})}addEventListener(e,t,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:a}=n;if(a.aborted){Pe("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const ac={DATA:1,ERROR:2},yt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ov(){}function un(s){if(s instanceof $r||s instanceof Fc||s instanceof Nv||s instanceof ma||s instanceof _h)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||Ve('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new $r(s.message);case"InvalidPDFException":return new Fc(s.message);case"PasswordException":return new Nv(s.message,s.code);case"ResponseException":return new ma(s.message,s.status,s.missing);case"UnknownErrorException":return new _h(s.message,s.details)}return new _h(s.message,s.toString())}class ea{#e=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#r(e);return}if(e.callback){const n=e.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===ac.DATA)r.resolve(e.data);else if(e.callback===ac.ERROR)r.reject(un(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,r=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(l){a.postMessage({sourceName:n,targetName:r,callback:ac.DATA,callbackId:e.callbackId,data:l})},function(l){a.postMessage({sourceName:n,targetName:r,callback:ac.ERROR,callbackId:e.callbackId,reason:un(l)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(e,t,n,r){const a=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:e,streamId:a,data:t,desiredSize:h.desiredSize},r),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,d.postMessage({sourceName:l,targetName:c,stream:yt.PULL,streamId:a,desiredSize:h.desiredSize}),f.promise},cancel:h=>{bt(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:yt.CANCEL,streamId:a,reason:un(h)}),f.promise}},n)}#n(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,a=this.comObj,l=this,c=this.actionHandler[e.action],d={enqueue(h,f=1,g){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:r,stream:yt.ENQUEUE,streamId:t,chunk:h},g)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:r,stream:yt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(h){bt(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:r,stream:yt.ERROR,streamId:t,reason:un(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(c,e.data,d).then(function(){a.postMessage({sourceName:n,targetName:r,stream:yt.START_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:n,targetName:r,stream:yt.START_COMPLETE,streamId:t,reason:un(h)})})}#r(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,a=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case yt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(un(e.reason));break;case yt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(un(e.reason));break;case yt.PULL:if(!c){a.postMessage({sourceName:n,targetName:r,stream:yt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||Ov).then(function(){a.postMessage({sourceName:n,targetName:r,stream:yt.PULL_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:n,targetName:r,stream:yt.PULL_COMPLETE,streamId:t,reason:un(h)})});break;case yt.ENQUEUE:if(bt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case yt.CLOSE:if(bt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#i(l,t);break;case yt.ERROR:bt(l,"error should have stream controller"),l.controller.error(un(e.reason)),this.#i(l,t);break;case yt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(un(e.reason)),this.#i(l,t);break;case yt.CANCEL:if(!c)break;const d=un(e.reason);Promise.try(c.onCancel||Ov,d).then(function(){a.postMessage({sourceName:n,targetName:r,stream:yt.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:n,targetName:r,stream:yt.CANCEL_COMPLETE,streamId:t,reason:un(h)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#i(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class Lb{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ve("Abstract method `_createCanvas` called.")}}class nP extends Lb{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Mb{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ve("Abstract method `_fetch` called.")}}class Dv extends Mb{async _fetch(e){const t=await eo(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Pa(t)}}class Ib{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,a){return"none"}destroy(e=!1){}}class rP extends Ib{#e;#t;#n;#r;#i;#s;#a=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#r=e,this.#i=t}get#o(){return this.#t||=new Map}get#d(){return this.#s||=new Map}get#l(){if(!this.#n){const e=this.#i.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#i.createElementNS(Ir,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#n=this.#i.createElementNS(Ir,"defs"),e.append(n),n.append(this.#n),this.#i.body.append(e)}return this.#n}#h(e){if(e.length===1){const d=e[0],h=new Array(256);for(let g=0;g<256;g++)h[g]=d[g]/255;const f=h.join(",");return[f,f,f]}const[t,n,r]=e,a=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)a[d]=t[d]/255,l[d]=n[d]/255,c[d]=r[d]/255;return[a.join(","),l.join(","),c.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#i.URL;t!==this.#i.baseURI&&(La(t)?Pe('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=dp(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[n,r,a]=this.#h(e),l=e.length===1?n:`${n}${r}${a}`;if(t=this.#o.get(l),t)return this.#o.set(e,t),t;const c=`g_${this.#r}_transfer_map_${this.#a++}`,d=this.#u(c);this.#o.set(e,d),this.#o.set(l,d);const h=this.#g(c);return this.#m(n,r,a,h),d}addHCMFilter(e,t){const n=`${e}-${t}`,r="base";let a=this.#d.get(r);if(a?.key===n||(a?(a.filter?.remove(),a.key=n,a.url="none",a.filter=null):(a={key:n,url:"none",filter:null},this.#d.set(r,a)),!e||!t))return a.url;const l=this.#y(e);e=ye.makeHexColor(...l);const c=this.#y(t);if(t=ye.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return a.url;const d=new Array(256);for(let y=0;y<=255;y++){const x=y/255;d[y]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const h=d.join(","),f=`g_${this.#r}_hcm_filter`,g=a.filter=this.#g(f);this.#m(h,h,h,g),this.#p(g);const m=(y,x)=>{const b=l[y]/255,S=c[y]/255,E=new Array(x+1);for(let T=0;T<=x;T++)E[T]=b+T/x*(S-b);return E.join(",")};return this.#m(m(0,5),m(1,5),m(2,5),g),a.url=this.#u(f),a.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[n]=this.#h([e]),r=`alpha_${n}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const a=`g_${this.#r}_alpha_map_${this.#a++}`,l=this.#u(a);this.#o.set(e,l),this.#o.set(r,l);const c=this.#g(a);return this.#v(n,c),l}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let n,r;if(e?([n]=this.#h([e]),r=`luminosity_${n}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const a=`g_${this.#r}_luminosity_map_${this.#a++}`,l=this.#u(a);this.#o.set(e,l),this.#o.set(r,l);const c=this.#g(a);return this.#f(c),e&&this.#v(n,c),l}addHighlightHCMFilter(e,t,n,r,a){const l=`${t}-${n}-${r}-${a}`;let c=this.#d.get(e);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#d.set(e,c)),!t||!n))return c.url;const[d,h]=[t,n].map(this.#y.bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[m,y]=[r,a].map(this.#y.bind(this));g<f&&([f,g,m,y]=[g,f,y,m]),this.#l.style.color="";const x=(E,T,C)=>{const P=new Array(256),R=(g-f)/C,L=E/255,N=(T-E)/(255*C);let D=0;for(let j=0;j<=C;j++){const B=Math.round(f+j*R),G=L+j*N;for(let Y=D;Y<=B;Y++)P[Y]=G;D=B+1}for(let j=D;j<256;j++)P[j]=P[D-1];return P.join(",")},b=`g_${this.#r}_hcm_${e}_filter`,S=c.filter=this.#g(b);return this.#p(S),this.#m(x(m[0],y[0],5),x(m[1],y[1],5),x(m[2],y[2],5),S),c.url=this.#u(b),c.url}destroy(e=!1){e&&this.#s?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#a=0)}#f(e){const t=this.#i.createElementNS(Ir,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){const t=this.#i.createElementNS(Ir,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#g(e){const t=this.#i.createElementNS(Ir,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#c(e,t,n){const r=this.#i.createElementNS(Ir,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#m(e,t,n,r){const a=this.#i.createElementNS(Ir,"feComponentTransfer");r.append(a),this.#c(a,"feFuncR",e),this.#c(a,"feFuncG",t),this.#c(a,"feFuncB",n)}#v(e,t){const n=this.#i.createElementNS(Ir,"feComponentTransfer");t.append(n),this.#c(n,"feFuncA",e)}#y(e){return this.#l.style.color=e,gp(getComputedStyle(this.#l).getPropertyValue("color"))}}class Ob{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ve("Abstract method `_fetch` called.")}}class Fv extends Ob{async _fetch(e){const t=await eo(e,"arraybuffer");return new Uint8Array(t)}}class Db{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ve("Abstract method `_fetch` called.")}}class jv extends Db{async _fetch(e){const t=await eo(e,"arraybuffer");return new Uint8Array(t)}}Jt&&Pe("Please use the `legacy` build in Node.js environments.");async function wp(s){const t=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(t)}class sP extends Ib{}class iP extends Lb{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class oP extends Mb{async _fetch(e){return wp(e)}}class aP extends Ob{async _fetch(e){return wp(e)}}class lP extends Db{async _fetch(e){return wp(e)}}const jt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Nf(s,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,n),s.clip(r)}class bp{isModifyingCurrentTransform(){return!1}getPattern(){Ve("Abstract method `getPattern` called.")}}class cP extends bp{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let a;if(r===jt.STROKE||r===jt.FILL){const l=t.current.getClippedPathBoundingBox(r,at(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,d),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-l[0],-l[1]),n=ye.transform(n,[1,0,0,1,l[0],l[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),Nf(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(h.canvas,"no-repeat");const g=new DOMMatrix(n);a.setTransform(g)}else Nf(e,this._bbox),a=this._createGradient(e);return a}}function Rh(s,e,t,n,r,a,l,c){const d=e.coords,h=e.colors,f=s.data,g=s.width*4;let m;d[t+1]>d[n+1]&&(m=t,t=n,n=m,m=a,a=l,l=m),d[n+1]>d[r+1]&&(m=n,n=r,r=m,m=l,l=c,c=m),d[t+1]>d[n+1]&&(m=t,t=n,n=m,m=a,a=l,l=m);const y=(d[t]+e.offsetX)*e.scaleX,x=(d[t+1]+e.offsetY)*e.scaleY,b=(d[n]+e.offsetX)*e.scaleX,S=(d[n+1]+e.offsetY)*e.scaleY,E=(d[r]+e.offsetX)*e.scaleX,T=(d[r+1]+e.offsetY)*e.scaleY;if(x>=T)return;const C=h[a],P=h[a+1],R=h[a+2],L=h[l],N=h[l+1],D=h[l+2],j=h[c],B=h[c+1],G=h[c+2],Y=Math.round(x),Q=Math.round(T);let X,re,U,V,K,ee,te,O;for(let H=Y;H<=Q;H++){if(H<S){const ce=H<x?0:(x-H)/(x-S);X=y-(y-b)*ce,re=C-(C-L)*ce,U=P-(P-N)*ce,V=R-(R-D)*ce}else{let ce;H>T?ce=1:S===T?ce=0:ce=(S-H)/(S-T),X=b-(b-E)*ce,re=L-(L-j)*ce,U=N-(N-B)*ce,V=D-(D-G)*ce}let ie;H<x?ie=0:H>T?ie=1:ie=(x-H)/(x-T),K=y-(y-E)*ie,ee=C-(C-j)*ie,te=P-(P-B)*ie,O=R-(R-G)*ie;const ae=Math.round(Math.min(X,K)),oe=Math.round(Math.max(X,K));let le=g*H+ae*4;for(let ce=ae;ce<=oe;ce++)ie=(X-ce)/(X-K),ie<0?ie=0:ie>1&&(ie=1),f[le++]=re-(re-ee)*ie|0,f[le++]=U-(U-te)*ie|0,f[le++]=V-(V-O)*ie|0,f[le++]=255}}function uP(s,e,t){const n=e.coords,r=e.colors;let a,l;switch(e.type){case"lattice":const c=e.verticesPerRow,d=Math.floor(n.length/c)-1,h=c-1;for(a=0;a<d;a++){let f=a*c;for(let g=0;g<h;g++,f++)Rh(s,t,n[f],n[f+1],n[f+c],r[f],r[f+1],r[f+c]),Rh(s,t,n[f+c+1],n[f+1],n[f+c],r[f+c+1],r[f+1],r[f+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)Rh(s,t,n[a],n[a+1],n[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class dP extends bp{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),y=h/g,x=f/m,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/y,scaleY:1/x},S=g+4,E=m+4,T=n.getCanvas("mesh",S,E),C=T.context,P=C.createImageData(g,m);if(t){const L=P.data;for(let N=0,D=L.length;N<D;N+=4)L[N]=t[0],L[N+1]=t[1],L[N+2]=t[2],L[N+3]=255}for(const L of this._figures)uP(P,L,b);return C.putImageData(P,2,2),{canvas:T.canvas,offsetX:c-2*y,offsetY:d-2*x,scaleX:y,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,r){Nf(e,this._bbox);const a=new Float32Array(2);if(r===jt.SHADING)ye.singularValueDecompose2dScale(at(e),a);else if(this.matrix){ye.singularValueDecompose2dScale(this.matrix,a);const[c,d]=a;ye.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=c,a[1]*=d}else ye.singularValueDecompose2dScale(t.baseTransform,a);const l=this._createMeshCanvas(a,r===jt.SHADING?null:this._background,t.cachedCanvases);return r!==jt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class hP extends bp{getPattern(){return"hotpink"}}function fP(s){switch(s[0]){case"RadialAxial":return new cP(s);case"Mesh":return new dP(s);case"Dummy":return new hP}throw new Error(`Unknown IR type: ${s[0]}`)}const $v={COLORED:1,UNCOLORED:2};class xp{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:a,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),ou("TilingType: "+a);const f=t[0],g=t[1],m=t[2],y=t[3],x=m-f,b=y-g,S=new Float32Array(2);ye.singularValueDecompose2dScale(this.matrix,S);const[E,T]=S;ye.singularValueDecompose2dScale(this.baseTransform,S);const C=E*S[0],P=T*S[1];let R=x,L=b,N=!1,D=!1;const j=Math.ceil(d*C),B=Math.ceil(h*P),G=Math.ceil(x*C),Y=Math.ceil(b*P);j>=G?R=d:N=!0,B>=Y?L=h:D=!0;const Q=this.getSizeAndScale(R,this.ctx.canvas.width,C),X=this.getSizeAndScale(L,this.ctx.canvas.height,P),re=e.cachedCanvases.getCanvas("pattern",Q.size,X.size),U=re.context,V=c.createCanvasGraphics(U);if(V.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(V,r,l),U.translate(-Q.scale*f,-X.scale*g),V.transform(Q.scale,0,0,X.scale,0,0),U.save(),this.clipBbox(V,f,g,m,y),V.baseTransform=at(V.ctx),V.executeOperatorList(n),V.endDrawing(),U.restore(),N||D){const K=re.canvas;N&&(R=d),D&&(L=h);const ee=this.getSizeAndScale(R,this.ctx.canvas.width,C),te=this.getSizeAndScale(L,this.ctx.canvas.height,P),O=ee.size,H=te.size,ie=e.cachedCanvases.getCanvas("pattern-workaround",O,H),ae=ie.context,oe=N?Math.floor(x/d):0,le=D?Math.floor(b/h):0;for(let ce=0;ce<=oe;ce++)for(let Ee=0;Ee<=le;Ee++)ae.drawImage(K,O*ce,H*Ee,O,H,0,0,O,H);return{canvas:ie.canvas,scaleX:ee.scale,scaleY:te.scale,offsetX:f,offsetY:g}}return{canvas:re.canvas,scaleX:Q.scale,scaleY:X.scale,offsetX:f,offsetY:g}}getSizeAndScale(e,t,n){const r=Math.max(xp.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=r?a=r:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,r,a){const l=r-t,c=a-n;e.ctx.rect(t,n,l,c),ye.axialAlignedBoundingBox([t,n,r,a],at(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,a=e.current;switch(t){case $v.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=a.fillColor=l,r.strokeStyle=a.strokeColor=c;break;case $v.UNCOLORED:r.fillStyle=r.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new F2(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,r){let a=n;r!==jt.SHADING&&(a=ye.transform(a,t.baseTransform),this.matrix&&(a=ye.transform(a,this.matrix)));const l=this.createPatternCanvas(t);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(c),d}}function pP({src:s,srcPos:e=0,dest:t,width:n,height:r,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=Mt.isLittleEndian?4278190080:255,[d,h]=l?[a,c]:[c,a],f=n>>3,g=n&7,m=s.length;t=new Uint32Array(t.buffer);let y=0;for(let x=0;x<r;x++){for(const S=e+f;e<S;e++){const E=e<m?s[e]:255;t[y++]=E&128?h:d,t[y++]=E&64?h:d,t[y++]=E&32?h:d,t[y++]=E&16?h:d,t[y++]=E&8?h:d,t[y++]=E&4?h:d,t[y++]=E&2?h:d,t[y++]=E&1?h:d}if(g===0)continue;const b=e<m?s[e++]:255;for(let S=0;S<g;S++)t[y++]=b&1<<7-S?h:d}return{srcPos:e,destPos:y}}const Bv=16,zv=100,gP=15,Hv=10,dn=16,Ph=new DOMMatrix,Cn=new Float32Array(2),Ni=new Float32Array([1/0,1/0,-1/0,-1/0]);function mP(s,e){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){e.save(),this.__originalSave()},s.restore=function(){e.restore(),this.__originalRestore()},s.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},s.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},s.transform=function(t,n,r,a,l,c){e.transform(t,n,r,a,l,c),this.__originalTransform(t,n,r,a,l,c)},s.setTransform=function(t,n,r,a,l,c){e.setTransform(t,n,r,a,l,c),this.__originalSetTransform(t,n,r,a,l,c)},s.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},s.rotate=function(t){e.rotate(t),this.__originalRotate(t)},s.clip=function(t){e.clip(t),this.__originalClip(t)},s.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},s.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},s.bezierCurveTo=function(t,n,r,a,l,c){e.bezierCurveTo(t,n,r,a,l,c),this.__originalBezierCurveTo(t,n,r,a,l,c)},s.rect=function(t,n,r,a){e.rect(t,n,r,a),this.__originalRect(t,n,r,a)},s.closePath=function(){e.closePath(),this.__originalClosePath()},s.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class vP{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function lc(s,e,t,n,r,a,l,c,d,h){const[f,g,m,y,x,b]=at(s);if(g===0&&m===0){const T=l*f+x,C=Math.round(T),P=c*y+b,R=Math.round(P),L=(l+d)*f+x,N=Math.abs(Math.round(L)-C)||1,D=(c+h)*y+b,j=Math.abs(Math.round(D)-R)||1;return s.setTransform(Math.sign(f),0,0,Math.sign(y),C,R),s.drawImage(e,t,n,r,a,0,0,N,j),s.setTransform(f,g,m,y,x,b),[N,j]}if(f===0&&y===0){const T=c*m+x,C=Math.round(T),P=l*g+b,R=Math.round(P),L=(c+h)*m+x,N=Math.abs(Math.round(L)-C)||1,D=(l+d)*g+b,j=Math.abs(Math.round(D)-R)||1;return s.setTransform(0,Math.sign(g),Math.sign(m),0,C,R),s.drawImage(e,t,n,r,a,0,0,j,N),s.setTransform(f,g,m,y,x,b),[j,N]}s.drawImage(e,t,n,r,a,l,c,d,h);const S=Math.hypot(f,g),E=Math.hypot(m,y);return[S*d,E*h]}class Uv{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Tf;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Wt.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t){this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Ni.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=jt.FILL,t=null){const n=this.minMax.slice();if(e===jt.STROKE){t||Ve("Stroke bounding box must include transform."),ye.singularValueDecompose2dScale(t,Cn);const r=Cn[0]*this.lineWidth/2,a=Cn[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const e=ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Ni,0)}getClippedPathBoundingBox(e=jt.FILL,t=null){return ye.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Vv(s,e){if(e instanceof ImageData){s.putImageData(e,0,0);return}const t=e.height,n=e.width,r=t%dn,a=(t-r)/dn,l=r===0?a:a+1,c=s.createImageData(n,dn);let d=0,h;const f=e.data,g=c.data;let m,y,x,b;if(e.kind===sa.GRAYSCALE_1BPP){const S=f.byteLength,E=new Uint32Array(g.buffer,0,g.byteLength>>2),T=E.length,C=n+7>>3,P=4294967295,R=Mt.isLittleEndian?4278190080:255;for(m=0;m<l;m++){for(x=m<a?dn:r,h=0,y=0;y<x;y++){const L=S-d;let N=0;const D=L>C?n:L*8-7,j=D&-8;let B=0,G=0;for(;N<j;N+=8)G=f[d++],E[h++]=G&128?P:R,E[h++]=G&64?P:R,E[h++]=G&32?P:R,E[h++]=G&16?P:R,E[h++]=G&8?P:R,E[h++]=G&4?P:R,E[h++]=G&2?P:R,E[h++]=G&1?P:R;for(;N<D;N++)B===0&&(G=f[d++],B=128),E[h++]=G&B?P:R,B>>=1}for(;h<T;)E[h++]=0;s.putImageData(c,0,m*dn)}}else if(e.kind===sa.RGBA_32BPP){for(y=0,b=n*dn*4,m=0;m<a;m++)g.set(f.subarray(d,d+b)),d+=b,s.putImageData(c,0,y),y+=dn;m<l&&(b=n*r*4,g.set(f.subarray(d,d+b)),s.putImageData(c,0,y))}else if(e.kind===sa.RGB_24BPP)for(x=dn,b=n*x,m=0;m<l;m++){for(m>=a&&(x=r,b=n*x),h=0,y=b;y--;)g[h++]=f[d++],g[h++]=f[d++],g[h++]=f[d++],g[h++]=255;s.putImageData(c,0,m*dn)}else throw new Error(`bad image kind: ${e.kind}`)}function Wv(s,e){if(e.bitmap){s.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,r=t%dn,a=(t-r)/dn,l=r===0?a:a+1,c=s.createImageData(n,dn);let d=0;const h=e.data,f=c.data;for(let g=0;g<l;g++){const m=g<a?dn:r;({srcPos:d}=pP({src:h,srcPos:d,dest:f,width:n,height:m,nonBlackColor:0})),s.putImageData(c,0,g*dn)}}function Ko(s,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)s[n]!==void 0&&(e[n]=s[n]);s.setLineDash!==void 0&&(e.setLineDash(s.getLineDash()),e.lineDashOffset=s.lineDashOffset)}function cc(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:e}=s;e!=="none"&&e!==""&&(s.filter="none")}function Gv(s,e){if(e)return!0;ye.singularValueDecompose2dScale(s,Cn);const t=Math.fround(rr.pixelRatio*Qs.PDF_TO_CSS_UNITS);return Cn[0]<=t&&Cn[1]<=t}const yP=["butt","round","square"],wP=["miter","round","bevel"],bP={},qv={};class Oi{constructor(e,t,n,r,a,{optionalContentConfig:l,markedContentStack:c=null},d,h){this.ctx=e,this.current=new Uv(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new vP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const d=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...at(this.compositeCtx))}this.ctx.save(),cc(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=at(this.ctx)}executeOperatorList(e,t,n,r){const a=e.argsArray,l=e.fnArray;let c=t||0;const d=a.length;if(d===c)return c;const h=d-c>Hv&&typeof n=="function",f=h?Date.now()+gP:0;let g=0;const m=this.commonObjs,y=this.objs;let x;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,n),c;if(x=l[c],x!==ga.dependency)this[x].apply(this,a[c]);else for(const b of a[c]){const S=b.startsWith("g_")?m:y;if(!S.has(b))return S.get(b,n),c}if(c++,c===d)return c;if(h&&++g>Hv){if(Date.now()>f)return n(),c;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,r=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=n,d=r,h="prescale1",f,g;for(;a>2&&c>1||l>2&&d>1;){let m=c,y=d;a>2&&c>1&&(m=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/m),l>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/y),f=this.cachedCanvases.getCanvas(h,m,y),g=f.context,g.clearRect(0,0,m,y),g.drawImage(e,0,0,c,d,0,0,m,y),e=f.canvas,c=m,d=y,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,a=this.current.fillColor,l=this.current.patternFill,c=at(t);let d,h,f,g;if((e.bitmap||e.data)&&e.count>1){const j=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),a]),d=this._cachedBitmapsMap.get(j),d||(d=new Map,this._cachedBitmapsMap.set(j,d));const B=d.get(h);if(B&&!l){const G=Math.round(Math.min(c[0],c[2])+c[4]),Y=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:B,offsetX:G,offsetY:Y}}f=B}f||(g=this.cachedCanvases.getCanvas("maskCanvas",n,r),Wv(g.context,e));let m=ye.transform(c,[1/n,0,0,-1/r,0,0]);m=ye.transform(m,[1,0,0,1,0,-r]);const y=Ni.slice();ye.axialAlignedBoundingBox([0,0,n,r],m,y);const[x,b,S,E]=y,T=Math.round(S-x)||1,C=Math.round(E-b)||1,P=this.cachedCanvases.getCanvas("fillCanvas",T,C),R=P.context,L=x,N=b;R.translate(-L,-N),R.transform(...m),f||(f=this._scaleImage(g.canvas,mr(R)),f=f.img,d&&l&&d.set(h,f)),R.imageSmoothingEnabled=Gv(at(R),e.interpolate),lc(R,f,0,0,f.width,f.height,0,0,n,r),R.globalCompositeOperation="source-in";const D=ye.transform(mr(R),[1,0,0,1,-L,-N]);return R.fillStyle=l?a.getPattern(t,this,D,jt.FILL):a,R.fillRect(0,0,n,r),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,P.canvas)),{canvas:P.canvas,offsetX:Math.round(L),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=yP[e]}setLineJoin(e){this.ctx.lineJoin=wP[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),Ko(this.suspendedCtx,a),mP(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ko(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const a=r[0],l=r[1],c=r[2]-a,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(t.context,n,c,d,t.subtype,t.backdrop,t.transferMap,a,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,a,l,c,d,h,f,g){let m=e.canvas,y=d-f,x=h-g;if(l)if(y<0||x<0||y+n>m.width||x+r>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,r),E=S.context;E.drawImage(m,-y,-x),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,n,r),E.globalCompositeOperation="source-over",m=S.canvas,y=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(y,x,n,r),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(y,x,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(d,h,n,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(m,y,x,n,r,d,h,n,r),t.restore()}save(){this.inSMaskMode&&Ko(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ko(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,n,r,a,l){this.ctx.transform(e,t,n,r,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){let[r]=t;if(!n){r||=t[0]=new Path2D,this[e](r);return}if(!(r instanceof Path2D)){const a=t[0]=new Path2D;for(let l=0,c=r.length;l<c;)switch(r[l++]){case ic.moveTo:a.moveTo(r[l++],r[l++]);break;case ic.lineTo:a.lineTo(r[l++],r[l++]);break;case ic.curveTo:a.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case ic.closePath:a.closePath();break;default:Pe(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=a}ye.axialAlignedBoundingBox(n,at(this.ctx),this.current.minMax),this[e](r)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const a=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,mr(n),jt.STROKE),a){const l=new Path2D;l.addPath(e,n.getTransform().invertSelf().multiplySelf(a)),e=l}this.rescaleAndStroke(e,!1),n.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(jt.STROKE,at(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const n=this.ctx,r=this.current.fillColor,a=this.current.patternFill;let l=!1;if(a){const d=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,mr(n),jt.FILL),d){const h=new Path2D;h.addPath(e,n.getTransform().invertSelf().multiplySelf(d)),e=h}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(n.fill(e,"evenodd"),this.pendingEOFill=!1):n.fill(e)),l&&n.restore(),t&&this.consumePath(e,c)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=bP}eoClip(){this.pendingClip=qv}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const n=new Path2D,r=t.getTransform().invertSelf();for(const{transform:a,x:l,y:c,fontSize:d,path:h}of e)n.addPath(h,new DOMMatrix(a).preMultiplySelf(r).translate(l,c).scale(d,-d));t.clip(n),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||Tf,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Pe("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=n.systemFontInfo?.css||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const d=n.italic?"italic":"normal";let h=t;t<Bv?h=Bv:t>zv&&(h=zv),this.current.fontSizeScale=t/h,this.ctx.font=`${d} ${c} ${h}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,t,n){const r=new Path2D;return r.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),r}paintChar(e,t,n,r,a){const l=this.ctx,c=this.current,d=c.font,h=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,g=h&Wt.FILL_STROKE_MASK,m=!!(h&Wt.ADD_TO_PATH_FLAG),y=c.patternFill&&!d.missingFile,x=c.patternStroke&&!d.missingFile;let b;if((d.disableFontFace||m||y||x)&&(b=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||y||x){l.save(),l.translate(t,n),l.scale(f,-f);let S;if((g===Wt.FILL||g===Wt.FILL_STROKE)&&(r?(S=l.getTransform(),l.setTransform(...r),l.fill(this.#n(b,S,r))):l.fill(b)),g===Wt.STROKE||g===Wt.FILL_STROKE)if(a){S||=l.getTransform(),l.setTransform(...a);const{a:E,b:T,c:C,d:P}=S,R=ye.inverseTransform(a),L=ye.transform([E,T,C,P,0,0],R);ye.singularValueDecompose2dScale(L,Cn),l.lineWidth*=Math.max(Cn[0],Cn[1])/f,l.stroke(this.#n(b,S,a))}else l.lineWidth/=f,l.stroke(b);l.restore()}else(g===Wt.FILL||g===Wt.FILL_STROKE)&&l.fillText(e,t,n),(g===Wt.STROKE||g===Wt.FILL_STROKE)&&l.strokeText(e,t,n);m&&(this.pendingTextPaths||=[]).push({transform:at(l),x:t,y:n,fontSize:f,path:b})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Ie(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const a=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,h=t.fontDirection,f=t.textHScale*h,g=e.length,m=n.vertical,y=m?1:-1,x=n.defaultVMetrics,b=r*t.fontMatrix[0],S=t.textRenderingMode===Wt.FILL&&!n.disableFontFace&&!t.patternFill;a.save(),t.textMatrix&&a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),h>0?a.scale(f,-1):a.scale(f,1);let E,T;if(t.patternFill){a.save();const N=t.fillColor.getPattern(a,this,mr(a),jt.FILL);E=at(a),a.restore(),a.fillStyle=N}if(t.patternStroke){a.save();const N=t.strokeColor.getPattern(a,this,mr(a),jt.STROKE);T=at(a),a.restore(),a.strokeStyle=N}let C=t.lineWidth;const P=t.textMatrixScale;if(P===0||C===0){const N=t.textRenderingMode&Wt.FILL_STROKE_MASK;(N===Wt.STROKE||N===Wt.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=P;if(l!==1&&(a.scale(l,l),C/=l),a.lineWidth=C,n.isInvalidPDFjsFont){const N=[];let D=0;for(const j of e)N.push(j.unicode),D+=j.width;a.fillText(N.join(""),0,0),t.x+=D*b*f,a.restore(),this.compose();return}let R=0,L;for(L=0;L<g;++L){const N=e[L];if(typeof N=="number"){R+=y*N*r/1e3;continue}let D=!1;const j=(N.isSpace?d:0)+c,B=N.fontChar,G=N.accent;let Y,Q,X=N.width;if(m){const U=N.vmetric||x,V=-(N.vmetric?U[1]:X*.5)*b,K=U[2]*b;X=U?-U[0]:X,Y=V/l,Q=(R+K)/l}else Y=R/l,Q=0;if(n.remeasure&&X>0){const U=a.measureText(B).width*1e3/r*l;if(X<U&&this.isFontSubpixelAAEnabled){const V=X/U;D=!0,a.save(),a.scale(V,1),Y/=V}else X!==U&&(Y+=(X-U)/2e3*r/l)}if(this.contentVisible&&(N.isInFont||n.missingFile)){if(S&&!G)a.fillText(B,Y,Q);else if(this.paintChar(B,Y,Q,E,T),G){const U=Y+r*G.offset.x/l,V=Q-r*G.offset.y/l;this.paintChar(G.fontChar,U,V,E,T)}}const re=m?X*b-j*h:X*b+j*h;R+=re,D&&a.restore()}m?t.y-=R:t.x+=R*f,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,a=n.fontSize,l=n.fontDirection,c=r.vertical?1:-1,d=n.charSpacing,h=n.wordSpacing,f=n.textHScale*l,g=n.fontMatrix||Tf,m=e.length,y=n.textRenderingMode===Wt.INVISIBLE;let x,b,S,E;if(!(y||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),n.textMatrix&&t.transform(...n.textMatrix),t.translate(n.x,n.y+n.textRise),t.scale(f,l),x=0;x<m;++x){if(b=e[x],typeof b=="number"){E=c*b*a/1e3,this.ctx.translate(E,0),n.x+=E*f;continue}const T=(b.isSpace?h:0)+d,C=r.charProcOperatorList[b.operatorListId];C?this.contentVisible&&(this.save(),t.scale(a,a),t.transform(...g),this.executeOperatorList(C),this.restore()):Pe(`Type3 character "${b.operatorListId}" is not available.`);const P=[b.width,0];ye.applyTransform(P,g),S=P[0]*a+T,t.translate(S,0),n.x+=S*f}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,a,l){const c=new Path2D;c.rect(n,r,a-n,l-r),this.ctx.clip(c),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=this.baseTransform||at(this.ctx),r={createCanvasGraphics:a=>new Oi(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new xp(e,this.ctx,r,n)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=fP(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,mr(t),jt.SHADING);const r=mr(t);if(r){const{width:a,height:l}=t.canvas,c=Ni.slice();ye.axialAlignedBoundingBox([0,0,a,l],r,c);const[d,h,f,g]=c;this.ctx.fillRect(d,h,f-d,g-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ve("Should not call beginInlineImage")}beginImageData(){Ve("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=at(this.ctx),t)){ye.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[n,r,a,l]=t,c=new Path2D;c.rect(n,r,a-n,l-r),this.ctx.clip(c),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||ou("TODO: Support non-isolated groups."),e.knockout&&Pe("Knockout groups not supported.");const n=at(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Ni.slice();ye.axialAlignedBoundingBox(e.bbox,at(t),r);const a=[0,0,t.canvas.width,t.canvas.height];r=ye.intersect(r,a)||[0,0,0,0];const l=Math.floor(r[0]),c=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-l,1),h=Math.max(Math.ceil(r[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,h]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,d,h),m=g.context;m.translate(-l,-c),m.transform(...n);let y=new Path2D;const[x,b,S,E]=e.bbox;if(y.rect(x,b,S-x,E-b),e.matrix){const T=new Path2D;T.addPath(y,new DOMMatrix(e.matrix)),y=T}m.clip(y),e.smask?this.smaskStack.push({canvas:g.canvas,context:m,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.save()),Ko(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=at(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const a=Ni.slice();ye.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r,a),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,n,r,a){if(this.#e(),cc(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],c=t[3]-t[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=c,ye.singularValueDecompose2dScale(at(this.ctx),Cn);const{viewportScale:d}=this,h=Math.ceil(l*this.outputScaleX*d),f=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(Cn[0],0,0,-Cn[1],0,c*Cn[1]),cc(this.ctx)}else{cc(this.ctx),this.endPath();const d=new Path2D;d.rect(t[0],t[1],l,c),this.ctx.clip(d)}}this.current=new Uv(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,r=this._createMaskCanvas(e),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,r=0,a,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const c=this.ctx;c.save();const d=at(c);c.transform(t,n,r,a,0,0);const h=this._createMaskCanvas(e);c.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]);for(let f=0,g=l.length;f<g;f+=2){const m=ye.transform(d,[t,n,r,a,l[f],l[f+1]]);c.drawImage(h.canvas,m[4],m[5])}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const a of e){const{data:l,width:c,height:d,transform:h}=a,f=this.cachedCanvases.getCanvas("maskCanvas",c,d),g=f.context;g.save();const m=this.getObject(l,a);Wv(g,m),g.globalCompositeOperation="source-in",g.fillStyle=r?n.getPattern(g,this,mr(t),jt.FILL):n,g.fillRect(0,0,c,d),g.restore(),t.save(),t.transform(...h),t.scale(1,-1),lc(t,f.canvas,0,0,c,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Pe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Pe("Dependent image isn't ready yet");return}const l=a.width,c=a.height,d=[];for(let h=0,f=r.length;h<f;h+=2)d.push({transform:[t,0,0,n,r[h],r[h+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:r}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,r),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;this.save();const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none"),r.scale(1/t,-1/n);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,n).context;Vv(h,e),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,mr(r));r.imageSmoothingEnabled=Gv(at(r),e.interpolate),lc(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const a=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",a,l).context;Vv(d,e),r=this.applyTransferMapsToCanvas(d)}for(const a of t)n.save(),n.transform(...a.transform),n.scale(1,-1),lc(n,r,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===qv?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=at(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:a}=this.ctx.getTransform();let l,c;if(n===0&&r===0){const d=Math.abs(t),h=Math.abs(a);if(d===h)if(e===0)l=c=1/d;else{const f=d*e;l=c=f<1?1/f:1}else if(e===0)l=1/d,c=1/h;else{const f=d*e,g=h*e;l=f<1?1/f:1,c=g<1?1/g:1}}else{const d=Math.abs(t*a-n*r),h=Math.hypot(t,n),f=Math.hypot(r,a);if(e===0)l=f/d,c=h/d;else{const g=e*d;l=f>g?f/g:1,c=h>g?h/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:r}}=this,[a,l]=this.getScaleForStroking();if(a===l){n.lineWidth=(r||1)*a,n.stroke(e);return}const c=n.getLineDash();t&&n.save(),n.scale(a,l),Ph.a=1/a,Ph.d=1/l;const d=new Path2D;if(d.addPath(e,Ph),c.length>0){const h=Math.max(a,l);n.setLineDash(c.map(f=>f/h)),n.lineDashOffset/=h}n.lineWidth=r||1,n.stroke(d),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const s in ga)Oi.prototype[s]!==void 0&&(Oi.prototype[ga[s]]=Oi.prototype[s]);class vs{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class xP{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Ti=Symbol("INTERNAL");class SP{#e=!1;#t=!1;#n=!1;#r=!0;constructor(e,{name:t,intent:n,usage:r,rbGroups:a}){this.#e=!!(e&En.DISPLAY),this.#t=!!(e&En.PRINT),this.name=t,this.intent=n,this.usage=r,this.rbGroups=a}get visible(){if(this.#n)return this.#r;if(!this.#r)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,n=!1){e!==Ti&&Ve("Internal method `_setVisible` called."),this.#n=n,this.#r=t}}class EP{#e=null;#t=new Map;#n=null;#r=null;constructor(e,t=En.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#r=e.order;for(const n of e.groups)this.#t.set(n.id,new SP(t,n));if(e.baseState==="OFF")for(const n of this.#t.values())n._setVisible(Ti,!1);for(const n of e.on)this.#t.get(n)._setVisible(Ti,!0);for(const n of e.off)this.#t.get(n)._setVisible(Ti,!1);this.#n=this.getHash()}}#i(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const a=e[r];let l;if(Array.isArray(a))l=this.#i(a);else if(this.#t.has(a))l=this.#t.get(a).visible;else return Pe(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return ou("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Pe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Pe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Pe(`Unknown optional content policy ${e.policy}.`),!0}return Pe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){const r=this.#t.get(e);if(!r){Pe(`Optional content group not found: ${e}`);return}if(n&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const l of a)l!==e&&this.#t.get(l)?._setVisible(Ti,!1,!0);r._setVisible(Ti,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let n;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const a=this.#t.get(r);if(a)switch(n){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!a.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new Rb;for(const[t,n]of this.#t)e.update(`${t}:${n.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class AP{constructor(e,{disableRange:t=!1,disableStream:n=!1}){bt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:l,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,a?.length>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,h)=>{this._onReceiveData({begin:d,chunk:h})}),e.addProgressListener((d,h)=>{this._onProgress({loaded:d,total:h})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(n),!0)});bt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){bt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new CP(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new _P(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class CP{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=lu(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _P{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function kP(s){let e=!0,t=n("filename\\*","i").exec(s);if(t){t=t[1];let f=c(t);return f=unescape(f),f=d(f),f=h(f),a(f)}if(t=l(s),t){const f=h(t);return a(f)}if(t=n("filename","i").exec(s),t){t=t[1];let f=c(t);return f=h(f),a(f)}function n(f,g){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(f,g){if(f){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const m=new TextDecoder(f,{fatal:!0}),y=Pa(g);g=m.decode(y),e=!1}catch{}}return g}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),e&&(f=r("iso-8859-1",f))),f}function l(f){const g=[];let m;const y=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(f))!==null;){let[,b,S,E]=m;if(b=parseInt(b,10),b in g){if(b===0)break;continue}g[b]=[S,E]}const x=[];for(let b=0;b<g.length&&b in g;++b){let[S,E]=g[b];E=c(E),S&&(E=unescape(E),b===0&&(E=d(E))),x.push(E)}return x.join("")}function c(f){if(f.startsWith('"')){const g=f.slice(1).split('\\"');for(let m=0;m<g.length;++m){const y=g[m].indexOf('"');y!==-1&&(g[m]=g[m].slice(0,y),g.length=m+1),g[m]=g[m].replaceAll(/\\(.)/g,"$1")}f=g.join('"')}return f}function d(f){const g=f.indexOf("'");if(g===-1)return f;const m=f.slice(0,g),x=f.slice(g+1).replace(/^[^']*'/,"");return r(m,x)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,m,y,x){if(y==="q"||y==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,S){return String.fromCharCode(parseInt(S,16))}),r(m,x);try{x=atob(x)}catch{}return r(m,x)})}return""}function Fb(s,e){const t=new Headers;if(!s||!e||typeof e!="object")return t;for(const n in e){const r=e[n];r!==void 0&&t.append(n,r)}return t}function cu(s){return URL.parse(s)?.origin??null}function jb({responseHeaders:s,isHttp:e,rangeChunkSize:t,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(s.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*t)||n||!e||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function $b(s){const e=s.get("Content-Disposition");if(e){let t=kP(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(lu(t))return t}return null}function Oa(s,e){return new ma(`Unexpected server response (${s}) while retrieving PDF "${e}".`,s,s===404||s===0&&e.startsWith("file:"))}function Bb(s){return s===200||s===206}function zb(s,e,t){return{method:"GET",headers:s,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Hb(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Pe(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class TP{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Fb(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return bt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new RP(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new PP(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class RP{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,zb(n,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=cu(a.url),!Bb(a.status))throw Oa(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:d}=jb({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=$b(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new $r("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Hb(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class PP{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${n-1}`);const l=r.url;fetch(l,zb(a,this._withCredentials,this._abortController)).then(c=>{const d=cu(c.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!Bb(c.status))throw Oa(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Hb(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Nh=200,Lh=206;function NP(s){const e=s.response;return typeof e!="string"?e:Pa(e).buffer}class LP{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Fb(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,l]of this.headers)t.setRequestHeader(a,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Lh):r.expectedStatus=Nh,t.responseType="arraybuffer",bt(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){n.onError(r.status);return}const a=r.status||Nh;if(!(a===Nh&&n.expectedStatus===Lh)&&a!==n.expectedStatus){n.onError(r.status);return}const c=NP(r);if(a===Lh){const d=r.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);h?n.onDone({begin:parseInt(h[1],10),chunk:c}):(Pe('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class MP{constructor(e){this._source=e,this._manager=new LP(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return bt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new IP(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new OP(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class IP{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=cu(t.responseURL);const n=t.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...h]=c.split(": ");return[d,h.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=jb({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=$b(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Oa(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class OP{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=cu(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Oa(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const DP=/^[a-z][a-z0-9\-+.]+:/i;function FP(s){if(DP.test(s))return new URL(s);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(s))}class jP{constructor(e){this.source=e,this.url=FP(e.url),bt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return bt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new $P(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new BP(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class $P{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Oa(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new $r("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BP{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Yo=Symbol("INITIAL_DATA");class Ub{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Yo}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const n=this.#e[e];if(!n||n.data===Yo)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#e[e];return!!t&&t.data!==Yo}delete(e){const t=this.#e[e];return!t||t.data===Yo?!1:(delete this.#e[e],!0)}resolve(e,t=null){const n=this.#t(e);n.data=t,n.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Yo&&(yield[e,t])}}}const zP=1e5,Xv=30;let va=class $n{#e=Promise.withResolvers();#t=null;#n=!1;#r=!!globalThis.FontInspector?.enabled;#i=null;#s=null;#a=0;#o=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#p=[];#g=null;#c=[];#m=new WeakMap;#v=null;static#y=new Map;static#b=new Map;static#x=new WeakMap;static#S=null;static#C=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#g=e;else if(typeof e=="object")this.#g=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#u=n.scale*rr.pixelRatio,this.#h=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:a,pageX:l,pageY:c}=n.rawDims;this.#v=[1,0,0,-1,-l,c+a],this.#o=r,this.#a=a,$n.#N(),ys(t,n),this.#e.promise.finally(()=>{$n.#C.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Mt.platform;return Ie(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#d.read().then(({value:t,done:n})=>{if(n){this.#e.resolve();return}this.#i??=t.lang,Object.assign(this.#f,t.styles),this.#k(t.items),e()},this.#e.reject)};return this.#d=this.#g.getReader(),$n.#C.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*rr.pixelRatio,r=e.rotation;if(r!==this.#h&&(t?.(),this.#h=r,ys(this.#l,{rotation:r})),n!==this.#u){t?.(),this.#u=n;const a={div:null,properties:null,ctx:$n.#T(this.#i)};for(const l of this.#c)a.properties=this.#m.get(l),a.div=l,this.#E(a)}}cancel(){const e=new $r("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#p}#k(e){if(this.#n)return;this.#s.ctx??=$n.#T(this.#i);const t=this.#c,n=this.#p;for(const r of e){if(t.length>zP){Pe("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id!==null&&this.#t.setAttribute("id",`${r.id}`),a.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}n.push(r.str),this.#R(r)}}#R(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#c.push(t);const r=ye.transform(this.#v,e.transform);let a=Math.atan2(r[1],r[0]);const l=this.#f[e.fontName];l.vertical&&(a+=Math.PI/2);let c=this.#r&&l.fontSubstitution||l.fontFamily;c=$n.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),h=d*$n.#L(c,l,this.#i);let f,g;a===0?(f=r[4],g=r[5]-h):(f=r[4]+h*Math.sin(a),g=r[5]-h*Math.cos(a));const m="calc(var(--total-scale-factor) *",y=t.style;this.#t===this.#l?(y.left=`${(100*f/this.#o).toFixed(2)}%`,y.top=`${(100*g/this.#a).toFixed(2)}%`):(y.left=`${m}${f.toFixed(2)}px)`,y.top=`${m}${g.toFixed(2)}px)`),y.fontSize=`${m}${($n.#S*d).toFixed(2)}px)`,y.fontFamily=c,n.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#r&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),a!==0&&(n.angle=a*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);b!==S&&Math.max(b,S)/Math.min(b,S)>1.5&&(x=!0)}if(x&&(n.canvasWidth=l.vertical?e.height:e.width),this.#m.set(t,n),this.#s.div=t,this.#s.properties=n,this.#E(this.#s),n.hasText&&this.#t.append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#E(e){const{div:t,properties:n,ctx:r}=e,{style:a}=t;let l="";if($n.#S>1&&(l=`scale(${1/$n.#S})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=a,{canvasWidth:d,fontSize:h}=n;$n.#_(r,h*this.#u,c);const{width:f}=r.measureText(t.textContent);f>0&&(l=`scaleX(${d*this.#u/f}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#C.size>0)){this.#y.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#T(e=null){let t=this.#b.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,t),this.#x.set(t,{size:0,family:""})}return t}static#_(e,t,n){const r=this.#x.get(e);t===r.size&&n===r.family||(e.font=`${t}px ${n}`,r.size=t,r.family=n)}static#N(){if(this.#S!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#S=e.getBoundingClientRect().height,e.remove()}static#L(e,t,n){const r=this.#y.get(e);if(r)return r;const a=this.#T(n);a.canvas.width=a.canvas.height=Xv,this.#_(a,Xv,e);const l=a.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let h=.8;return c?h=c/(c+d):(Mt.platform.isFirefox&&Pe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#y.set(e,h),h}};class ya{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function r(a){if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(ya.shouldBuildText(c))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&t.push({str:l}),!!a.children)for(const d of a.children)r(d)}return r(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const HP=100;function Sp(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const e=new Ep,{docId:t}=e,n=s.url?J2(s.url):null,r=s.data?Z2(s.data):null,a=s.httpHeaders||null,l=s.withCredentials===!0,c=s.password??null,d=s.range instanceof Ap?s.range:null,h=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let f=s.worker instanceof Ui?s.worker:null;const g=s.verbosity,m=typeof s.docBaseUrl=="string"&&!La(s.docBaseUrl)?s.docBaseUrl:null,y=oc(s.cMapUrl),x=s.cMapPacked!==!1,b=s.CMapReaderFactory||(Jt?oP:Dv),S=oc(s.iccUrl),E=oc(s.standardFontDataUrl),T=s.StandardFontDataFactory||(Jt?aP:Fv),C=oc(s.wasmUrl),P=s.WasmFactory||(Jt?lP:jv),R=s.stopAtErrors!==!0,L=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,N=s.isEvalSupported!==!1,D=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!Jt,j=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!Jt&&(Mt.platform.isFirefox||!globalThis.chrome),B=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,G=typeof s.disableFontFace=="boolean"?s.disableFontFace:Jt,Y=s.fontExtraProperties===!0,Q=s.enableXfa===!0,X=s.ownerDocument||globalThis.document,re=s.disableRange===!0,U=s.disableStream===!0,V=s.disableAutoFetch===!0,K=s.pdfBug===!0,ee=s.CanvasFactory||(Jt?iP:nP),te=s.FilterFactory||(Jt?sP:rP),O=s.enableHWA===!0,H=s.useWasm!==!1,ie=d?d.length:s.length??NaN,ae=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!Jt&&!G,oe=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(b===Dv&&T===Fv&&P===jv&&y&&E&&C&&Zo(y,document.baseURI)&&Zo(E,document.baseURI)&&Zo(C,document.baseURI)),le=null;I2(g);const ce={canvasFactory:new ee({ownerDocument:X,enableHWA:O}),filterFactory:new te({docId:t,ownerDocument:X}),cMapReaderFactory:oe?null:new b({baseUrl:y,isCompressed:x}),standardFontDataFactory:oe?null:new T({baseUrl:E}),wasmFactory:oe?null:new P({baseUrl:C})};f||(f=Ui.create({verbosity:g,port:vs.workerPort}),e._worker=f);const Ee={docId:t,apiVersion:"5.3.93",data:r,password:c,disableAutoFetch:V,rangeChunkSize:h,length:ie,docBaseUrl:m,enableXfa:Q,evaluatorOptions:{maxImageSize:L,disableFontFace:G,ignoreErrors:R,isEvalSupported:N,isOffscreenCanvasSupported:D,isImageDecoderSupported:j,canvasMaxAreaInBytes:B,fontExtraProperties:Y,useSystemFonts:ae,useWasm:H,useWorkerFetch:oe,cMapUrl:y,iccUrl:S,standardFontDataUrl:E,wasmUrl:C}},Ae={ownerDocument:X,pdfBug:K,styleElement:le,loadingParams:{disableAutoFetch:V,enableXfa:Q}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const we=f.messageHandler.sendWithPromise("GetDocRequest",Ee,r?[r.buffer]:null);let nt;if(d)nt=new AP(d,{disableRange:re,disableStream:U});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ge=Zo(n)?TP:Jt?jP:MP;nt=new Ge({url:n,length:ie,httpHeaders:a,withCredentials:l,rangeChunkSize:h,disableRange:re,disableStream:U})}return we.then(Ge=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const ke=new ea(t,Ge,f.port),Le=new WP(ke,e,nt,Ae,ce);e._transport=Le,ke.send("Ready",null)})}).catch(e._capability.reject),e}class Ep{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Ep.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Ap=class{#e=Promise.withResolvers();#t=[];#n=[];#r=[];#i=[];constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#r.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const n of this.#i)n(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const n of this.#r)n(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){Ve("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class UP{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class VP{#e=!1;constructor(e,t,n,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new Mv:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new Ub,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:a=!1}={}){return new Na({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ie(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:r=Sr.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:f=null,isEditing:g=!1}){this._stats?.time("Overall");const m=this._transport.getRenderingIntent(n,r,f,g),{renderingIntent:y,cacheKey:x}=m;this.#e=!1,c||=this._transport.getOptionalContentConfig(y);let b=this._intentStates.get(x);b||(b=Object.create(null),this._intentStates.set(x,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const S=!!(y&En.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m));const E=P=>{b.renderTasks.delete(T),S&&(this.#e=!0),this.#t(),P?(T.capability.reject(P),this._abortOperatorList({intentState:b,reason:P instanceof Error?P:new Error(P)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new Li({callback:E,params:{canvasContext:e,viewport:t,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:h});(b.renderTasks||=new Set).add(T);const C=T.task;return Promise.all([b.displayReadyCapability.promise,c]).then(([P,R])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(R.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:P,optionalContentConfig:R}),T.operatorListChanged()}).catch(E),C}getOperatorList({intent:e="display",annotationMode:t=Sr.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,n,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>ya.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,r){function a(){l.read().then(function({value:d,done:h}){if(h){n(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),a()},r)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new Mv),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:r}){const{map:a,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:r},l).getReader(),h=this._intentStates.get(t);h.streamReader=d;const f=()=>{d.read().then(({value:g,done:m})=>{if(m){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,h),f())},g=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const m of h.renderTasks)m.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(g);else if(h.opListReadCapability)h.opListReadCapability.reject(g);else throw g}})};f()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof au){let r=HP;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new $r(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var ps,Qn,Or,Hs,$c,Us,Vs,Zt,Ac,Vb,Wb,ta,ji,Cc;const et=class et{constructor({name:e=null,port:t=null,verbosity:n=O2()}={}){fr(this,Zt);fr(this,ps,Promise.withResolvers());fr(this,Qn,null);fr(this,Or,null);fr(this,Hs,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Ze(et,Vs).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Ze(et,Vs).set(t,this),pr(this,Zt,Vb).call(this,t)}else pr(this,Zt,Wb).call(this)}get promise(){return Ze(this,ps).promise}get port(){return Ze(this,Or)}get messageHandler(){return Ze(this,Qn)}destroy(){this.destroyed=!0,Ze(this,Hs)?.terminate(),ln(this,Hs,null),Ze(et,Vs).delete(Ze(this,Or)),ln(this,Or,null),Ze(this,Qn)?.destroy(),ln(this,Qn,null)}static create(e){const t=Ze(this,Vs).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new et(e)}static get workerSrc(){if(vs.workerSrc)return vs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ie(this,"_setupFakeWorkerGlobal",(async()=>Ze(this,ji,Cc)?Ze(this,ji,Cc):(await import(this.workerSrc)).WorkerMessageHandler)())}};ps=new WeakMap,Qn=new WeakMap,Or=new WeakMap,Hs=new WeakMap,$c=new WeakMap,Us=new WeakMap,Vs=new WeakMap,Zt=new WeakSet,Ac=function(){Ze(this,ps).resolve(),Ze(this,Qn).send("configure",{verbosity:this.verbosity})},Vb=function(e){ln(this,Or,e),ln(this,Qn,new ea("main","worker",e)),Ze(this,Qn).on("ready",()=>{}),pr(this,Zt,Ac).call(this)},Wb=function(){if(Ze(et,Us)||Ze(et,ji,Cc)){pr(this,Zt,ta).call(this);return}let{workerSrc:e}=et;try{et._isSameOrigin(window.location,e)||(e=et._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new ea("main","worker",t),r=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?Ze(this,ps).reject(new Error("Worker was destroyed")):pr(this,Zt,ta).call(this)},a=new AbortController;t.addEventListener("error",()=>{Ze(this,Hs)||r()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){r();return}ln(this,Qn,n),ln(this,Or,t),ln(this,Hs,t),pr(this,Zt,Ac).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){r();return}try{l()}catch{pr(this,Zt,ta).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{ou("The worker has been disabled.")}pr(this,Zt,ta).call(this)},ta=function(){Ze(et,Us)||(Pe("Setting up fake worker."),ln(et,Us,!0)),et._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Ze(this,ps).reject(new Error("Worker was destroyed"));return}const t=new tP;ln(this,Or,t);const n=`fake${r0(et,$c)._++}`,r=new ea(n+"_worker",n,t);e.setup(r,t),ln(this,Qn,new ea(n,n+"_worker",t)),pr(this,Zt,Ac).call(this)}).catch(e=>{Ze(this,ps).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},ji=new WeakSet,Cc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},fr(et,ji),fr(et,$c,0),fr(et,Us,!1),fr(et,Vs,new WeakMap),Jt&&(ln(et,Us,!0),vs.workerSrc||="./pdf.worker.mjs"),et._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||n.origin==="null")return!1;const r=new URL(t,n);return n.origin===r.origin},et._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},et.fromPort=e=>{if(V2("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return et.create(e)};let Ui=et;class WP{#e=new Map;#t=new Map;#n=new Map;#r=new Map;#i=null;constructor(e,t,n,r,a){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Ub,this.fontLoader=new Y2({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(e,t=null){const n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return Ie(this,"annotationStorage",new yp)}getRenderingIntent(e,t=Sr.ENABLE,n=null,r=!1,a=!1){let l=En.DISPLAY,c=Rf;switch(e){case"any":l=En.ANY;break;case"display":break;case"print":l=En.PRINT;break;default:Pe(`getRenderingIntent - invalid intent: ${e}`)}const d=l&En.PRINT&&n instanceof Pb?n:this.annotationStorage;switch(t){case Sr.DISABLE:l+=En.ANNOTATIONS_DISABLE;break;case Sr.ENABLE:break;case Sr.ENABLE_FORMS:l+=En.ANNOTATIONS_FORMS;break;case Sr.ENABLE_STORAGE:l+=En.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Pe(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=En.IS_EDITING),a&&(l+=En.OPLIST);const{ids:h,hash:f}=d.modifiedIds,g=[l,c.hash,f];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),va.cleanup(),this._networkStream?.cancelAllRequests(new $r("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,r)=>{bt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},r.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){r.close();return}bt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this._fullReader.cancel(a),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:l}=this._fullReader;return(!r||!a)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{t.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:l}}),e.on("GetRangeReader",(n,r)=>{bt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){r.close();return}bt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{a.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new UP(n,this))}),e.on("DocException",n=>{t._capability.reject(un(n))}),e.on("PasswordRequest",n=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw un(n);const r=a=>{a instanceof Error?this.#i.reject(a):this.#i.resolve({password:a})};t.onPassword(r,n.code)}catch(r){this.#i.reject(r)}return this.#i.promise}),e.on("DataLoaded",n=>{t.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,r,a])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in a){const h=a.error;Pe(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,c=new Q2(a,l);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(n,c)});break;case"CopyLocalImage":const{imageRef:d}=a;bt(d,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,f]of h.objs)if(f?.ref===d)return f.dataLen?(this.commonObjs.resolve(n,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([n,r,a,l])=>{if(this.destroyed)return;const c=this.#t.get(r);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",n=>{this.destroyed||t.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Pe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#n.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#r.set(a.refStr,e);const l=new VP(t,a,this,this._params.pdfBug);return this.#t.set(t,l),l});return this.#n.set(t,r),r}getPageIndex(e){return Pf(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(t=>new EP(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new xP(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),va.cleanup()}}cachedPageNumber(e){if(!Pf(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#r.get(t)??null}}class GP{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Li{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:r,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:g=!1,pageColors:m=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=h,this._pdfBug=g,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new GP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Li.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Li.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:a,background:l}=this.params;this.gfx=new Oi(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:r,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Li.#t.delete(this._canvas),e||=new au(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Li.#t.delete(this._canvas),this.callback())))}}const Gb="5.3.93",qb="cbeef3233";function Kv(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function Qo(s){return Math.max(0,Math.min(255,255*s))}class Yv{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Qo(e),[e,e,e]}static G_HTML([e]){const t=Kv(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Qo)}static RGB_HTML(e){return`#${e.map(Kv).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,n,r]){return[Qo(1-Math.min(1,e+r)),Qo(1-Math.min(1,n+r)),Qo(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const r=1-e,a=1-t,l=1-n,c=Math.min(r,a,l);return["CMYK",r,a,l,c]}}class qP{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ve("Abstract method `_createSVG` called.")}}class wa extends qP{_createSVG(e){return document.createElementNS(Ir,e)}}class Cp{static setupStorage(e,t,n,r,a){const l=r.getValue(t,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),a==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?e.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),a==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,h=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:r,linkService:a}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,h]of Object.entries(l))if(h!=null)switch(d){case"class":h.length&&e.setAttribute(d,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,h)}c&&a.addLinkAttributes(e,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(e,l.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,a=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:a,linkService:n});const c=a!=="richText",d=e.div;if(d.append(l),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=g}c&&d.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);l.append(g),c&&ya.shouldBuildText(r.name)&&h.push(g)}return{textDivs:h}}const f=[[r,-1,l]];for(;f.length>0;){const[g,m,y]=f.at(-1);if(m+1===g.children.length){f.pop();continue}const x=g.children[++f.at(-1)[1]];if(x===null)continue;const{name:b}=x;if(b==="#text"){const E=document.createTextNode(x.value);h.push(E),y.append(E);continue}const S=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,b):document.createElement(b);if(y.append(S),x.attributes&&this.setAttributes({html:S,element:x,storage:t,intent:a,linkService:n}),x.children?.length>0)f.push([x,-1,S]);else if(x.value){const E=document.createTextNode(x.value);c&&ya.shouldBuildText(b)&&h.push(E),S.append(E)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const XP=9,Js=new WeakSet;class Qv{static create(e){switch(e.data.annotationType){case dt.LINK:return new Xb(e);case dt.TEXT:return new KP(e);case dt.WIDGET:switch(e.data.fieldType){case"Tx":return new YP(e);case"Btn":return e.data.radioButton?new Kb(e):e.data.checkBox?new JP(e):new ZP(e);case"Ch":return new eN(e);case"Sig":return new QP(e)}return new ti(e);case dt.POPUP:return new Lf(e);case dt.FREETEXT:return new Yb(e);case dt.LINE:return new nN(e);case dt.SQUARE:return new rN(e);case dt.CIRCLE:return new sN(e);case dt.POLYLINE:return new Qb(e);case dt.CARET:return new oN(e);case dt.INK:return new _p(e);case dt.POLYGON:return new iN(e);case dt.HIGHLIGHT:return new Jb(e);case dt.UNDERLINE:return new aN(e);case dt.SQUIGGLY:return new lN(e);case dt.STRIKEOUT:return new cN(e);case dt.STAMP:return new Zb(e);case dt.FILEATTACHMENT:return new uN(e);default:return new mt(e)}}}class mt{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return mt._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#r(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#r(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#r(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:d}}}}=this;n?.splice(0,4,...e),t.left=`${100*(e[0]-c)/a}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof ti||(a.tabIndex=0);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof Lf){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,a),a}const{width:c,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(b>0||S>0){const T=`calc(${b}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof Kb){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=T}switch(t.borderStyle.style){case ki.SOLID:l.borderStyle="solid";break;case ki.DASHED:l.borderStyle="dashed";break;case ki.BEVELED:Pe("Unimplemented border style: beveled");break;case ki.INSET:Pe("Unimplemented border style: inset");break;case ki.UNDERLINE:l.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(this.#t=!0,l.borderColor=ye.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const h=ye.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:f,pageHeight:g,pageX:m,pageY:y}=r.rawDims;l.left=`${100*(h[0]-m)/f}%`,l.top=`${100*(h[1]-y)/g}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(l.width=`${100*c/f}%`,l.height=`${100*d/g}%`):this.setRotation(x,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:a,height:l}=this;e%180!==0&&([a,l]=[l,a]),t.style.width=`${100*a/n}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,r)=>{const a=r.detail[t],l=a[0],c=a.slice(1);r.target.style[n]=Yv[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:Yv[`${l}_rgb`](c)})};return Ie(this,"_commonActions",{display:t=>{const{display:n}=t.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||n[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,a]of Object.entries(t)){const l=n[r];if(l){const c={detail:{[r]:a},target:e};l(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,a]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,S,E,T]=e.subarray(2,6);if(r===b&&a===S&&t===E&&n===T)return}const{style:l}=this.container;let c;if(this.#t){const{borderColor:b,borderWidth:S}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const d=r-t,h=a-n,{svgFactory:f}=this,g=f.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const m=f.createElement("defs");g.append(m);const y=f.createElement("clipPath"),x=`clippath_${this.data.id}`;y.setAttribute("id",x),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let b=2,S=e.length;b<S;b+=8){const E=e[b],T=e[b+1],C=e[b+2],P=e[b+3],R=f.createElement("rect"),L=(C-t)/d,N=(a-T)/h,D=(E-C)/d,j=(T-P)/h;R.setAttribute("x",L),R.setAttribute("y",N),R.setAttribute("width",D),R.setAttribute("height",j),y.append(R),c?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${N}" width="${D}" height="${j}"/>`)}this.#t&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:e}=this,t=this.#n=new Lf({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){Ve("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:a,id:l,exportValues:c}of r){if(a===-1||l===t)continue;const d=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${l}"]`);if(h&&!Js.has(h)){Pe(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:h})}return n}for(const r of document.getElementsByName(e)){const{exportValue:a}=r,l=r.getAttribute("data-element-id");l!==t&&Js.has(r)&&n.push({id:l,exportValue:a,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Xb extends mt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this.#t(n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#n(n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,n=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const a=n.get(r);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Pe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(e.onclick=()=>!1);return}e.onclick=()=>{n?.();const{fields:r,refs:a,include:l}=t,c=[];if(r.length!==0||a.length!==0){const f=new Set(a);for(const g of r){const m=this._fieldObjects[g]||[];for(const{id:y}of m)f.add(y)}for(const g of Object.values(this._fieldObjects))for(const m of g)f.has(m.id)===l&&c.push(m)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const d=this.annotationStorage,h=[];for(const f of c){const{id:g}=f;switch(h.push(g),f.type){case"text":{const y=f.defaultValue||"";d.setValue(g,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;d.setValue(g,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";d.setValue(g,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${g}"]`);if(m){if(!Js.has(m)){Pe(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class KP extends mt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ti extends mt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Mt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,a){n.includes("mouse")?e.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(n,l=>{if(n==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l)}})})}_setEventListeners(e,t,n,r){for(const[a,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,a,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ye.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||XP,a=e.style;let l;const c=2,d=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(h/(Ch*r))||1,g=h/f;l=Math.min(r,d(g/Ch))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(h/Ch))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=ye.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class YP extends ti{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,r){const a=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=n),a.setValue(l.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let a=r.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??a,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??a),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Js.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const h=this.data.dateFormat||this.data.timeFormat;h&&(n.title=h),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",g=>{e.setValue(t,{value:g.target.value}),this.setPropertyOnSiblings(n,"value",g.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",g=>{const m=this.data.defaultFieldValue??"";n.value=d.userValue=m,d.formattedValue=null});let f=g=>{const{formattedValue:m}=d;m!=null&&(g.target.value=m),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",m=>{if(d.focused)return;const{target:y}=m;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(x){d.userValue=x.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:b}=x.detail;d.formattedValue=b,b!=null&&x.target!==document.activeElement&&(x.target.value=b),e.setValue(t,{formattedValue:b})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:b}=x.detail,{target:S}=x;if(b===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",b);let E=d.userValue;!E||E.length<=b||(E=E.slice(0,b),S.value=d.userValue=E,e.setValue(t,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),n.addEventListener("keydown",m=>{d.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:x}=m.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const g=f;f=null,n.addEventListener("blur",m=>{if(!d.focused||!m.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:y}=m.target;d.userValue=y,d.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}),g(m)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",m=>{d.lastCommittedValue=null;const{data:y,target:x}=m,{value:b,selectionStart:S,selectionEnd:E}=x;let T=S,C=E;switch(m.inputType){case"deleteWordBackward":{const P=b.substring(0,S).match(/\w*[^\w]*$/);P&&(T-=P[0].length);break}case"deleteWordForward":{const P=b.substring(S).match(/^[^\w]*\w*/);P&&(C+=P[0].length);break}case"deleteContentBackward":S===E&&(T-=1);break;case"deleteContentForward":S===E&&(C+=1);break}m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:y||"",willCommit:!1,selStart:T,selEnd:C}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class QP extends ti{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class JP extends ti{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Js.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const h of this._getElementsByName(c,n)){const f=d&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(n,{value:d})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Kb extends ti{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,n))e.setValue(l.id,{value:!1});const a=document.createElement("input");if(Js.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const h of this._getElementsByName(c,n))e.setValue(h.id,{value:!1});e.setValue(n,{value:d})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;a.addEventListener("updatefromsandbox",c=>{const d={value:h=>{const f=l===h.detail.value;for(const g of this._getElementsByName(h.target.name)){const m=f&&g.id===n;g.domElement&&(g.domElement.checked=m),e.setValue(g.id,{value:m})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class ZP extends Xb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class eN extends ti{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Js.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const g=this.data.defaultFieldValue;for(const m of r.options)m.selected=m.value===g});for(const f of this.data.options){const g=document.createElement("option");g.textContent=f.displayValue,g.value=f.exportValue,n.value.includes(f.exportValue)&&(g.setAttribute("selected",!0),a=!1),r.append(g)}let l=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),l=()=>{f.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=f=>{const g=f?"value":"textContent",{options:m,multiple:y}=r;return y?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[g]):m.selectedIndex===-1?null:m[m.selectedIndex][g]};let d=c(!1);const h=f=>{const g=f.target.options;return Array.prototype.map.call(g,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const g={value(m){l?.();const y=m.detail.value,x=new Set(Array.isArray(y)?y:[y]);for(const b of r.options)b.selected=x.has(b.value);e.setValue(t,{value:c(!0)}),d=c(!1)},multipleSelection(m){r.multiple=!0},remove(m){const y=r.options,x=m.detail.remove;y[x].selected=!1,r.remove(x),y.length>0&&Array.prototype.findIndex.call(y,S=>S.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:c(!0),items:h(m)}),d=c(!1)},clear(m){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=c(!1)},insert(m){const{index:y,displayValue:x,exportValue:b}=m.detail.insert,S=r.children[y],E=document.createElement("option");E.textContent=x,E.value=b,S?S.before(E):r.append(E),e.setValue(t,{value:c(!0),items:h(m)}),d=c(!1)},items(m){const{items:y}=m.detail;for(;r.length!==0;)r.remove(0);for(const x of y){const{displayValue:b,exportValue:S}=x,E=document.createElement("option");E.textContent=b,E.value=S,r.append(E)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:h(m)}),d=c(!1)},indices(m){const y=new Set(m.detail.indices);for(const x of m.target.options)x.selected=y.has(x.index);e.setValue(t,{value:c(!0)}),d=c(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(g,f)}),r.addEventListener("input",f=>{const g=c(!0),m=c(!1);e.setValue(t,{value:g}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:m,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Lf extends mt{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:mt._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new tN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${fp}${r}`).join(",")),this.container}}class tN{#e=this.#k.bind(this);#t=this.#_.bind(this);#n=this.#T.bind(this);#r=this.#E.bind(this);#i=null;#s=null;#a=null;#o=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#p=null;#g=null;#c=null;#m=null;#v=null;#y=!1;constructor({container:e,color:t,elements:n,titleObj:r,modificationDate:a,contentsObj:l,richText:c,parent:d,rect:h,parentRect:f,open:g}){this.#s=e,this.#m=r,this.#a=l,this.#c=c,this.#l=d,this.#i=t,this.#g=h,this.#h=f,this.#d=n,this.#o=pp.toDateObject(a),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",this.#r),m.addEventListener("mouseenter",this.#n),m.addEventListener("mouseleave",this.#t),m.classList.add("popupTriggerArea");for(const m of n)m.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,g&&this.#E()}render(){if(this.#f)return;const e=this.#f=document.createElement("div");if(e.className="popup",this.#i){const a=e.style.outlineColor=ye.makeHexColor(...this.#i);e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=this.#m,e.append(t),this.#o){const a=document.createElement("time");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),a.dateTime=this.#o.toISOString(),t.append(a)}const r=this.#b;if(r)Cp.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(this.#a);e.append(a)}this.#s.append(e)}get#b(){const e=this.#c,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#c.html||null}get#x(){return this.#b?.attributes?.style?.fontSize||0}get#S(){return this.#b?.attributes?.style?.color||null}#C(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#S,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:r});return n}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let a=0,l=r.length;a<l;++a){const c=r[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}#k(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#u)&&this.#E()}updateEdited({rect:e,popupContent:t}){this.#v||={contentsObj:this.#a,richText:this.#c},e&&(this.#p=null),t&&(this.#c=this.#C(t),this.#a=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#a,richText:this.#c}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#p=null)}#R(){if(this.#p!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:a}}}=this.#l;let l=!!this.#h,c=l?this.#h:this.#g;for(const x of this.#d)if(!c||ye.intersect(x.data.rect,c)!==null){c=x.data.rect,l=!0;break}const d=ye.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=l?c[2]-c[0]+5:0,g=d[0]+f,m=d[1];this.#p=[100*(g-r)/t,100*(m-a)/n];const{style:y}=this.#s;y.left=`${this.#p[0]}%`,y.top=`${this.#p[1]}%`}#E(){this.#u=!this.#u,this.#u?(this.#T(),this.#s.addEventListener("click",this.#r),this.#s.addEventListener("keydown",this.#e)):(this.#_(),this.#s.removeEventListener("click",this.#r),this.#s.removeEventListener("keydown",this.#e))}#T(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#R(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#_(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#s.hidden=!0)}maybeShow(){this.#y&&(this.#f||this.#T(),this.#y=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class Yb extends mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Re.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class nN extends mt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class rN extends mt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",t-a),l.setAttribute("height",n-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class sN extends mt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,r=this.svgFactory.create(t,n,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",n/2),l.setAttribute("rx",t/2-a/2),l.setAttribute("ry",n/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Qb extends mt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r},width:a,height:l}=this;if(!t)return this.container;const c=this.svgFactory.create(a,l,!0);let d=[];for(let f=0,g=t.length;f<g;f+=2){const m=t[f]-e[0],y=e[3]-t[f+1];d.push(`${m},${y}`)}d=d.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",d),h.setAttribute("stroke-width",n.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class iN extends Qb{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oN extends mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class _p extends mt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Re.HIGHLIGHT:Re.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:r,popupRef:a}}=this,{transform:l,width:c,height:d}=this.#n(t,e),h=this.svgFactory.create(c,d,!0),f=this.#e=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",l);for(let g=0,m=n.length;g<m;g++){const y=this.svgFactory.createElement(this.svgElementName);this.#t.push(y),y.setAttribute("points",n[g].join(",")),f.append(y)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:r}=e,a=this.#e;if(t>=0&&a.setAttribute("stroke-width",t||1),n)for(let l=0,c=this.#t.length;l<c;l++)this.#t[l].setAttribute("points",n[l].join(","));if(r){const{transform:l,width:c,height:d}=this.#n(this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Jb extends mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Re.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class aN extends mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class lN extends mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class cN extends mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Zb extends mt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Re.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class uN extends mt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||t.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#t.bind(this)),this.#e=n;const{isMac:r}=Mt.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let kp=class ex{#e=null;#t=null;#n=new Map;#r=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:r,page:a,viewport:l,structTreeLayer:c}){this.div=e,this.#e=t,this.#t=n,this.#r=c||null,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#i(e,t,n){const r=e.firstChild||e,a=r.id=`${fp}${t}`,l=await this.#r?.getAriaAttributes(a);if(l)for(const[c,d]of l)r.setAttribute(c,d);n?n.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,r,!1))}async render(e){const{annotations:t}=e,n=this.div;ys(n,this.viewport);const r=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new wa,annotationStorage:e.annotationStorage||new yp,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===dt.POPUP;if(c){const f=r.get(l.id);if(!f)continue;a.elements=f}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=Qv.create(a);if(!d.isRenderable)continue;if(!c&&l.popupRef){const f=r.get(l.popupRef);f?f.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),await this.#i(h,l.id,a.elements),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#s()}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new wa,parent:this};for(const r of e){r.borderStyle||=ex._defaultBorderStyle,n.data=r;const a=Qv.create(n);if(!a.isRenderable)continue;const l=a.render();await this.#i(l,r.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ys(t,{rotation:e.rotation}),this.#s(),t.hidden=!1}#s(){if(!this.#t)return;const e=this.div;for(const[t,n]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):r.append(n);const l=this.#n.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return Ie(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ki.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const uc=/\r\n?|\n/g;class _t extends Se{#e;#t="";#n=`${this.id}-editor`;#r=null;#i;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=_t.prototype,t=a=>a.isEmpty(),n=Br.TRANSLATE_SMALL,r=Br.TRANSLATE_BIG;return Ie(this,"_keyboardManager",new Ma([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=Re.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||_t._defaultColor||Se._defaultLineColor,this.#i=e.fontSize||_t._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Se.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Oe.FREETEXT_SIZE:_t._defaultFontSize=t;break;case Oe.FREETEXT_COLOR:_t._defaultColor=t;break}}updateParams(e,t){switch(e){case Oe.FREETEXT_SIZE:this.#s(t);break;case Oe.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[Oe.FREETEXT_SIZE,_t._defaultFontSize],[Oe.FREETEXT_COLOR,_t._defaultColor||Se._defaultLineColor]]}get propertiesToUpdate(){return[[Oe.FREETEXT_SIZE,this.#i],[Oe.FREETEXT_COLOR,this.#e]]}#s(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#i)*this.parentScale),this.#i=r,this.#d()},n=this.#i;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(e){const t=r=>{this.#e=this.editorDiv.style.color=r},n=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-_t._internalPadding*e,-(_t._internalPadding+this.#i)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(e.push(_t.#l(n)),t=n);return e.join(`
`)}#d(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),n=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#o().trimEnd();if(e===t)return;const n=r=>{if(this.#t=r,!r){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){_t._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#i}px * var(--total-scale-factor))`,n.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,f]=this.pageDimensions,[g,m]=this.pageTranslation;let y,x;switch(this.rotation){case 0:y=e+(l[0]-g)/h,x=t+this.height-(l[1]-m)/f;break;case 90:y=e+(l[0]-g)/h,x=t-(l[1]-m)/f,[c,d]=[d,-c];break;case 180:y=e-this.width+(l[0]-g)/h,x=t-(l[1]-m)/f,[c,d]=[-c,-d];break;case 270:y=e+(l[0]-g-this.height*f)/h,x=t+(l[1]-m-this.width*h)/f,[c,d]=[-d,c];break}this.setAt(y*r,x*a,c,d)}else this._moveAfterPaste(e,t);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(uc,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(n.length===1&&n[0]==="text/plain")return;e.preventDefault();const r=_t.#f(t.getData("text")||"").replaceAll(uc,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:d}=l,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const y=c.parentElement;if(f.push(c.nodeValue.slice(d).replaceAll(uc,"")),y!==this.editorDiv){let x=h;for(const b of this.editorDiv.childNodes){if(b===y){x=f;continue}x.push(_t.#l(b))}}h.push(c.nodeValue.slice(0,d).replaceAll(uc,""))}else if(c===this.editorDiv){let y=h,x=0;for(const b of this.editorDiv.childNodes)x++===d&&(y=f),y.push(_t.#l(b))}this.#t=`${h.join(`
`)}${r}${f.join(`
`)}`,this.#h();const g=new Range;let m=Math.sumPrecise(h.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(m<=x){g.setStart(y,m),g.setEnd(y,m);break}m-=x}a.removeAllRanges(),a.addRange(g)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#u(){return this.#t.replaceAll(""," ")}static#f(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let r=null;if(e instanceof Yb){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:f,popupRef:g},textContent:m,textPosition:y,parent:{page:{pageNumber:x}}}=e;if(!m||m.length===0)return null;r=e={annotationType:Re.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:y,pageIndex:x-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:g}}const a=await super.deserialize(e,t,n);return a.#i=e.fontSize,a.#e=ye.makeHexColor(...e.color),a.#t=_t.#f(e.value),a._initialData=r,a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=_t._internalPadding*this.parentScale,n=this.getRect(t,t),r=Se._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),a={annotationType:Re.FREETEXT,color:r,fontSize:this.#i,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.isCopy=!0,a):this.annotationElementId&&!this.#p(a)?null:(a.id=this.annotationElementId,a)}#p(e){const{value:t,fontSize:n,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((l,c)=>l!==r[c])||e.pageIndex!==a}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#i}px * var(--total-scale-factor))`,n.color=this.#e,t.replaceChildren();for(const a of this.#t.split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),t.append(l)}const r=_t._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class fe{static PRECISION=1e-4;toSVGPath(){Ve("Abstract method `toSVGPath` must be implemented.")}get box(){Ve("Abstract getter `box` must be implemented.")}serialize(e,t){Ve("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,r,a,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c]*r,l[c+1]=n+e[c+1]*a;return l}static _rescaleAndSwap(e,t,n,r,a,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c+1]*r,l[c+1]=n+e[c]*a;return l}static _translate(e,t,n,r){r||=new Float32Array(e.length);for(let a=0,l=e.length;a<l;a+=2)r[a]=t+e[a],r[a+1]=n+e[a+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,r,a){switch(a){case 90:return[1-t/n,e/r];case 180:return[1-e/n,1-t/r];case 270:return[t/n,1-e/r];default:return[e/n,t/r]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,r,a,l){return[(e+5*n)/6,(t+5*r)/6,(5*n+a)/6,(5*r+l)/6,(n+a)/2,(r+l)/2]}}class zs{#e;#t=[];#n;#r;#i=[];#s=new Float32Array(18);#a;#o;#d;#l;#h;#u;#f=[];static#p=8;static#g=2;static#c=zs.#p+zs.#g;constructor({x:e,y:t},n,r,a,l,c=0){this.#e=n,this.#u=a*r,this.#r=l,this.#s.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=c,this.#l=zs.#p*r,this.#d=zs.#c*r,this.#h=r,this.#f.push(e,t)}isEmpty(){return isNaN(this.#s[8])}#m(){const e=this.#s.subarray(4,6),t=this.#s.subarray(16,18),[n,r,a,l]=this.#e;return[(this.#a+(e[0]-t[0])/2-n)/a,(this.#o+(e[1]-t[1])/2-r)/l,(this.#a+(t[0]-e[0])/2-n)/a,(this.#o+(t[1]-e[1])/2-r)/l]}add({x:e,y:t}){this.#a=e,this.#o=t;const[n,r,a,l]=this.#e;let[c,d,h,f]=this.#s.subarray(8,12);const g=e-h,m=t-f,y=Math.hypot(g,m);if(y<this.#d)return!1;const x=y-this.#l,b=x/y,S=b*g,E=b*m;let T=c,C=d;c=h,d=f,h+=S,f+=E,this.#f?.push(e,t);const P=-E/x,R=S/x,L=P*this.#u,N=R*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([h+L,f+N],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([h-L,f-N],16),isNaN(this.#s[6])?(this.#i.length===0&&(this.#s.set([c+L,d+N],2),this.#i.push(NaN,NaN,NaN,NaN,(c+L-n)/a,(d+N-r)/l),this.#s.set([c-L,d-N],14),this.#t.push(NaN,NaN,NaN,NaN,(c-L-n)/a,(d-N-r)/l)),this.#s.set([T,C,c,d,h,f],6),!this.isEmpty()):(this.#s.set([T,C,c,d,h,f],6),Math.abs(Math.atan2(C-d,T-c)-Math.atan2(E,S))<Math.PI/2?([c,d,h,f]=this.#s.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((c+h)/2-n)/a,((d+f)/2-r)/l),[c,d,T,C]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/a,((C+d)/2-r)/l),!0):([T,C,c,d,h,f]=this.#s.subarray(0,6),this.#i.push(((T+5*c)/6-n)/a,((C+5*d)/6-r)/l,((5*c+h)/6-n)/a,((5*d+f)/6-r)/l,((c+h)/2-n)/a,((d+f)/2-r)/l),[h,f,c,d,T,C]=this.#s.subarray(12,18),this.#t.push(((T+5*c)/6-n)/a,((C+5*d)/6-r)/l,((5*c+h)/6-n)/a,((5*d+f)/6-r)/l,((c+h)/2-n)/a,((d+f)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,t=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#b(n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#y(n),n.join(" ")}#v(){const[e,t,n,r]=this.#e,[a,l,c,d]=this.#m();return`M${(this.#s[2]-e)/n} ${(this.#s[3]-t)/r} L${(this.#s[4]-e)/n} ${(this.#s[5]-t)/r} L${a} ${l} L${c} ${d} L${(this.#s[16]-e)/n} ${(this.#s[17]-t)/r} L${(this.#s[14]-e)/n} ${(this.#s[15]-t)/r} Z`}#y(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#b(e){const[t,n,r,a]=this.#e,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[d,h,f,g]=this.#m();e.push(`L${(l[0]-t)/r} ${(l[1]-n)/a} L${d} ${h} L${f} ${g} L${(c[0]-t)/r} ${(c[1]-n)/a}`)}newFreeDrawOutline(e,t,n,r,a,l){return new tx(e,t,n,r,a,l)}getOutlines(){const e=this.#i,t=this.#t,n=this.#s,[r,a,l,c]=this.#e,d=new Float32Array((this.#f?.length??0)+2);for(let g=0,m=d.length-2;g<m;g+=2)d[g]=(this.#f[g]-r)/l,d[g+1]=(this.#f[g+1]-a)/c;if(d[d.length-2]=(this.#a-r)/l,d[d.length-1]=(this.#o-a)/c,isNaN(n[6])&&!this.isEmpty())return this.#x(d);const h=new Float32Array(this.#i.length+24+this.#t.length);let f=e.length;for(let g=0;g<f;g+=2){if(isNaN(e[g])){h[g]=h[g+1]=NaN;continue}h[g]=e[g],h[g+1]=e[g+1]}f=this.#C(h,f);for(let g=t.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(t[g+m])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=t[g+m],h[f+1]=t[g+m+1],f+=2}return this.#S(h,f),this.newFreeDrawOutline(h,d,this.#e,this.#h,this.#n,this.#r)}#x(e){const t=this.#s,[n,r,a,l]=this.#e,[c,d,h,f]=this.#m(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-r)/l],0),this.newFreeDrawOutline(g,e,this.#e,this.#h,this.#n,this.#r)}#S(e,t){const n=this.#t;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6}#C(e,t){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[a,l,c,d]=this.#e,[h,f,g,m]=this.#m();return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/c,(n[1]-l)/d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-l)/d],t),t+=24}}class tx extends fe{#e;#t=new Float32Array(4);#n;#r;#i;#s;#a;constructor(e,t,n,r,a,l){super(),this.#a=e,this.#i=t,this.#e=n,this.#s=r,this.#n=a,this.#r=l,this.lastPoint=[NaN,NaN],this.#o(l);const[c,d,h,f]=this.#t;for(let g=0,m=e.length;g<m;g+=2)e[g]=(e[g]-c)/h,e[g+1]=(e[g+1]-d)/f;for(let g=0,m=t.length;g<m;g+=2)t[g]=(t[g]-c)/h,t[g+1]=(t[g+1]-d)/f}toSVGPath(){const e=[`M${this.#a[4]} ${this.#a[5]}`];for(let t=6,n=this.#a.length;t<n;t+=6){if(isNaN(this.#a[t])){e.push(`L${this.#a[t+4]} ${this.#a[t+5]}`);continue}e.push(`C${this.#a[t]} ${this.#a[t+1]} ${this.#a[t+2]} ${this.#a[t+3]} ${this.#a[t+4]} ${this.#a[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,n,r],a){const l=n-e,c=r-t;let d,h;switch(a){case 0:d=fe._rescale(this.#a,e,r,l,-c),h=fe._rescale(this.#i,e,r,l,-c);break;case 90:d=fe._rescaleAndSwap(this.#a,e,t,l,c),h=fe._rescaleAndSwap(this.#i,e,t,l,c);break;case 180:d=fe._rescale(this.#a,n,t,-l,c),h=fe._rescale(this.#i,n,t,-l,c);break;case 270:d=fe._rescaleAndSwap(this.#a,n,r,-l,-c),h=fe._rescaleAndSwap(this.#i,n,r,-l,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}#o(e){const t=this.#a;let n=t[4],r=t[5];const a=[n,r,n,r];let l=n,c=r;const d=e?Math.max:Math.min;for(let f=6,g=t.length;f<g;f+=6){const m=t[f+4],y=t[f+5];if(isNaN(t[f]))ye.pointBoundingBox(m,y,a),c<y?(l=m,c=y):c===y&&(l=d(l,m));else{const x=[1/0,1/0,-1/0,-1/0];ye.bezierBoundingBox(n,r,...t.slice(f,f+6),x),ye.rectBoundingBox(...x,a),c<x[3]?(l=x[2],c=x[3]):c===x[3]&&(l=d(l,x[2]))}n=m,r=y}const h=this.#t;h[0]=a[0]-this.#n,h[1]=a[1]-this.#n,h[2]=a[2]-a[0]+2*this.#n,h[3]=a[3]-a[1]+2*this.#n,this.lastPoint=[l,c]}get box(){return this.#t}newOutliner(e,t,n,r,a,l=0){return new zs(e,t,n,r,a,l)}getNewOutline(e,t){const[n,r,a,l]=this.#t,[c,d,h,f]=this.#e,g=a*h,m=l*f,y=n*h+c,x=r*f+d,b=this.newOutliner({x:this.#i[0]*g+y,y:this.#i[1]*m+x},this.#e,this.#s,e,this.#r,t??this.#n);for(let S=2;S<this.#i.length;S+=2)b.add({x:this.#i[S]*g+y,y:this.#i[S+1]*m+x});return b.getOutlines()}}class Mf{#e;#t;#n=[];#r=[];constructor(e,t=0,n=0,r=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:y,y:x,width:b,height:S}of e){const E=Math.floor((y-t)/l)*l,T=Math.ceil((y+b+t)/l)*l,C=Math.floor((x-t)/l)*l,P=Math.ceil((x+S+t)/l)*l,R=[E,C,P,!0],L=[T,C,P,!1];this.#n.push(R,L),ye.rectBoundingBox(E,C,T,P,a)}const c=a[2]-a[0]+2*n,d=a[3]-a[1]+2*n,h=a[0]-n,f=a[1]-n,g=this.#n.at(r?-1:-2),m=[g[0],g[2]];for(const y of this.#n){const[x,b,S]=y;y[0]=(x-h)/c,y[1]=(b-f)/d,y[2]=(S-f)/d}this.#e=new Float32Array([h,f,c,d]),this.#t=m}getOutlines(){this.#n.sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#d(t)),this.#a(t)):(this.#o(t),e.push(...this.#d(t)));return this.#i(e)}#i(e){const t=[],n=new Set;for(const l of e){const[c,d,h]=l;t.push([c,d,l],[c,h,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const d=t[l][2],h=t[l+1][2];d.push(h),h.push(d),n.add(d),n.add(h)}const r=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,d,h,f,g]=l;n.delete(l);let m=c,y=d;for(a=[c,h],r.push(a);;){let x;if(n.has(f))x=f;else if(n.has(g))x=g;else break;n.delete(x),[c,d,h,f,g]=x,m!==c&&(a.push(m,y,c,y===d?d:h),m=c),y=y===d?h:d}a.push(m,y)}return new dN(r,this.#e,this.#t)}#s(e){const t=this.#r;let n=0,r=t.length-1;for(;n<=r;){const a=n+r>>1,l=t[a][0];if(l===e)return a;l<e?n=a+1:r=a-1}return r+1}#a([,e,t]){const n=this.#s(e);this.#r.splice(n,0,[e,t])}#o([,e,t]){const n=this.#s(e);for(let r=n;r<this.#r.length;r++){const[a,l]=this.#r[r];if(a!==e)break;if(a===e&&l===t){this.#r.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[a,l]=this.#r[r];if(a!==e)break;if(a===e&&l===t){this.#r.splice(r,1);return}}}#d(e){const[t,n,r]=e,a=[[t,n,r]],l=this.#s(r);for(let c=0;c<l;c++){const[d,h]=this.#r[c];for(let f=0,g=a.length;f<g;f++){const[,m,y]=a[f];if(!(h<=m||y<=d)){if(m>=d){if(y>h)a[f][1]=h;else{if(g===1)return[];a.splice(f,1),f--,g--}continue}a[f][2]=d,y>h&&a.push([t,h,y])}}}return a}}class dN extends fe{#e;#t;constructor(e,t,n){super(),this.#t=e,this.#e=t,this.lastPoint=n}toSVGPath(){const e=[];for(const t of this.#t){let[n,r]=t;e.push(`M${n} ${r}`);for(let a=2;a<t.length;a+=2){const l=t[a],c=t[a+1];l===n?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${l}`),n=l)}e.push("Z")}return e.join(" ")}serialize([e,t,n,r],a){const l=[],c=n-e,d=r-t;for(const h of this.#t){const f=new Array(h.length);for(let g=0;g<h.length;g+=2)f[g]=e+h[g]*c,f[g+1]=r-h[g+1]*d;l.push(f)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class If extends zs{newFreeDrawOutline(e,t,n,r,a,l){return new hN(e,t,n,r,a,l)}}class hN extends tx{newOutliner(e,t,n,r,a,l=0){return new If(e,t,n,r,a,l)}}class An{#e=null;#t=null;#n;#r=null;#i=!1;#s=!1;#a=null;#o;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return Ie(this,"_keyboardManager",new Ma([[["Escape","mac+Escape"],An.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],An.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],An.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],An.prototype._moveToPrevious],[["Home","mac+Home"],An.prototype._moveToBeginning],[["End","mac+End"],An.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#s=!1,this.#h=Oe.HIGHLIGHT_COLOR,this.#a=e):(this.#s=!0,this.#h=Oe.HIGHLIGHT_DEFAULT_COLOR),this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",An.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#a&&(e.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#c.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const n=this.#t=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#n,e.append(n),e}renderMainDropdown(){const e=this.#r=this.#f();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#f(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Hn,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(e.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=n,a.setAttribute("data-l10n-id",An.#u[n]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=r,a.ariaSelected=r===this.#n,a.addEventListener("click",this.#p.bind(this,r),{signal:t}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#p(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#c(e);return}const t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){if(!this.#v){this.#c(e);return}if(e.target===this.#e){this.#r.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#r?.firstChild||e.target===this.#e){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#c(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#v){this.#c(e);return}this.#r.firstChild?.focus()}_moveToEnd(e){if(!this.#v){this.#c(e);return}this.#r.lastChild?.focus()}#g(e){An._keyboardManager.exec(this,e)}#c(e){if(this.#v){this.hideDropdown();return}if(this.#i=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#e.ariaExpanded="true",this.#r){this.#r.classList.remove("hidden");return}const t=this.#r=this.#f();this.#e.append(t)}#m(e){this.#r?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#r?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#v(){return this.#r&&!this.#r.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#v){this.#a?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#r)return;const t=this.#l.highlightColors.values();for(const n of this.#r.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#r?.remove(),this.#r=null}}class ht extends Se{#e=null;#t=0;#n;#r=null;#i=null;#s=null;#a=null;#o=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#p;#g=null;#c="";#m;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Re.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=ht.prototype;return Ie(this,"_keyboardManager",new Ma([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||ht._defaultColor,this.#m=e.thickness||ht._defaultThickness,this.#p=e.opacity||ht._defaultOpacity,this.#n=e.boxes||null,this.#v=e.methodOfCreation||"",this.#c=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#b(e),this.#R()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#o=e.focusOffset,this.#y(),this.#R(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#y(){const e=new Mf(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Mf(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#s=t.getOutlines();const{lastPoint:n}=this.#s;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#l=e;const r=1.5;if(this.#s=e.getNewOutline(this.#m/2+r,.0025),t>=0)this.#h=t,this.#r=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:ht.#E(this.#l.box,(f-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:ht.#E(this.#s.box,f),path:{d:this.#s.toSVGPath()}})}const[a,l,c,d]=e.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=d;break;case 90:{const[f,g]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*g/f,this.height=d*f/g;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[f,g]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*g/f,this.height=d*f/g;break}}const{lastPoint:h}=this.#s;this.#f=[(h[0]-a)/c,(h[1]-l)/d]}static initialize(e,t){Se.initialize(e,t),ht._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Oe.HIGHLIGHT_DEFAULT_COLOR:ht._defaultColor=t;break;case Oe.HIGHLIGHT_THICKNESS:ht._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#f}updateParams(e,t){switch(e){case Oe.HIGHLIGHT_COLOR:this.#x(t);break;case Oe.HIGHLIGHT_THICKNESS:this.#S(t);break}}static get defaultPropertiesToUpdate(){return[[Oe.HIGHLIGHT_DEFAULT_COLOR,ht._defaultColor],[Oe.HIGHLIGHT_THICKNESS,ht._defaultThickness]]}get propertiesToUpdate(){return[[Oe.HIGHLIGHT_COLOR,this.color||ht._defaultColor],[Oe.HIGHLIGHT_THICKNESS,this.#m||ht._defaultThickness],[Oe.HIGHLIGHT_FREE,this.#u]]}#x(e){const t=(a,l)=>{this.color=a,this.#p=l,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:a,"fill-opacity":l}}),this.#i?.updateColor(a)},n=this.color,r=this.#p;this.addCommands({cmd:t.bind(this,e,ht._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#S(e){const t=this.#m,n=r=>{this.#m=r,this.#C(r)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new An({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#N())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#k(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#R(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#k():e&&(this.#R(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#C(e){if(!this.#u)return;this.#b({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#k(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#R(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#r}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#p},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#r))}static#E([e,t,n,r],a){switch(a){case 90:return[1-t-r,e,r,n];case 180:return[1-e-n,1-t-r,n,r];case 270:return[t,1-e-n,r,n]}return[e,t,n,r]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#u?(e=(e-this.rotation+360)%360,n=ht.#E(this.#l.box,e)):n=ht.#E([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#g,{bbox:ht.#E(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#c&&(e.setAttribute("aria-label",this.#c),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#r;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),Tb(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#T(e){ht._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#_(!0);break;case 1:case 3:this.#_(!1);break}}#_(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#a,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#u||this.#_(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!e}}))}#N(){return this.#u?this.rotation:0}#L(){if(this.#u)return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,a=this.#n,l=new Float32Array(a.length*8);let c=0;for(const{x:d,y:h,width:f,height:g}of a){const m=d*e+n,y=(1-h)*t+r;l[c]=l[c+4]=m,l[c+1]=l[c+3]=y,l[c+2]=l[c+6]=m+f*e,l[c+5]=l[c+7]=y-g*t,c+=8}return l}#M(e){return this.#l.serialize(e,this.#N())}static startHighlighting(e,t,{target:n,x:r,y:a}){const{x:l,y:c,width:d,height:h}=n.getBoundingClientRect(),f=new AbortController,g=e.combinedSignal(f),m=y=>{f.abort(),this.#A(e,y)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",ft,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Hn,{signal:g}),n.addEventListener("pointermove",this.#B.bind(this,e),{signal:g}),this._freeHighlight=new If({x:r,y:a},[l,c,d,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#B(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#A(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let r=null;if(e instanceof Jb){const{data:{quadPoints:x,rect:b,rotation:S,id:E,color:T,opacity:C,popupRef:P},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:Re.HIGHLIGHT,color:Array.from(T),opacity:C,quadPoints:x,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,popupRef:P}}else if(e instanceof _p){const{data:{inkLists:x,rect:b,rotation:S,id:E,color:T,borderStyle:{rawWidth:C},popupRef:P},parent:{page:{pageNumber:R}}}=e;r=e={annotationType:Re.HIGHLIGHT,color:Array.from(T),thickness:C,inkLists:x,boxes:null,pageIndex:R-1,rect:b.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,popupRef:P}}const{color:a,quadPoints:l,inkLists:c,opacity:d}=e,h=await super.deserialize(e,t,n);h.color=ye.makeHexColor(...a),h.#p=d||1,c&&(h.#m=e.thickness),h._initialData=r;const[f,g]=h.pageDimensions,[m,y]=h.pageTranslation;if(l){const x=h.#n=[];for(let b=0;b<l.length;b+=8)x.push({x:(l[b]-m)/f,y:1-(l[b+1]-y)/g,width:(l[b+2]-l[b])/f,height:(l[b+1]-l[b+5])/g});h.#y(),h.#R(),h.rotate(h.rotation)}else if(c){h.#u=!0;const x=c[0],b={x:x[0]-m,y:g-(x[1]-y)},S=new If(b,[0,0,f,g],1,h.#m/2,!0,.001);for(let C=0,P=x.length;C<P;C+=2)b.x=x[C]-m,b.y=g-(x[C+1]-y),S.add(b);const{id:E,clipPathId:T}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);h.#b({highlightOutlines:S.getOutlines(),highlightId:E,clipPathId:T}),h.#R(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=Se._colorManager.convert(this.color),r={annotationType:Re.HIGHLIGHT,color:n,opacity:this.#p,thickness:this.#m,quadPoints:this.#L(),outlines:this.#M(t),pageIndex:this.pageIndex,rect:t,rotation:this.#N(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#w(r)?null:(r.id=this.annotationElementId,r)}#w(e){const{color:t}=this._initialData;return e.color.some((n,r)=>n!==t[r])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class nx{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Ve("Not implemented")}}class Ce extends Se{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#r=null;static#i=null;static#s=NaN;static#a=null;static#o=null;static#d=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:t,drawingOptions:n}){this.#e=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#c(e.box)}#h(e,t){const{id:n}=t.drawLayer.draw(Ce._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[r,a]of Object.entries(t))n.has(r)?Object.assign(e[r],a):e[r]=a;return e}static getDefaultDrawingOptions(e){Ve("Not implemented")}static get typesMap(){Ve("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Ce.#n.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)e.push([n,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,r]of this.constructor.typesMap)e.push([n,t[r]]);return e}_updateProperty(e,t,n){const r=this._drawingOptions,a=r[t],l=c=>{r.updateProperty(t,c);const d=this.#e.updateProperty(t,c);d&&this.#c(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ce._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#g()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ce._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#g()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ce._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#g(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#p([e,t,n,r]){const{parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[t,1-e,n*(l/a),r*(a/l)];case 180:return[1-e,1-t,n,r];case 270:return[1-t,e,n*(l/a),r*(a/l)];default:return[e,t,n,r]}}#g(){const{x:e,y:t,width:n,height:r,parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[1-t,e,n*(a/l),r*(l/a)];case 180:return[1-e,1-t,n,r];case 270:return[t,1-e,n*(a/l),r*(l/a)];default:return[e,t,n,r]}}#c(e){if([this.x,this.y,this.width,this.height]=this.#p(e),this.div){this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}this._onResized()}#m(){const{x:e,y:t,width:n,height:r,rotation:a,parentRotation:l,parentDimensions:[c,d]}=this;switch((a*4+l)/90){case 1:return[1-t-r,e,r,n];case 2:return[1-e-n,1-t-r,n,r];case 3:return[t,1-e-n,r,n];case 4:return[e,t-n*(c/d),r*(d/c),n*(c/d)];case 5:return[1-t,e,n*(c/d),r*(d/c)];case 6:return[1-e-r*(d/c),1-t,r*(d/c),n*(c/d)];case 7:return[t-n*(c/d),1-e-r*(d/c),n*(c/d),r*(d/c)];case 8:return[e-n,t-r,n,r];case 9:return[1-t,e-n,r,n];case 10:return[1-e,1-t,n,r];case 11:return[t-r,1-e,r,n];case 12:return[e-r*(d/c),t,r*(d/c),n*(c/d)];case 13:return[1-t-n*(c/d),e-r*(d/c),n*(c/d),r*(d/c)];case 14:return[1-e,1-t-n*(c/d),r*(d/c),n*(c/d)];case 15:return[t,1-e,n*(c/d),r*(d/c)];default:return[e,t,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ce._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,r,a){Ve("Not implemented")}static startDrawing(e,t,n,r){const{target:a,offsetX:l,offsetY:c,pointerId:d,pointerType:h}=r;if(Ce.#a&&Ce.#a!==h)return;const{viewport:{rotation:f}}=e,{width:g,height:m}=a.getBoundingClientRect(),y=Ce.#r=new AbortController,x=e.combinedSignal(y);if(Ce.#s||=d,Ce.#a??=h,window.addEventListener("pointerup",b=>{Ce.#s===b.pointerId?this._endDraw(b):Ce.#o?.delete(b.pointerId)},{signal:x}),window.addEventListener("pointercancel",b=>{Ce.#s===b.pointerId?this._currentParent.endDrawingSession():Ce.#o?.delete(b.pointerId)},{signal:x}),window.addEventListener("pointerdown",b=>{Ce.#a===b.pointerType&&((Ce.#o||=new Set).add(b.pointerId),Ce.#n.isCancellable()&&(Ce.#n.removeLastElement(),Ce.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Hn,{signal:x}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),a.addEventListener("touchmove",b=>{b.timeStamp===Ce.#d&&ft(b)},{signal:x}),e.toggleDrawing(),t._editorUndoBar?.hide(),Ce.#n){e.drawLayer.updateProperties(this._currentDrawId,Ce.#n.startNew(l,c,g,m,f));return}t.updateUIForDefaultProperties(this),Ce.#n=this.createDrawerInstance(l,c,g,m,f),Ce.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Ce.#i.toSVGProperties(),Ce.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ce.#d=-1,!Ce.#n)return;const{offsetX:t,offsetY:n,pointerId:r}=e;if(Ce.#s===r){if(Ce.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ce.#n.add(t,n)),Ce.#d=e.timeStamp,ft(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Ce.#n=null,Ce.#i=null,Ce.#a=null,Ce.#d=NaN),Ce.#r&&(Ce.#r.abort(),Ce.#r=null,Ce.#s=NaN,Ce.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Ce.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const n=Ce.#n,r=this._currentDrawId,a=n.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,n.setLastElement(a))},undo:()=>{t.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Oe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Oe.DRAW_STEP),!Ce.#n.isEmpty()){const{pageDimensions:[n,r],scale:a}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ce.#n.getOutlines(n*a,r*a,a,this._INNER_MARGIN),drawingOptions:Ce.#i,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,r,a,l){Ve("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:r,pageHeight:a,pageX:l,pageY:c}}=t.viewport,d=this.deserializeDraw(l,c,r,a,this._INNER_MARGIN,e),h=await super.deserialize(e,t,n);return h.createDrawingOptions(e),h.#l({drawOutlines:d}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,n]=this.pageTranslation,[r,a]=this.pageDimensions;return this.#e.serialize([t,n,r,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class fN{#e=new Float64Array(6);#t;#n;#r;#i;#s;#a="";#o=0;#d=new Da;#l;#h;constructor(e,t,n,r,a,l){this.#l=n,this.#h=r,this.#r=a,this.#i=l,[e,t]=this.#u(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t],this.#n=[{line:c,points:this.#s}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#i=t)}#u(e,t){return fe._normalizePoint(e,t,this.#l,this.#h,this.#r)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#s.length<=10}add(e,t){[e,t]=this.#u(e,t);const[n,r,a,l]=this.#e.subarray(2,6),c=e-a,d=t-l;return Math.hypot(this.#l*c,this.#h*d)<=2?null:(this.#s.push(e,t),isNaN(n)?(this.#e.set([a,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([n,r,a,l,e,t],0),this.#t.push(...fe.createBezierPoints(n,r,a,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,r,a){this.#l=n,this.#h=r,this.#r=a,[e,t]=this.#u(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#s=[e,t];const c=this.#n.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#n.push({line:l,points:this.#s}),this.#e.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#a="";for(let e=0,t=this.#n.length;e<t;e++){const{line:n,points:r}=this.#n[e];this.#t=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#a}}}toSVGPath(){const e=fe.svgRound(this.#t[4]),t=fe.svgRound(this.#t[5]);if(this.#s.length===2)return this.#a=`${this.#a} M ${e} ${t} Z`,this.#a;if(this.#s.length<=6){const r=this.#a.lastIndexOf("M");this.#a=`${this.#a.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#s.length===4){const r=fe.svgRound(this.#t[10]),a=fe.svgRound(this.#t[11]);return this.#a=`${this.#a} L ${r} ${a}`,this.#o=12,this.#a}const n=[];this.#o===0&&(n.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,a=this.#t.length;r<a;r+=6){const[l,c,d,h,f,g]=this.#t.slice(r,r+6).map(fe.svgRound);n.push(`C${l} ${c} ${d} ${h} ${f} ${g}`)}return this.#a+=n.join(" "),this.#o=this.#t.length,this.#a}getOutlines(e,t,n,r){const a=this.#n.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#d.build(this.#n,e,t,n,this.#r,this.#i,r),this.#e=null,this.#t=null,this.#n=null,this.#a=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Da extends fe{#e;#t=0;#n;#r;#i;#s;#a;#o;#d;build(e,t,n,r,a,l,c){this.#i=t,this.#s=n,this.#a=r,this.#o=a,this.#d=l,this.#n=c??0,this.#r=e,this.#u()}get thickness(){return this.#d}setLastElement(e){return this.#r.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#r.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#r){if(e.push(`M${fe.svgRound(t[4])} ${fe.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${fe.svgRound(t[10])} ${fe.svgRound(t[11])}`);continue}for(let n=6,r=t.length;n<r;n+=6){const[a,l,c,d,h,f]=t.subarray(n,n+6).map(fe.svgRound);e.push(`C${a} ${l} ${c} ${d} ${h} ${f}`)}}return e.join("")}serialize([e,t,n,r],a){const l=[],c=[],[d,h,f,g]=this.#h();let m,y,x,b,S,E,T,C,P;switch(this.#o){case 0:P=fe._rescale,m=e,y=t+r,x=n,b=-r,S=e+d*n,E=t+(1-h-g)*r,T=e+(d+f)*n,C=t+(1-h)*r;break;case 90:P=fe._rescaleAndSwap,m=e,y=t,x=n,b=r,S=e+h*n,E=t+d*r,T=e+(h+g)*n,C=t+(d+f)*r;break;case 180:P=fe._rescale,m=e+n,y=t,x=-n,b=r,S=e+(1-d-f)*n,E=t+h*r,T=e+(1-d)*n,C=t+(h+g)*r;break;case 270:P=fe._rescaleAndSwap,m=e+n,y=t+r,x=-n,b=-r,S=e+(1-h-g)*n,E=t+(1-d-f)*r,T=e+(1-h)*n,C=t+(1-d)*r;break}for(const{line:R,points:L}of this.#r)l.push(P(R,m,y,x,b,a?new Array(R.length):null)),c.push(P(L,m,y,x,b,a?new Array(L.length):null));return{lines:l,points:c,rect:[S,E,T,C]}}static deserialize(e,t,n,r,a,{paths:{lines:l,points:c},rotation:d,thickness:h}){const f=[];let g,m,y,x,b;switch(d){case 0:b=fe._rescale,g=-e/n,m=t/r+1,y=1/n,x=-1/r;break;case 90:b=fe._rescaleAndSwap,g=-t/r,m=-e/n,y=1/r,x=1/n;break;case 180:b=fe._rescale,g=e/n+1,m=-t/r,y=-1/n,x=1/r;break;case 270:b=fe._rescaleAndSwap,g=t/r+1,m=e/n+1,y=-1/r,x=-1/n;break}if(!l){l=[];for(const E of c){const T=E.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const C=new Float32Array(3*(T-2));l.push(C);let[P,R,L,N]=E.subarray(0,4);C.set([NaN,NaN,NaN,NaN,P,R],0);for(let D=4;D<T;D+=2){const j=E[D],B=E[D+1];C.set(fe.createBezierPoints(P,R,L,N,j,B),(D-2)*3),[P,R,L,N]=[L,N,j,B]}}}for(let E=0,T=l.length;E<T;E++)f.push({line:b(l[E].map(C=>C??NaN),g,m,y,x),points:b(c[E].map(C=>C??NaN),g,m,y,x)});const S=new this.prototype.constructor;return S.build(f,n,r,1,d,h,a),S}#l(e=this.#d){const t=this.#n+e/2*this.#a;return this.#o%180===0?[t/this.#i,t/this.#s]:[t/this.#s,t/this.#i]}#h(){const[e,t,n,r]=this.#e,[a,l]=this.#l(0);return[e+a,t+l,n-2*a,r-2*l]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#r){if(r.length<=12){for(let c=4,d=r.length;c<d;c+=6)ye.pointBoundingBox(r[c],r[c+1],e);continue}let a=r[4],l=r[5];for(let c=6,d=r.length;c<d;c+=6){const[h,f,g,m,y,x]=r.subarray(c,c+6);ye.bezierBoundingBox(a,l,h,f,g,m,y,x,e),a=y,l=x}}const[t,n]=this.#l();e[0]=qt(e[0]-t,0,1),e[1]=qt(e[1]-n,0,1),e[2]=qt(e[2]+t,0,1),e[3]=qt(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,n]=this.#l();this.#d=e;const[r,a]=this.#l(),[l,c]=[r-t,a-n],d=this.#e;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateParentDimensions([e,t],n){const[r,a]=this.#l();this.#i=e,this.#s=t,this.#a=n;const[l,c]=this.#l(),d=l-r,h=c-a,f=this.#e;return f[0]-=d,f[1]-=h,f[2]+=2*d,f[3]+=2*h,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(fe.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let n=0,r=0,a=0,l=0,c=0,d=0;switch(this.#t){case 90:r=t/e,a=-e/t,c=e;break;case 180:n=-1,l=-1,c=e,d=t;break;case 270:r=-t/e,a=e/t,d=t;break;default:return""}return`matrix(${n} ${r} ${a} ${l} ${fe.svgRound(c)} ${fe.svgRound(d)})`}getPathResizingSVGProperties([e,t,n,r]){const[a,l]=this.#l(),[c,d,h,f]=this.#e;if(Math.abs(h-a)<=fe.PRECISION||Math.abs(f-l)<=fe.PRECISION){const b=e+n/2-(c+h/2),S=t+r/2-(d+f/2);return{path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:`${this.rotationTransform} translate(${b} ${S})`}}}const g=(n-2*a)/(h-2*a),m=(r-2*l)/(f-2*l),y=h/n,x=f/r;return{path:{"transform-origin":`${fe.svgRound(c)} ${fe.svgRound(d)}`,transform:`${this.rotationTransform} scale(${y} ${x}) translate(${fe.svgRound(a)} ${fe.svgRound(l)}) scale(${g} ${m}) translate(${fe.svgRound(-a)} ${fe.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,n,r]){const[a,l]=this.#l(),c=this.#e,[d,h,f,g]=c;if(c[0]=e,c[1]=t,c[2]=n,c[3]=r,Math.abs(f-a)<=fe.PRECISION||Math.abs(g-l)<=fe.PRECISION){const S=e+n/2-(d+f/2),E=t+r/2-(h+g/2);for(const{line:T,points:C}of this.#r)fe._translate(T,S,E,T),fe._translate(C,S,E,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(n-2*a)/(f-2*a),y=(r-2*l)/(g-2*l),x=-m*(d+a)+e+a,b=-y*(h+l)+t+l;if(m!==1||y!==1||x!==0||b!==0)for(const{line:S,points:E}of this.#r)fe._rescale(S,x,b,m,y,S),fe._rescale(E,x,b,m,y,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[r,a]=n,l=this.#e,c=e-l[0],d=t-l[1];if(this.#i===r&&this.#s===a)for(const{line:h,points:f}of this.#r)fe._translate(h,c,d,h),fe._translate(f,c,d,f);else{const h=this.#i/r,f=this.#s/a;this.#i=r,this.#s=a;for(const{line:g,points:m}of this.#r)fe._rescale(g,c,d,h,f,g),fe._rescale(m,c,d,h,f,m);l[2]*=h,l[3]*=f}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${fe.svgRound(e)} ${fe.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${fe.svgRound(e[0])} ${fe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class uu extends nx{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Se._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new uu(this._viewParameters);return e.updateAll(this),e}}class Tp extends Ce{static _type="ink";static _editorType=Re.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Se.initialize(e,t),this._defaultDrawingOptions=new uu(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ie(this,"typesMap",new Map([[Oe.INK_THICKNESS,"stroke-width"],[Oe.INK_COLOR,"stroke"],[Oe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,r,a){return new fN(e,t,n,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,r,a,l){return Da.deserialize(e,t,n,r,a,l)}static async deserialize(e,t,n){let r=null;if(e instanceof _p){const{data:{inkLists:l,rect:c,rotation:d,id:h,color:f,opacity:g,borderStyle:{rawWidth:m},popupRef:y},parent:{page:{pageNumber:x}}}=e;r=e={annotationType:Re.INK,color:Array.from(f),thickness:m,opacity:g,paths:{points:l},boxes:null,pageIndex:x-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:y}}const a=await super.deserialize(e,t,n);return a._initialData=r,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=Tp.getDefaultDrawingOptions({stroke:ye.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":l,"stroke-width":c}}=this,d={annotationType:Re.INK,color:Se._colorManager.convert(a),opacity:l,thickness:c,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(d.isCopy=!0,d):this.annotationElementId&&!this.#e(d)?null:(d.id=this.annotationElementId,d)}#e(e){const{color:t,thickness:n,opacity:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((l,c)=>l!==t[c])||e.thickness!==n||e.opacity!==r||e.pageIndex!==a}renderAnnotationElement(e){const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t}),null}}class Of extends Da{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const dc=8,Jo=3;class js{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,n,r){return n-=e,r-=t,n===0?r>0?0:4:n===1?r+6:2-r}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#r(e,t,n,r,a,l,c){const d=this.#t(n,r,a,l);for(let h=0;h<8;h++){const f=(-h+d-c+16)%8,g=this.#n[2*f],m=this.#n[2*f+1];if(e[(n+g)*t+(r+m)]!==0)return f}return-1}static#i(e,t,n,r,a,l,c){const d=this.#t(n,r,a,l);for(let h=0;h<8;h++){const f=(h+d+c+16)%8,g=this.#n[2*f],m=this.#n[2*f+1];if(e[(n+g)*t+(r+m)]!==0)return f}return-1}static#s(e,t,n,r){const a=e.length,l=new Int32Array(a);for(let f=0;f<a;f++)l[f]=e[f]<=r?1:0;for(let f=1;f<n-1;f++)l[f*t]=l[f*t+t-1]=0;for(let f=0;f<t;f++)l[f]=l[t*n-1-f]=0;let c=1,d;const h=[];for(let f=1;f<n-1;f++){d=1;for(let g=1;g<t-1;g++){const m=f*t+g,y=l[m];if(y===0)continue;let x=f,b=g;if(y===1&&l[m-1]===0)c+=1,b-=1;else if(y>=1&&l[m+1]===0)c+=1,b+=1,y>1&&(d=y);else{y!==1&&(d=Math.abs(y));continue}const S=[g,f],E=b===g+1,T={isHole:E,points:S,id:c,parent:0};h.push(T);let C;for(const G of h)if(G.id===d){C=G;break}C?C.isHole?T.parent=E?C.parent:d:T.parent=E?d:C.parent:T.parent=E?d:0;const P=this.#r(l,t,f,g,x,b,0);if(P===-1){l[m]=-c,l[m]!==1&&(d=Math.abs(l[m]));continue}let R=this.#n[2*P],L=this.#n[2*P+1];const N=f+R,D=g+L;x=N,b=D;let j=f,B=g;for(;;){const G=this.#i(l,t,j,B,x,b,1);R=this.#n[2*G],L=this.#n[2*G+1];const Y=j+R,Q=B+L;S.push(Q,Y);const X=j*t+B;if(l[X+1]===0?l[X]=-c:l[X]===1&&(l[X]=c),Y===f&&Q===g&&j===N&&B===D){l[m]!==1&&(d=Math.abs(l[m]));break}else x=j,b=B,j=Y,B=Q}}}return h}static#a(e,t,n,r){if(n-t<=4){for(let N=t;N<n-2;N+=2)r.push(e[N],e[N+1]);return}const a=e[t],l=e[t+1],c=e[n-4]-a,d=e[n-3]-l,h=Math.hypot(c,d),f=c/h,g=d/h,m=f*l-g*a,y=d/c,x=1/h,b=Math.atan(y),S=Math.cos(b),E=Math.sin(b),T=x*(Math.abs(S)+Math.abs(E)),C=x*(1-T+T**2),P=Math.max(Math.atan(Math.abs(E+S)*C),Math.atan(Math.abs(E-S)*C));let R=0,L=t;for(let N=t+2;N<n-2;N+=2){const D=Math.abs(m-f*e[N+1]+g*e[N]);D>R&&(L=N,R=D)}R>(h*P)**2?(this.#a(e,t,L+2,r),this.#a(e,L,n,r)):r.push(a,l)}static#o(e){const t=[],n=e.length;return this.#a(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#d(e,t,n,r,a,l){const c=new Float32Array(l**2),d=-2*r**2,h=l>>1;for(let b=0;b<l;b++){const S=(b-h)**2;for(let E=0;E<l;E++)c[b*l+E]=Math.exp((S+(E-h)**2)/d)}const f=new Float32Array(256),g=-2*a**2;for(let b=0;b<256;b++)f[b]=Math.exp(b**2/g);const m=e.length,y=new Uint8Array(m),x=new Uint32Array(256);for(let b=0;b<n;b++)for(let S=0;S<t;S++){const E=b*t+S,T=e[E];let C=0,P=0;for(let L=0;L<l;L++){const N=b+L-h;if(!(N<0||N>=n))for(let D=0;D<l;D++){const j=S+D-h;if(j<0||j>=t)continue;const B=e[N*t+j],G=c[L*l+D]*f[Math.abs(B-T)];C+=B*G,P+=G}}const R=y[E]=Math.round(C/P);x[R]++}return[y,x]}static#l(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#h(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let r=-1/0,a=1/0;for(let c=0,d=n.length;c<d;c++){if(e[(c<<2)+3]===0){r=n[c]=255;continue}const f=n[c]=e[c<<2];f>r&&(r=f),f<a&&(a=f)}const l=255/(r-a);for(let c=0;c<t;c++)n[c]=(n[c]-a)*l;return n}static#u(e){let t,n=-1/0,r=-1/0;const a=e.findIndex(d=>d!==0);let l=a,c=a;for(t=a;t<256;t++){const d=e[t];d>n&&(t-l>r&&(r=t-l,c=t-1),n=d,l=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:n,height:r}=e,{maxDim:a}=this.#e;let l=n,c=r;if(n>a||r>a){let m=n,y=r,x=Math.log2(Math.max(n,r)/a);const b=Math.floor(x);x=x===b?b-1:b;for(let E=0;E<x;E++){l=Math.ceil(m/2),c=Math.ceil(y/2);const T=new OffscreenCanvas(l,c);T.getContext("2d").drawImage(e,0,0,m,y,0,0,l,c),m=l,y=c,e!==t&&e.close(),e=T.transferToImageBitmap()}const S=Math.min(a/l,a/c);l=Math.round(l*S),c=Math.round(c*S)}const h=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,l,c);const f=h.getImageData(0,0,l,c).data;return[this.#h(f),l,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:r},a,l,c,d){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const g=200,m=f.font=`${n} ${r} ${g}px ${t}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:x,actualBoundingBoxAscent:b,actualBoundingBoxDescent:S,fontBoundingBoxAscent:E,fontBoundingBoxDescent:T,width:C}=f.measureText(e),P=1.5,R=Math.ceil(Math.max(Math.abs(y)+Math.abs(x)||0,C)*P),L=Math.ceil(Math.max(Math.abs(b)+Math.abs(S)||g,Math.abs(E)+Math.abs(T)||g)*P);h=new OffscreenCanvas(R,L),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=m,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,R,L),f.fillStyle="black",f.fillText(e,R*(P-1)/2,L*(3-P)/2);const N=this.#h(f.getImageData(0,0,R,L).data),D=this.#l(N),j=this.#u(D),B=this.#s(N,R,L,j);return this.processDrawnLines({lines:{curves:B,width:R,height:L},pageWidth:a,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,n,r,a){const[l,c,d]=this.#f(e),[h,f]=this.#d(l,c,d,Math.hypot(c,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),g=this.#u(f),m=this.#s(h,c,d,g);return this.processDrawnLines({lines:{curves:m,width:c,height:d},pageWidth:t,pageHeight:n,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:a,mustSmooth:l,areContours:c}){r%180!==0&&([t,n]=[n,t]);const{curves:d,width:h,height:f}=e,g=e.thickness??0,m=[],y=Math.min(t/h,n/f),x=y/t,b=y/n,S=[];for(const{points:T}of d){const C=l?this.#o(T):T;if(!C)continue;S.push(C);const P=C.length,R=new Float32Array(P),L=new Float32Array(3*(P===2?2:P-2));if(m.push({line:L,points:R}),P===2){R[0]=C[0]*x,R[1]=C[1]*b,L.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[N,D,j,B]=C;N*=x,D*=b,j*=x,B*=b,R.set([N,D,j,B],0),L.set([NaN,NaN,NaN,NaN,N,D],0);for(let G=4;G<P;G+=2){const Y=R[G]=C[G]*x,Q=R[G+1]=C[G+1]*b;L.set(fe.createBezierPoints(N,D,j,B,Y,Q),(G-2)*3),[N,D,j,B]=[j,B,Y,Q]}}if(m.length===0)return null;const E=c?new Of:new Da;return E.build(m,t,n,1,r,c?0:g,a),{outline:E,newCurves:S,areContours:c,thickness:g,width:h,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:r,height:a}){let l=1/0,c=-1/0,d=0;for(const C of e){d+=C.length;for(let P=2,R=C.length;P<R;P++){const L=C[P]-C[P-2];l=Math.min(l,L),c=Math.max(c,L)}}let h;l>=-128&&c<=127?h=Int8Array:l>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const f=e.length,g=dc+Jo*f,m=new Uint32Array(g);let y=0;m[y++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*f)*h.BYTES_PER_ELEMENT,m[y++]=0,m[y++]=r,m[y++]=a,m[y++]=t?0:1,m[y++]=Math.max(0,Math.floor(n??0)),m[y++]=f,m[y++]=h.BYTES_PER_ELEMENT;for(const C of e)m[y++]=C.length-2,m[y++]=C[0],m[y++]=C[1];const x=new CompressionStream("deflate-raw"),b=x.writable.getWriter();await b.ready,b.write(m);const S=h.prototype.constructor;for(const C of e){const P=new S(C.length-2);for(let R=2,L=C.length;R<L;R++)P[R-2]=C[R]-C[R-2];b.write(P)}b.close();const E=await new Response(x.readable).arrayBuffer(),T=new Uint8Array(E);return Ab(T)}static async decompressSignature(e){try{const t=U2(e),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,c=0;for await(const C of n)l||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),l.set(C,c),c+=C.length;const d=new Uint32Array(l.buffer,0,l.length>>2),h=d[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=d[2],g=d[3],m=d[4]===0,y=d[5],x=d[6],b=d[7],S=[],E=(dc+Jo*x)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(b){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,E);break}c=0;for(let C=0;C<x;C++){const P=d[Jo*C+dc],R=new Float32Array(P+2);S.push(R);for(let L=0;L<Jo-1;L++)R[L]=d[Jo*C+dc+L+1];for(let L=0;L<P;L++)R[L+2]=R[L]+T[c++]}return{areContours:m,thickness:y,outlines:S,width:f,height:g}}catch(t){return Pe(`decompressSignature: ${t}`),null}}}class Rp extends nx{constructor(){super(),super.updateProperties({fill:Se._defaultLineColor,"stroke-width":0})}clone(){const e=new Rp;return e.updateAll(this),e}}class Pp extends uu{constructor(e){super(e),super.updateProperties({stroke:Se._defaultLineColor,"stroke-width":1})}clone(){const e=new Pp(this._viewParameters);return e.updateAll(this),e}}class yr extends Ce{#e=!1;#t=null;#n=null;#r=null;static _type="signature";static _editorType=Re.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Se.initialize(e,t),this._defaultDrawingOptions=new Rp,this._defaultDrawnSignatureOptions=new Pp(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ie(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:r,mustSmooth:a,areContours:l,description:c,uuid:d,heightInPage:h}=this.#n,{rawDims:{pageWidth:f,pageHeight:g},rotation:m}=this.parent.viewport,y=js.processDrawnLines({lines:r,pageWidth:f,pageHeight:g,rotation:m,innerMargin:yr._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(y,h,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#r=e,this.addEditToolbar()}getUuid(){return this.#r}get description(){return this.#t}set description(e){this.#t=e,super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:r,height:a}=this.#n,l=Math.max(r,a),c=js.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:n,width:r,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,r){const{x:a,y:l}=this,{outline:c}=this.#n=e;this.#e=c instanceof Of,this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let d;this.#e?d=yr.getDefaultDrawingOptions():(d=yr._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[h,f]=this.parentDimensions,[,g]=this.pageDimensions;let m=t/g;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(h*this.width,f*this.height),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return js.process(e,t,n,r,yr._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:r},rotation:a}=this.parent.viewport;return js.extractContoursFromText(e,t,n,r,a,yr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:r}=this.parent.viewport;return js.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:r,innerMargin:yr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=yr.getDefaultDrawingOptions():(this._drawingOptions=yr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,l={annotationType:Re.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(l.paths={lines:t,points:n},l.uuid=this.#r,l.isCopy=!0):l.lines=t,this.#t&&(l.accessibilityData={type:"Figure",alt:this.#t}),l}static deserializeDraw(e,t,n,r,a,l){return l.areContours?Of.deserialize(e,t,n,r,a,l):Da.deserialize(e,t,n,r,a,l)}static async deserialize(e,t,n){const r=await super.deserialize(e,t,n);return r.#e=e.areContours,r.#t=e.accessibilityData?.alt||"",r.#r=e.uuid,r}}class pN extends Se{#e=null;#t=null;#n=null;#r=null;#i=null;#s="";#a=null;#o=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Re.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#r=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Se.initialize(e,t)}static isHandlingMimeForPasting(e){return jc.includes(e)}static paste(e,t){t.pasteEditor({mode:Re.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#g()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:l}=e||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:r,width:a,height:l,channels:r.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),t&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#r){const n=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#u(r)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(n).then(r=>this.#u(r)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=jc.join(",");const t=this._uiManager._signal;this.#n=new Promise(n=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(r)}n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#i||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#g():this.#p()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#t=n,r&&(this.#e=r),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const e=200;this.#d=setTimeout(()=>{this.#d=null,this.#m()},e)}#g(){const{div:e}=this;let{width:t,height:n}=this.#e;const[r,a]=this.pageDimensions,l=.75;if(this.width)t=this.width*r,n=this.height*a;else if(t>l*r||n>l*a){const f=Math.min(l*r/t,l*a/n);t*=f,n*=f}const[c,d]=this.parentDimensions;this.setDims(t*c/r,n*d/a),this._uiManager.enableWaiting(!1);const h=this.#a=document.createElement("canvas");h.setAttribute("role","img"),this.addContainer(h),this.width=t/r,this.height=n/a,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:r,height:a}=this.#e,l=new rr;let c=this.#e,d=r,h=a,f=null;if(t){if(r>t||a>t){const L=Math.min(t/r,t/a);d=Math.floor(r*L),h=Math.floor(a*L)}f=document.createElement("canvas");const m=f.width=Math.ceil(d*l.sx),y=f.height=Math.ceil(h*l.sy);this.#l||(c=this.#c(m,y));const x=f.getContext("2d");x.filter=this._uiManager.hcmFilter;let b="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(b="#8f8f9d",S="#42414d");const E=15,T=E*l.sx,C=E*l.sy,P=new OffscreenCanvas(T*2,C*2),R=P.getContext("2d");R.fillStyle=b,R.fillRect(0,0,T*2,C*2),R.fillStyle=S,R.fillRect(0,0,T,C),R.fillRect(T,C,T,C),x.fillStyle=x.createPattern(P,"repeat"),x.fillRect(0,0,m,y),x.drawImage(c,0,0,c.width,c.height,0,0,m,y)}let g=null;if(n){let m,y;if(l.symmetric&&c.width<e&&c.height<e)m=c.width,y=c.height;else if(c=this.#e,r>e||a>e){const S=Math.min(e/r,e/a);m=Math.floor(r*S),y=Math.floor(a*S),this.#l||(c=this.#c(m,y))}const b=new OffscreenCanvas(m,y).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,m,y),g={width:m,height:y,data:b.getImageData(0,0,m,y).data}}return{canvas:f,width:d,height:h,imageData:g}}#c(e,t){const{width:n,height:r}=this.#e;let a=n,l=r,c=this.#e;for(;a>2*e||l>2*t;){const d=a,h=l;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const f=new OffscreenCanvas(a,l);f.getContext("2d").drawImage(c,0,0,d,h,0,0,a,l),c=f.transferToImageBitmap()}return c}#m(){const[e,t]=this.parentDimensions,{width:n,height:r}=this,a=new rr,l=Math.ceil(n*e*a.sx),c=Math.ceil(r*t*a.sy),d=this.#a;if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const h=this.#l?this.#e:this.#c(l,c),f=d.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,l,c)}#v(e){if(e){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,n]=this.pageDimensions,r=Math.round(this.width*t*Qs.PDF_TO_CSS_UNITS),a=Math.round(this.height*n*Qs.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,a);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,a),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,n){let r=null,a=!1;if(e instanceof Zb){const{data:{rect:b,rotation:S,id:E,structParent:T,popupRef:C},container:P,parent:{page:{pageNumber:R}},canvas:L}=e;let N,D;L?(delete e.canvas,{id:N,bitmap:D}=n.imageManager.getFromCanvas(P.id,L),L.remove()):(a=!0,e._hasNoCanvas=!0);const j=(await t._structTree.getAriaAttributes(`${fp}${E}`))?.get("aria-label")||"";r=e={annotationType:Re.STAMP,bitmapId:N,bitmap:D,pageIndex:R-1,rect:b.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:j},isSvg:!1,structParent:T,popupRef:C}}const l=await super.deserialize(e,t,n),{rect:c,bitmap:d,bitmapUrl:h,bitmapId:f,isSvg:g,accessibilityData:m}=e;a?(n.addMissingCanvas(e.id,l),l.#o=!0):f&&n.imageManager.isValidId(f)?(l.#t=f,d&&(l.#e=d)):l.#r=h,l.#l=g;const[y,x]=l.pageDimensions;return l.width=(c[2]-c[0])/y,l.height=(c[3]-c[1])/x,m&&(l.altTextData=m),l._initialData=r,l.#h=!!r,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Re.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#v(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#y(n);if(c.isSame)return null;c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,t===null)return n;t.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:n}),n.bitmap=this.#v(!1);else if(this.#l){const c=t.stamps.get(this.#t);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return n}#y(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,r=e.pageIndex===t,a=(e.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class xr{#e;#t=!1;#n=null;#r=null;#i=null;#s=new Map;#a=!1;#o=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#p=null;#g=-1;#c;static _initialized=!1;static#m=new Map([_t,Tp,pN,ht,yr].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:r,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:d,viewport:h,l10n:f}){const g=[...xr.#m.values()];if(!xr._initialized){xr._initialized=!0;for(const m of g)m.initialize(f,e)}e.registerEditorTypes(g),this.#c=e,this.pageIndex=t,this.div=n,this.#e=a,this.#n=l,this.viewport=h,this.#u=d,this.drawLayer=c,this._structTree=r,this.#c.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===Re.NONE}updateToolbar(e){this.#c.updateToolbar(e)}updateMode(e=this.#c.getMode()){switch(this.#S(),e){case Re.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Re.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Re.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of xr.#m.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#c.setEditingState(e)}addCommands(e){this.#c.addCommands(e)}cleanUndoStack(e){this.#c.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#p?.abort(),this.#p=null;const e=new Set;for(const n of this.#s.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#c.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#n){this.#d=!1;return}const t=this.#n.getEditableAnnotations();for(const n of t){if(n.hide(),this.#c.isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#d=!1}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#p){this.#p=new AbortController;const r=this.#c.combinedSignal(this.#p);this.#u.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:d,timeStamp:h}=a,f=this.#g;if(h-f>500){this.#g=h;return}this.#g=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const m=document.elementsFromPoint(c,d);if(g.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const x=new RegExp(`^${wb}[0-9]+$`);for(const S of m)if(x.test(S.id)){y=S.id;break}if(!y)return;const b=this.#s.get(y);b?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick())},{signal:r,capture:!0})}const e=new Map,t=new Map;for(const r of this.#s.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const a of r){const{id:l}=a.data;if(this.#c.isDeletedAnnotationElement(l))continue;let c=t.get(l);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(l),c&&(this.#c.addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}this.#S(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of xr.#m.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#c.getActive()!==e&&this.#c.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#v(e){this.#c.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:n}=Mt.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),ht.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),e.preventDefault()}}enableClick(){if(this.#r)return;this.#r=new AbortController;const e=this.#c.combinedSignal(this.#r);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#r?.abort(),this.#r=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:t}=e;t&&this.#c.isDeletedAnnotationElement(t)&&this.#c.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#c.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#c.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#c.addDeletedAnnotationElement(e.annotationElementId),Se.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#c.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#d),this.#c.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return this.#c.getId()}get#y(){return xr.#m.get(this.#c.getMode())}combinedSignal(e){return this.#c.combinedSignal(e)}#b(e){const t=this.#y;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#c.updateMode(e.mode);const{offsetX:n,offsetY:r}=this.#x(),a=this.getNextId(),l=this.#b({parent:this,id:a,x:n,y:r,uiManager:this.#c,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await xr.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#c)||null}createAndAddNewEditor(e,t,n={}){const r=this.getNextId(),a=this.#b({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#c,isCentered:t,...n});return a&&this.add(a),a}#x(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),a=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+n),d=Math.min(window.innerHeight,t+r),h=(a+c)/2-e,f=(l+d)/2-t,[g,m]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:g,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#x(),!0,e)}setSelected(e){this.#c.setSelected(e)}toggleSelected(e){this.#c.toggleSelected(e)}unselect(e){this.#c.unselect(e)}pointerup(e){const{isMac:t}=Mt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#a||(this.#a=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const n=this.#c.getMode();if(n===Re.STAMP||n===Re.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#c.getMode()===Re.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}const{isMac:t}=Mt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#a=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const n=this.#c.getActive();this.#t=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#c,!1,e);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#y.startDrawing(this,this.#c,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(e)):null}findNewParent(e,t,n){const r=this.#c.findParent(t,n);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#c.removeLayer(this)}#S(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,ys(this.div,e);for(const t of this.#c.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#c.commitOrRemove(),this.#S();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,ys(this.div,{rotation:n}),t!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#c.viewParameters.realScale}}class Lt{#e=null;#t=new Map;#n=new Map;static#r=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Ie(this,"_svgFactory",new wa)}static#i(e,[t,n,r,a]){const{style:l}=e;l.top=`${100*n}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*a}%`}#s(){const e=Lt._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#a(e,t){const n=Lt._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const a=Lt._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),r}#o(e,t){for(const[n,r]of Object.entries(t))r===null?e.removeAttribute(n):e.setAttribute(n,r)}draw(e,t=!1,n=!1){const r=Lt.#r++,a=this.#s(),l=Lt._svgFactory.createElement("defs");a.append(l);const c=Lt._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(r,c);const h=n?this.#a(l,d):null,f=Lt._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${d}`),this.updateProperties(a,e),this.#t.set(r,a),{id:r,clipPathId:`url(#${h})`}}drawOutline(e,t){const n=Lt.#r++,r=this.#s(),a=Lt._svgFactory.createElement("defs");r.append(a);const l=Lt._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const g=Lt._svgFactory.createElement("mask");a.append(g),d=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const m=Lt._svgFactory.createElement("rect");g.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=Lt._svgFactory.createElement("use");g.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const h=Lt._svgFactory.createElement("use");r.append(h),h.setAttribute("href",`#${c}`),d&&h.setAttribute("mask",`url(#${d})`);const f=h.cloneNode();return r.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(n,r),n}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:r,rootClass:a,path:l}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(n&&this.#o(c,n),r&&Lt.#i(c,r),a){const{classList:d}=c;for(const[h,f]of Object.entries(a))d.toggle(h,f)}if(l){const h=c.firstChild.firstChild;this.#o(h,l)}}}updateParent(e,t){if(t===this)return;const n=this.#t.get(e);n&&(t.#e.append(n),this.#t.delete(e),t.#t.set(e,n))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Mf};globalThis.pdfjsLib={AbortException:$r,AnnotationEditorLayer:xr,AnnotationEditorParamsType:Oe,AnnotationEditorType:Re,AnnotationEditorUIManager:Br,AnnotationLayer:kp,AnnotationMode:Sr,AnnotationType:dt,build:qb,ColorPicker:An,createValidAbsoluteUrl:up,DOMSVGFactory:wa,DrawLayer:Lt,FeatureTest:Mt,fetchData:eo,getDocument:Sp,getFilenameFromUrl:Cb,getPdfFilenameFromUrl:_b,getUuid:hp,getXfaPageViewport:kb,GlobalWorkerOptions:vs,ImageKind:sa,InvalidPDFException:Fc,isDataScheme:La,isPdfFile:lu,isValidExplicitDest:Nb,MathClamp:qt,noContextMenu:Hn,normalizeUnicode:Eb,OPS:ga,OutputScale:rr,PasswordResponses:xb,PDFDataRangeTransport:Ap,PDFDateString:pp,PDFWorker:Ui,PermissionFlag:bb,PixelsPerInch:Qs,RenderingCancelledException:au,ResponseException:ma,setLayerDimensions:ys,shadow:Ie,SignatureExtractor:js,stopEvent:ft,SupportedImageMimeTypes:jc,TextLayer:va,TouchManager:Ia,updateUrlHash:dp,Util:ye,VerbosityLevel:Ra,version:Gb,XfaLayer:Cp};const gN=Object.freeze(Object.defineProperty({__proto__:null,AbortException:$r,AnnotationEditorLayer:xr,AnnotationEditorParamsType:Oe,AnnotationEditorType:Re,AnnotationEditorUIManager:Br,AnnotationLayer:kp,AnnotationMode:Sr,AnnotationType:dt,ColorPicker:An,DOMSVGFactory:wa,DrawLayer:Lt,FeatureTest:Mt,GlobalWorkerOptions:vs,ImageKind:sa,InvalidPDFException:Fc,MathClamp:qt,OPS:ga,OutputScale:rr,PDFDataRangeTransport:Ap,PDFDateString:pp,PDFWorker:Ui,PasswordResponses:xb,PermissionFlag:bb,PixelsPerInch:Qs,RenderingCancelledException:au,ResponseException:ma,SignatureExtractor:js,SupportedImageMimeTypes:jc,TextLayer:va,TouchManager:Ia,Util:ye,VerbosityLevel:Ra,XfaLayer:Cp,build:qb,createValidAbsoluteUrl:up,fetchData:eo,getDocument:Sp,getFilenameFromUrl:Cb,getPdfFilenameFromUrl:_b,getUuid:hp,getXfaPageViewport:kb,isDataScheme:La,isPdfFile:lu,isValidExplicitDest:Nb,noContextMenu:Hn,normalizeUnicode:Eb,setLayerDimensions:ys,shadow:Ie,stopEvent:ft,updateUrlHash:dp,version:Gb},Symbol.toStringTag,{value:"Module"}));function rx(s){var e,t,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(e=0;e<r;e++)s[e]&&(t=rx(s[e]))&&(n&&(n+=" "),n+=t)}else for(t in s)s[t]&&(n&&(n+=" "),n+=t);return n}function du(){for(var s,e,t=0,n="",r=arguments.length;t<r;t++)(s=arguments[t])&&(e=rx(s))&&(n&&(n+=" "),n+=e);return n}var Jv=Object.prototype.hasOwnProperty;function Zv(s,e,t){for(t of s.keys())if(Di(t,e))return t}function Di(s,e){var t,n,r;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((n=s.length)===e.length)for(;n--&&Di(s[n],e[n]););return n===-1}if(t===Set){if(s.size!==e.size)return!1;for(n of s)if(r=n,r&&typeof r=="object"&&(r=Zv(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(s.size!==e.size)return!1;for(n of s)if(r=n[0],r&&typeof r=="object"&&(r=Zv(e,r),!r)||!Di(n[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)s=new Uint8Array(s),e=new Uint8Array(e);else if(t===DataView){if((n=s.byteLength)===e.byteLength)for(;n--&&s.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(s)){if((n=s.byteLength)===e.byteLength)for(;n--&&s[n]===e[n];);return n===-1}if(!t||typeof s=="object"){n=0;for(t in s)if(Jv.call(s,t)&&++n&&!Jv.call(e,t)||!(t in e)||!Di(s[t],e[t]))return!1;return Object.keys(e).length===n}}return s!==s&&e!==e}function Fa(s){let e=!1;return{promise:new Promise((n,r)=>{s.then(a=>!e&&n(a)).catch(a=>!e&&r(a))}),cancel(){e=!0}}}const mN=["onCopy","onCut","onPaste"],vN=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],yN=["onFocus","onBlur"],wN=["onInput","onInvalid","onReset","onSubmit"],bN=["onLoad","onError"],xN=["onKeyDown","onKeyPress","onKeyUp"],SN=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],EN=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],AN=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],CN=["onSelect"],_N=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],kN=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],TN=["onScroll"],RN=["onWheel"],PN=["onAnimationStart","onAnimationEnd","onAnimationIteration"],NN=["onTransitionEnd"],LN=["onToggle"],MN=["onChange"],IN=[...mN,...vN,...yN,...wN,...bN,...xN,...SN,...EN,...AN,...CN,..._N,...kN,...TN,...RN,...PN,...NN,...MN,...LN];function sx(s,e){const t={};for(const n of IN){const r=s[n];r&&(e?t[n]=(a=>r(a,e(n))):t[n]=r)}return t}var ON="Invariant failed";function We(s,e){if(!s)throw new Error(ON)}var Mh,ey;function DN(){if(ey)return Mh;ey=1;var s=function(){};return Mh=s,Mh}var FN=DN();const Kt=Bc(FN),ix=_.createContext(null),jN="noopener noreferrer nofollow";class $N{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return We(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){We(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{We(this.pdfDocument),We(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{We(Array.isArray(t));const n=t[0];new Promise(r=>{We(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{r(a)}).catch(()=>{We(!1)}):typeof n=="number"?r(n):We(!1)}).then(r=>{const a=r+1;We(this.pdfViewer),We(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;We(this.pdfViewer),We(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||jN,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Fi({children:s,type:e}){return A.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:s})}const ty={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function BN(s,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function Vi(){return _.useReducer(BN,{value:void 0,error:void 0})}const hu=typeof window<"u",ox=hu&&window.location.protocol==="file:";function zN(s){return typeof s<"u"}function Ds(s){return zN(s)&&s!==null}function HN(s){return typeof s=="string"}function UN(s){return s instanceof ArrayBuffer}function VN(s){return We(hu),s instanceof Blob}function Df(s){return HN(s)&&/^data:/.test(s)}function ny(s){We(Df(s));const[e="",t=""]=s.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function WN(){return hu&&window.devicePixelRatio||1}const ax="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ry(){Kt(!ox,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${ax}`)}function GN(){Kt(!ox,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${ax}`)}function Zs(s){s?.cancel&&s.cancel()}function Ff(s,e){return Object.defineProperty(s,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function qN(s){return s.name==="RenderingCancelledException"}function XN(s){return new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return t(new Error("Error while reading a file."));e(n.result)},n.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:a}=r.target;if(!a)return t(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(s)})}const{PDFDataRangeTransport:KN}=gN,YN=(s,e)=>{switch(e){case ty.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");s(t);break}case ty.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");s(t);break}}};function sy(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const iy=_.forwardRef(function({children:e,className:t,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:g,onLoadError:m,onLoadProgress:y,onLoadSuccess:x,onPassword:b=YN,onSourceError:S,onSourceSuccess:E,options:T,renderMode:C,rotate:P,scale:R,...L},N){const[D,j]=Vi(),{value:B,error:G}=D,[Y,Q]=Vi(),{value:X,error:re}=Y,U=_.useRef(new $N),V=_.useRef([]),K=_.useRef(void 0),ee=_.useRef(void 0);l&&l!==K.current&&sy(l)&&(Kt(!Di(l,K.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),K.current=l),T&&T!==ee.current&&(Kt(!Di(T,ee.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ee.current=T);const te=_.useRef({scrollPageIntoView:ke=>{const{dest:Le,pageNumber:He,pageIndex:De=He-1}=ke;if(g){g({dest:Le,pageIndex:De,pageNumber:He});return}const kt=V.current[De];if(kt){kt.scrollIntoView();return}Kt(!1,`An internal link leading to page ${He} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});_.useImperativeHandle(N,()=>({linkService:U,pages:V,viewer:te}),[]);function O(){E&&E()}function H(){G&&(Kt(!1,G.toString()),S&&S(G))}function ie(){j({type:"RESET"})}_.useEffect(ie,[l,j]);const ae=_.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Df(l)?{data:ny(l)}:(ry(),{url:l});if(l instanceof KN)return{range:l};if(UN(l))return{data:l};if(hu&&VN(l))return{data:await XN(l)};if(We(typeof l=="object"),We(sy(l)),"url"in l&&typeof l.url=="string"){if(Df(l.url)){const{url:ke,...Le}=l;return{data:ny(ke),...Le}}ry()}return l},[l]);_.useEffect(()=>{const ke=Fa(ae());return ke.promise.then(Le=>{j({type:"RESOLVE",value:Le})}).catch(Le=>{j({type:"REJECT",error:Le})}),()=>{Zs(ke)}},[ae,j]),_.useEffect(()=>{if(!(typeof B>"u")){if(B===!1){H();return}O()}},[B]);function oe(){X&&(x&&x(X),V.current=new Array(X.numPages),U.current.setDocument(X))}function le(){re&&(Kt(!1,re.toString()),m&&m(re))}_.useEffect(function(){Q({type:"RESET"})},[Q,B]),_.useEffect(function(){if(!B)return;const Le=T?{...B,...T}:B,He=Sp(Le);y&&(He.onProgress=y),b&&(He.onPassword=b);const De=He,kt=De.promise.then(It=>{Q({type:"RESOLVE",value:It})}).catch(It=>{De.destroyed||Q({type:"REJECT",error:It})});return()=>{kt.finally(()=>De.destroy())}},[T,Q,B]),_.useEffect(()=>{if(!(typeof X>"u")){if(X===!1){le();return}oe()}},[X]),_.useEffect(function(){U.current.setViewer(te.current),U.current.setExternalLinkRel(r),U.current.setExternalLinkTarget(a)},[r,a]);const ce=_.useCallback((ke,Le)=>{V.current[ke]=Le},[]),Ee=_.useCallback(ke=>{delete V.current[ke]},[]),Ae=_.useMemo(()=>({imageResourcesPath:d,linkService:U.current,onItemClick:g,pdf:X,registerPage:ce,renderMode:C,rotate:P,scale:R,unregisterPage:Ee}),[d,g,X,ce,C,P,R,Ee]),we=_.useMemo(()=>sx(L,()=>X),[L,X]);function nt(){function ke(He){return!!He?.pdf}if(!ke(Ae))throw new Error("pdf is undefined");const Le=typeof e=="function"?e(Ae):e;return A.jsx(ix.Provider,{value:Ae,children:Le})}function Ge(){return l?X==null?A.jsx(Fi,{type:"loading",children:typeof h=="function"?h():h}):X===!1?A.jsx(Fi,{type:"error",children:typeof n=="function"?n():n}):nt():A.jsx(Fi,{type:"no-data",children:typeof f=="function"?f():f})}return A.jsx("div",{className:du("react-pdf__Document",t),ref:c,...we,children:Ge()})});function lx(){return _.useContext(ix)}function cx(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];var t=s.filter(Boolean);if(t.length<=1){var n=t[0];return n||null}return function(a){for(var l=0,c=t;l<c.length;l++){var d=c[l];typeof d=="function"?d(a):d&&(d.current=a)}}}const ux=_.createContext(null);function fu(){return _.useContext(ux)}function QN(){const s=lx(),e=fu();We(e);const t={...s,...e},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:h,pdf:f,renderForms:g,rotate:m,scale:y=1}=t;We(f),We(h),We(r);const[x,b]=Vi(),{value:S,error:E}=x,T=_.useRef(null);Kt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){S&&l&&l(S)}function P(){E&&(Kt(!1,E.toString()),a&&a(E))}_.useEffect(function(){b({type:"RESET"})},[b,h]),_.useEffect(function(){if(!h)return;const j=Fa(h.getAnnotations()),B=j;return j.promise.then(G=>{b({type:"RESOLVE",value:G})}).catch(G=>{b({type:"REJECT",error:G})}),()=>{Zs(B)}},[b,h]),_.useEffect(()=>{if(S!==void 0){if(S===!1){P();return}C()}},[S]);function R(){d&&d()}function L(D){Kt(!1,`${D}`),c&&c(D)}const N=_.useMemo(()=>h.getViewport({scale:y,rotation:m}),[h,m,y]);return _.useEffect(function(){if(!f||!h||!r||!S)return;const{current:j}=T;if(!j)return;const B=N.clone({dontFlip:!0}),G={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:j,l10n:null,page:h,structTreeLayer:null,viewport:B},Y={annotations:S,annotationStorage:f.annotationStorage,div:j,imageResourcesPath:n,linkService:r,page:h,renderForms:g,viewport:B};j.innerHTML="";try{new kp(G).render(Y),R()}catch(Q){L(Q)}return()=>{}},[S,n,r,h,f,g,N]),A.jsx("div",{className:du("react-pdf__Page__annotations","annotationLayer"),ref:T})}const dx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},JN=/^H(\d+)$/;function ZN(s){return s in dx}function pu(s){return"children"in s}function hx(s){return pu(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function eL(s){const e={};if(pu(s)){const{role:t}=s,n=t.match(JN);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(ZN(t)){const r=dx[t];r&&(e.role=r)}}return e}function fx(s){const e={};if(pu(s)){if(s.alt!==void 0&&(e["aria-label"]=s.alt),s.lang!==void 0&&(e.lang=s.lang),hx(s)){const[t]=s.children;if(t){const n=fx(t);return{...e,...n}}}}else"id"in s&&(e["aria-owns"]=s.id);return e}function tL(s){return s?{...eL(s),...fx(s)}:null}function px({className:s,node:e}){const t=_.useMemo(()=>tL(e),[e]),n=_.useMemo(()=>!pu(e)||hx(e)?null:e.children.map((r,a)=>A.jsx(px,{node:r},a)),[e]);return A.jsx("span",{className:s,...t,children:n})}function nL(){const s=fu();We(s);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=s,[n,r]=Vi(),{value:a,error:l}=n,{customTextRenderer:c,page:d}=s;function h(){a&&t&&t(a)}function f(){l&&(Kt(!1,l.toString()),e&&e(l))}return _.useEffect(function(){r({type:"RESET"})},[r,d]),_.useEffect(function(){if(c||!d)return;const m=Fa(d.getStructTree()),y=m;return m.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>Zs(y)},[c,d,r]),_.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}h()}},[a]),a?A.jsx(px,{className:"react-pdf__Page__structTree structTree",node:a}):null}const oy=Sr;function rL(s){const e=fu();We(e);const t={...e,...s},{_className:n,canvasBackground:r,devicePixelRatio:a=WN(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:h,renderTextLayer:f,rotate:g,scale:m}=t,{canvasRef:y}=s;We(d);const x=_.useRef(null);function b(){d&&c&&c(Ff(d,m))}function S(P){qN(P)||(Kt(!1,P.toString()),l&&l(P))}const E=_.useMemo(()=>d.getViewport({scale:m*a,rotation:g}),[a,d,g,m]),T=_.useMemo(()=>d.getViewport({scale:m,rotation:g}),[d,g,m]);_.useEffect(function(){if(!d)return;d.cleanup();const{current:R}=x;if(!R)return;R.width=E.width,R.height=E.height,R.style.width=`${Math.floor(T.width)}px`,R.style.height=`${Math.floor(T.height)}px`,R.style.visibility="hidden";const L={annotationMode:h?oy.ENABLE_FORMS:oy.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:E};r&&(L.background=r);const N=d.render(L),D=N;return N.promise.then(()=>{R.style.visibility="",b()}).catch(S),()=>Zs(D)},[r,d,h,E,T]);const C=_.useCallback(()=>{const{current:P}=x;P&&(P.width=0,P.height=0)},[]);return _.useEffect(()=>C,[C]),A.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:cx(y,x),style:{display:"block",userSelect:"none"},children:f?A.jsx(nL,{}):null})}function sL(s){return"str"in s}function iL(){const s=fu();We(s);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:d,rotate:h,scale:f}=s;We(l);const[g,m]=Vi(),{value:y,error:x}=g,b=_.useRef(null);Kt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){y&&n&&n(y)}function E(){x&&(Kt(!1,x.toString()),t&&t(x))}_.useEffect(function(){m({type:"RESET"})},[l,m]),_.useEffect(function(){if(!l)return;const D=Fa(l.getTextContent()),j=D;return D.promise.then(B=>{m({type:"RESOLVE",value:B})}).catch(B=>{m({type:"REJECT",error:B})}),()=>Zs(j)},[l,m]),_.useEffect(()=>{if(y!==void 0){if(y===!1){E();return}S()}},[y]);const T=_.useCallback(()=>{a&&a()},[a]),C=_.useCallback(N=>{Kt(!1,N.toString()),r&&r(N)},[r]);function P(){const N=b.current;N&&N.classList.add("selecting")}function R(){const N=b.current;N&&N.classList.remove("selecting")}const L=_.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);return _.useLayoutEffect(function(){if(!l||!y)return;const{current:D}=b;if(!D)return;D.innerHTML="";const j=l.streamTextContent({includeMarkedContent:!0}),B={container:D,textContentSource:j,viewport:L},G=new va(B),Y=G;return G.render().then(()=>{const Q=document.createElement("div");Q.className="endOfContent",D.append(Q);const X=D.querySelectorAll('[role="presentation"]');if(e){let re=0;y.items.forEach((U,V)=>{if(!sL(U))return;const K=X[re];if(!K)return;const ee=e({pageIndex:c,pageNumber:d,itemIndex:V,...U});K.innerHTML=ee,re+=U.str&&U.hasEOL?2:1})}T()}).catch(C),()=>Zs(Y)},[e,C,T,l,c,d,y,L]),A.jsx("div",{className:du("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:P,ref:b})}const ay=1;function ly(s){const t={...lx(),...s},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:a,canvasRef:l,children:c,className:d,customRenderer:h,customTextRenderer:f,devicePixelRatio:g,error:m="Failed to load the page.",height:y,inputRef:x,loading:b="Loading page",noData:S="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:P,onGetTextError:R,onGetTextSuccess:L,onLoadError:N,onLoadSuccess:D,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:B,onRenderError:G,onRenderSuccess:Y,onRenderTextLayerError:Q,onRenderTextLayerSuccess:X,pageIndex:re,pageNumber:U,pdf:V,registerPage:K,renderAnnotationLayer:ee=!0,renderForms:te=!1,renderMode:O="canvas",renderTextLayer:H=!0,rotate:ie,scale:ae=ay,unregisterPage:oe,width:le,...ce}=t,[Ee,Ae]=Vi(),{value:we,error:nt}=Ee,Ge=_.useRef(null);We(V);const ke=Ds(U)?U-1:re??null,Le=U??(Ds(re)?re+1:null),He=ie??(we?we.rotate:null),De=_.useMemo(()=>{if(!we)return null;let tn=1;const mn=ae??ay;if(le||y){const vn=we.getViewport({scale:1,rotation:He});le?tn=le/vn.width:y&&(tn=y/vn.height)}return mn*tn},[y,we,He,ae,le]);_.useEffect(function(){return()=>{Ds(ke)&&r&&oe&&oe(ke)}},[r,V,ke,oe]);function kt(){if(D){if(!we||!De)return;D(Ff(we,De))}if(r&&K){if(!Ds(ke)||!Ge.current)return;K(ke,Ge.current)}}function It(){nt&&(Kt(!1,nt.toString()),N&&N(nt))}_.useEffect(function(){Ae({type:"RESET"})},[Ae,V,ke]),_.useEffect(function(){if(!V||!Le)return;const mn=Fa(V.getPage(Le)),vn=mn;return mn.promise.then(Un=>{Ae({type:"RESOLVE",value:Un})}).catch(Un=>{Ae({type:"REJECT",error:Un})}),()=>Zs(vn)},[Ae,V,Le]),_.useEffect(()=>{if(we!==void 0){if(we===!1){It();return}kt()}},[we,De]);const $t=_.useMemo(()=>Ds(ke)&&Le&&Ds(He)&&Ds(De)?{_className:n,canvasBackground:a,customTextRenderer:f,devicePixelRatio:g,onGetAnnotationsError:E,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:P,onGetTextError:R,onGetTextSuccess:L,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:B,onRenderError:G,onRenderSuccess:Y,onRenderTextLayerError:Q,onRenderTextLayerSuccess:X,page:we,pageIndex:ke,pageNumber:Le,renderForms:te,renderTextLayer:H,rotate:He,scale:De}:null,[n,a,f,g,E,T,C,P,R,L,j,B,G,Y,Q,X,we,ke,Le,te,H,He,De]),Ot=_.useMemo(()=>sx(ce,()=>we&&(De?Ff(we,De):void 0)),[ce,we,De]),je=`${ke}@${De}/${He}`;function qe(){switch(O){case"custom":return We(h),A.jsx(h,{},`${je}_custom`);case"none":return null;case"canvas":default:return A.jsx(rL,{canvasRef:l},`${je}_canvas`)}}function xt(){return H?A.jsx(iL,{},`${je}_text`):null}function Bt(){return ee?A.jsx(QN,{},`${je}_annotations`):null}function St(){function tn(vn){return!!vn?.page}if(!tn($t))throw new Error("page is undefined");const mn=typeof c=="function"?c($t):c;return A.jsxs(ux.Provider,{value:$t,children:[qe(),xt(),Bt(),mn]})}function Vr(){return Le?V===null||we===void 0||we===null?A.jsx(Fi,{type:"loading",children:typeof b=="function"?b():b}):V===!1||we===!1?A.jsx(Fi,{type:"error",children:typeof m=="function"?m():m}):St():A.jsx(Fi,{type:"no-data",children:typeof S=="function"?S():S})}return A.jsx("div",{className:du(n,d),"data-page-number":Le,ref:cx(x,Ge),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${De}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ot,children:Vr()})}GN();vs.workerSrc="pdf.worker.mjs";vs.workerSrc=new URL("/assets/pdf.worker.min--PgD6g2g.mjs",import.meta.url).toString();function oL({driver:s,onClose:e}){const[t,n]=_.useState(null),[r,a]=_.useState(!1),[l,c]=_.useState(null),d=m=>{const y=m.split(".").pop().toLowerCase();return y==="pdf"?"PDF":["jpg","jpeg","png","gif","avif"].includes(y)?"Image":"Document"};s.documents=s.documents.map(m=>{const y=d(m.url);return{...m,type:y}});const h=m=>(console.log(m),m.toLowerCase()==="pdf"?A.jsx(Mi,{className:"w-5 h-5"}):A.jsx(rA,{className:"w-5 h-5"})),f=m=>"http://ec2-16-170-158-105.eu-north-1.compute.amazonaws.com"+m,g=async m=>{try{const y=await fetch(f(m.url),{method:"GET"});if(!y.ok)throw new Error("Failed to fetch file");const x=await y.blob(),b=window.URL.createObjectURL(x),S=document.createElement("a");S.href=b,S.download=m.name||`${m.type}_${s.name}`,document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(b)}catch(y){console.error("Download failed:",y)}};return A.jsxs("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[A.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[A.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-emerald-400",children:"Documents"}),A.jsxs("p",{className:"text-gray-400 mt-1",children:[s.name," - ",s.email]})]}),A.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-colors",children:A.jsx(jh,{className:"w-6 h-6"})})]}),A.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[A.jsxs("div",{className:"w-1/3 border-r border-gray-700 p-4 overflow-y-auto",children:[A.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["All Documents (",s.documents?.length||0,")"]}),s.documents&&s.documents.length>0?A.jsx("div",{className:"space-y-3",children:s.documents.map((m,y)=>A.jsx("div",{className:`cursor-pointer transition-all border border-gray-600 bg-gray-800 hover:bg-gray-750 rounded-lg p-4 ${t===m?"ring-2 ring-emerald-400 bg-gray-750":""}`,onClick:()=>n(m),children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"text-emerald-400",children:h(m.type)}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"font-medium text-white truncate",children:m.name}),A.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs font-medium bg-gray-700 text-gray-300 rounded-md",children:m.name})]})]})},y))}):A.jsxs("div",{className:"text-center py-8",children:[A.jsx(Mi,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),A.jsx("p",{className:"text-gray-500",children:"No documents uploaded"})]})]}),A.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:t?A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-semibold text-white",children:t.name||t.type}),A.jsxs("p",{className:"text-gray-400 mt-1",children:["Document Type: ",t.type]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>a(!r),className:"flex items-center px-3 py-2 text-sm font-medium text-gray-300 bg-transparent border border-gray-600 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-colors cursor-pointer",children:[A.jsx(Xf,{className:"w-4 h-4 mr-2"}),"View Full"]}),A.jsxs("button",{onClick:()=>g(t),className:"flex items-center px-3 py-2 text-sm font-medium text-gray-300 bg-transparent border border-gray-600 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-colors cursor-pointer",children:[A.jsx(qE,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),A.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:t.type==="PDF"?A.jsx("div",{className:"w-full flex justify-center",children:A.jsx(iy,{file:f(t.url),onLoadSuccess:({numPages:m})=>c(m),children:Array.from(new Array(l),(m,y)=>A.jsx(ly,{pageNumber:y+1,width:600},`page_${y+1}`))})}):A.jsx("img",{src:f(t.url)||"/placeholder.svg",alt:t.name||t.type,className:"w-full h-auto max-h-[500px] object-contain rounded-lg",onError:m=>{m.currentTarget.src="/placeholder.svg?height=300&width=400&text=Document+Preview+Not+Available"}})})]}):A.jsx("div",{className:"flex items-center justify-center h-full",children:A.jsxs("div",{className:"text-center",children:[A.jsx(Mi,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-500 text-lg",children:"Select a document to preview"})]})})})]})]}),r&&A.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[A.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-emerald-400",children:t.name||t.type}),A.jsxs("p",{className:"text-gray-400 mt-1",children:["Document Type: ",t.type]})]}),A.jsx("button",{onClick:()=>a(!1),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-colors",children:A.jsx(jh,{className:"w-6 h-6"})})]}),t.type==="PDF"?A.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:A.jsx(iy,{file:f(t.url),onLoadSuccess:({numPages:m})=>c(m),children:Array.from(new Array(l),(m,y)=>A.jsx(ly,{pageNumber:y+1},`page_${y+1}`))})}):A.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:A.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:A.jsx("img",{src:f(t.url),alt:t.name||t.type,className:"w-full h-auto max-h-[500px] object-contain rounded-lg"})})})]})})]})}function aL(){const[s,e]=_.useState([]),[t,n]=_.useState([]),[r,a]=_.useState(!0),[l,c]=_.useState(""),[d,h]=_.useState("all"),[f,g]=_.useState(null),[m,y]=_.useState(null),[x,b]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const P=await Er.get("/admin/drivers",{withCredentials:!0});e(P.data||[]),n(P.data||[])}catch(P){console.error("Error fetching drivers:",P)}finally{a(!1)}})()},[]),_.useEffect(()=>{let C=s;l&&(C=C.filter(P=>P.name.toLowerCase().includes(l.toLowerCase())||P.email.toLowerCase().includes(l.toLowerCase())||P.phone.includes(l))),d!=="all"&&(C=C.filter(P=>P.status===d)),n(C)},[s,l,d]);const S=async(C,P)=>{y(C);try{await Er.patch(`/admin/drivers/${C}`,{status:P}),e(R=>R.map(L=>L._id===C?{...L,status:P}:L))}catch(R){console.error(`Error updating driver ${P}:`,R)}finally{y(null)}},E=C=>{switch(C){case"approved":return A.jsx(oh,{className:"w-4 h-4"});case"rejected":return A.jsx(ah,{className:"w-4 h-4"});default:return A.jsx(w0,{className:"w-4 h-4"})}},T=C=>{switch(C){case"approved":return"bg-green-500/20 text-green-400 border-green-500/30";case"rejected":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"}};return r?A.jsx("div",{className:"flex items-center justify-center h-screen bg-black",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-400 mx-auto mb-4"}),A.jsx("p",{className:"text-emerald-400 text-xl",children:"Loading drivers..."})]})}):A.jsxs("div",{className:"min-h-screen bg-black text-white",children:[A.jsx("div",{className:"border-b border-gray-800 bg-gray-900/50 backdrop-blur-sm sticky top-0 z-40",children:A.jsxs("div",{className:"p-6",children:[A.jsx("h1",{className:"text-3xl font-bold text-emerald-400 mb-6",children:"Admin Dashboard"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[A.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Total Drivers"}),A.jsx("p",{className:"text-2xl font-bold text-white",children:s.length})]}),A.jsx("div",{className:"text-emerald-400",children:A.jsx(Mi,{className:"w-8 h-8"})})]})}),A.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Pending"}),A.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:s.filter(C=>C.status==="pending"||!C.status).length})]}),A.jsx(w0,{className:"w-8 h-8 text-yellow-400"})]})}),A.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Approved"}),A.jsx("p",{className:"text-2xl font-bold text-green-400",children:s.filter(C=>C.status==="approved").length})]}),A.jsx(oh,{className:"w-8 h-8 text-green-400"})]})}),A.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-gray-400 text-sm",children:"Rejected"}),A.jsx("p",{className:"text-2xl font-bold text-red-400",children:s.filter(C=>C.status==="rejected").length})]}),A.jsx(ah,{className:"w-8 h-8 text-red-400"})]})})]}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[A.jsxs("div",{className:"relative flex-1",children:[A.jsx(aA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),A.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:l,onChange:C=>c(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-transparent"})]}),A.jsxs("div",{className:"relative w-full md:w-48",children:[A.jsxs("button",{onClick:()=>b(!x),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-800 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-emerald-400",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(ZE,{className:"w-4 h-4 mr-2"}),A.jsx("span",{children:d==="all"?"All Status":d.charAt(0).toUpperCase()+d.slice(1)})]}),A.jsx("svg",{className:`w-4 h-4 transition-transform ${x?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&A.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-md shadow-lg z-10",children:["all","pending","approved","rejected"].map(C=>A.jsx("button",{onClick:()=>{h(C),b(!1)},className:"w-full px-3 py-2 text-left text-white hover:bg-gray-700 first:rounded-t-md last:rounded-b-md",children:C==="all"?"All Status":C.charAt(0).toUpperCase()+C.slice(1)},C))})]})]})]})}),A.jsx("div",{className:"p-6",children:t.length===0?A.jsxs("div",{className:"text-center py-12",children:[A.jsx(Mi,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-400 text-lg",children:s.length===0?"No drivers found.":"No drivers match your search criteria."})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(C=>A.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg hover:border-gray-600 transition-all duration-200 hover:shadow-lg hover:shadow-emerald-400/10",children:[A.jsx("div",{className:"p-6 pb-3",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"text-xl text-emerald-400 font-semibold",children:C.name}),A.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium border ${T(C.status||"pending")}`,children:[E(C.status||"pending"),C.status||"pending"]})]})}),A.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsxs("p",{className:"text-gray-400 text-sm",children:[A.jsx("span",{className:"font-medium",children:"Email:"})," ",C.email]}),A.jsxs("p",{className:"text-gray-400 text-sm",children:[A.jsx("span",{className:"font-medium",children:"Phone:"})," ",C.phone]})]}),A.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsx("h4",{className:"text-sm font-medium text-emerald-400",children:"Documents"}),A.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-700 text-gray-300",children:[C.documents?.length||0," files"]})]}),C.documents&&C.documents.length>0?A.jsxs("div",{className:"space-y-1",children:[C.documents.slice(0,2).map((P,R)=>A.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[A.jsx(Mi,{className:"w-3 h-3"}),A.jsx("span",{className:"truncate",children:P.name||P.type})]},R)),C.documents.length>2&&A.jsxs("p",{className:"text-xs text-gray-500",children:["+",C.documents.length-2," more documents"]})]}):A.jsx("p",{className:"text-xs text-gray-500",children:"No documents uploaded"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsxs("button",{onClick:()=>g(C),className:"flex-1 flex items-center justify-center px-3 py-2 text-sm font-medium text-gray-300 bg-transparent border border-gray-600 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-colors",children:[A.jsx(Xf,{className:"w-4 h-4 mr-2"}),"View Docs"]}),C.status!=="approved"&&A.jsx("button",{onClick:()=>S(C._id,"approved"),disabled:m===C._id,className:"flex items-center justify-center px-3 py-2 text-sm font-medium text-black bg-emerald-500 rounded-md hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m===C._id?A.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-black border-t-transparent"}):A.jsxs(A.Fragment,{children:[A.jsx(oh,{className:"w-4 h-4 mr-1"}),"Approve"]})}),C.status!=="rejected"&&A.jsx("button",{onClick:()=>S(C._id,"rejected"),disabled:m===C._id,className:"flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-red-500 rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m===C._id?A.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):A.jsxs(A.Fragment,{children:[A.jsx(ah,{className:"w-4 h-4 mr-1"}),"Reject"]})})]})]})]},C._id))})}),f&&A.jsx(oL,{driver:f,onClose:()=>g(null)})]})}function lL(){return A.jsx(aL,{})}function cL(){const[s,e]=_.useState([]),[t,n]=_.useState(!0),[r,a]=_.useState(null),[l,c]=_.useState(""),[d,h]=_.useState("all"),[f,g]=_.useState(null);_.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const E=await Er.get("/admin/drivers");e(E.data),a(null)}catch(E){a("Failed to fetch drivers"),console.error("Error fetching drivers:",E)}finally{n(!1)}},y=s.filter(E=>{const T=E.firstName.toLowerCase().includes(l.toLowerCase())||E.lastName.toLowerCase().includes(l.toLowerCase())||E.email.toLowerCase().includes(l.toLowerCase())||E.phoneNumber.includes(l)||E.licenseNumber.toLowerCase().includes(l.toLowerCase()),C=d==="all"||E.approveStatus===d;return T&&C}),x=E=>{switch(E){case"approved":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=E=>E?"bg-green-500":"bg-gray-400",S=E=>{g(f===E?null:E)};return t?A.jsx("div",{className:"min-h-screen dark:bg-gray-900 p-6",children:A.jsx("div",{className:"max-w-7xl mx-auto",children:A.jsxs("div",{className:"animate-pulse",children:[A.jsx("div",{className:"h-8 bg-gray-400 rounded w-1/4 mb-6"}),A.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((E,T)=>A.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[A.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-4"}),A.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-2"}),A.jsx("div",{className:"h-4 bg-gray-300 rounded w-2/3"})]},T))})]})})}):r?A.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:A.jsx("div",{className:"max-w-7xl mx-auto",children:A.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[A.jsx("div",{className:"text-red-600 text-lg font-medium mb-2",children:"Error Loading Drivers"}),A.jsx("div",{className:"text-red-500 mb-4",children:r}),A.jsx("button",{onClick:m,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})})}):A.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsx("div",{className:"flex justify-between items-center mb-8",children:A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Drivers Management"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and monitor all registered drivers"})]})}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Drivers"}),A.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.length})]}),A.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:A.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Online Now"}),A.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s.filter(E=>E.isOnline).length})]}),A.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:A.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Approved"}),A.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.filter(E=>E.approveStatus==="approved").length})]}),A.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:A.jsx("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border dark:border-gray-700",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"}),A.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:s.filter(E=>E.approveStatus==="pending").length})]}),A.jsx("div",{className:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center",children:A.jsx("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border dark:border-gray-700 mb-8",children:A.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[A.jsx("div",{className:"flex-1",children:A.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or license number...",value:l,onChange:E=>c(E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),A.jsxs("div",{className:"relative",children:[A.jsxs("select",{value:d,onChange:E=>h(E.target.value),className:"appearance-none bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-2 pr-8 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white",children:[A.jsx("option",{value:"all",children:"All Status"}),A.jsx("option",{value:"pending",children:"Pending"}),A.jsx("option",{value:"approved",children:"Approved"}),A.jsx("option",{value:"rejected",children:"Rejected"})]}),A.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:A.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),A.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700 overflow-hidden",children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full",children:[A.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Driver"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Vehicle"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Stats"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:y.map(E=>A.jsxs(Qe.Fragment,{children:[A.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsxs("div",{className:"flex items-center",children:[A.jsxs("div",{className:"relative",children:[E.profilePicture?A.jsx("img",{src:`http://ec2-16-170-158-105.eu-north-1.compute.amazonaws.com${E.profilePicture}`,alt:`${E.firstName} ${E.lastName}`,className:"w-10 h-10 rounded-full object-cover"}):A.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center",children:A.jsxs("span",{className:"text-gray-600 dark:text-gray-300 font-medium text-sm",children:[E.firstName[0],E.lastName[0]]})}),A.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white dark:border-gray-800 ${b(E.isOnline)}`})]}),A.jsxs("div",{className:"ml-4",children:[A.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[E.firstName," ",E.lastName]}),A.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",E.licenseNumber]})]})]})}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[A.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:E.email}),A.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:E.phoneNumber})]}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[A.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[E.vehicleDetails.make," ",E.vehicleDetails.model]}),A.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.vehicleDetails.year," "," ",E.vehicleDetails.plateNumber]})]}),A.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[A.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(E.approveStatus)}`,children:E.approveStatus}),A.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 capitalize",children:E.status.replace("_"," ")})]}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:E.totalRides}),A.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rides"})]}),A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:E.averageRating.toFixed(1)}),A.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rating"})]}),A.jsxs("div",{className:"text-center",children:[A.jsxs("div",{className:"font-medium text-green-600 dark:text-green-400",children:["$",E.totalEarnings.toFixed(0)]}),A.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Earned"})]})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:A.jsx("button",{onClick:()=>S(E._id),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors",children:f===E._id?"Hide":"Details"})})]}),f===E._id&&A.jsx("tr",{children:A.jsx("td",{colSpan:6,className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Vehicle Information"}),A.jsxs("div",{className:"space-y-2 text-sm",children:[A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),A.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:E.vehicleDetails.carType})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Capacity:"}),A.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[E.vehicleDetails.capacity," seats"]})]})]})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Address"}),A.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[E?.address?.street,", ",E?.address?.city,","," ",E?.address?.country]})]}),A.jsxs("div",{children:[A.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:["Documents (",E.documents.length,")"]}),A.jsxs("div",{className:"space-y-1",children:[E.documents.slice(0,3).map((T,C)=>A.jsxs("div",{className:"flex items-center justify-between text-sm",children:[A.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:T.name}),A.jsx("a",{href:`http://ec2-16-170-158-105.eu-north-1.compute.amazonaws.com${T.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline ml-2",children:"View"})]},C)),E.documents.length>3&&A.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",E.documents.length-3," more documents"]})]})]})]})})})]},E._id))})]})})}),y.length===0&&A.jsxs("div",{className:"text-center py-12",children:[A.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),A.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No drivers found"}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter criteria."})]})]})})}const cy=({children:s})=>{const e=Xi(),[t,n]=_.useState(null),[r,a]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const d=(await Er.get("/admin/protected")).data?.status;n(d),d||e("/",{replace:!0})}catch(c){console.error("Auth check failed:",c),n(!1),e("/",{replace:!0})}finally{a(!1)}})()},[e]),r?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})}):t?s:A.jsx(kc,{to:"/",replace:!0})},uL=({children:s})=>{const e=Xi(),[t,n]=_.useState(null),[r,a]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const d=(await Er.get("/admin/protected")).data?.status;n(d),d&&e("/dashboard",{replace:!0})}catch{n(!1)}finally{a(!1)}})()},[e]),r?A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:A.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})}):t?A.jsx(kc,{to:"/dashboard",replace:!0}):s},dL=[{element:A.jsx(FE,{}),children:[{path:"/",element:A.jsx(uL,{children:A.jsx(M2,{})})},{path:"*",element:A.jsx(kc,{to:"/",replace:!0})}]},{element:A.jsx(WC,{}),children:[{path:"/dashboard",element:A.jsx(cy,{children:A.jsx(lL,{})})},{path:"/drivers",element:A.jsx(cy,{children:A.jsx(cL,{})})},{path:"*",element:A.jsx(kc,{to:"/dashboard",replace:!0})}]}];function hL(){const{theme:s}=tw();return A.jsx("div",{className:s,children:A.jsx(_E,{children:A.jsx("div",{className:"App min-h-screen bg-background text-foreground",children:A.jsx(rE,{children:dL.map((e,t)=>A.jsx(Oh,{path:e.path,element:e.element,children:e.children&&e.children.map((n,r)=>A.jsx(Oh,{path:n.path,element:n.element},r))},t))})})})})}function fL(){return A.jsx(UC,{children:A.jsx(hL,{})})}dS.createRoot(document.getElementById("root")).render(A.jsx(_.StrictMode,{children:A.jsx(fL,{})}));
